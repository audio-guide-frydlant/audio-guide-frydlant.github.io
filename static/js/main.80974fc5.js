/*! For license information please see main.80974fc5.js.LICENSE.txt */
!function(){var e={9212:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)([(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,o.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");t.Z=i},7394:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=i},8264:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=i},1334:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4 2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}),"Collections");t.Z=i},4018:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.Z=i},3742:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M9 4v1.38c-.83-.33-1.72-.5-2.61-.5-1.79 0-3.58.68-4.95 2.05l3.33 3.33h1.11v1.11c.86.86 1.98 1.31 3.11 1.36V15H6v3c0 1.1.9 2 2 2h10c1.66 0 3-1.34 3-3V4H9zm-1.11 6.41V8.26H5.61L4.57 7.22a5.07 5.07 0 0 1 1.82-.34c1.34 0 2.59.52 3.54 1.46l1.41 1.41-.2.2c-.51.51-1.19.8-1.92.8-.47 0-.93-.12-1.33-.34zM19 17c0 .55-.45 1-1 1s-1-.45-1-1v-2h-6v-2.59c.57-.23 1.1-.57 1.56-1.03l.2-.2L15.59 14H17v-1.41l-6-5.97V6h8v11z"}),"HistoryEdu");t.Z=i},3970:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"m6 2 .01 6L10 12l-3.99 4.01L6 22h12v-6l-4-4 4-3.99V2H6zm10 14.5V20H8v-3.5l4-4 4 4z"}),"HourglassTop");t.Z=i},5878:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=i},5172:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=i},3229:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"LocalPhone");t.Z=i},4941:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M14 6v15H3v-2h2V3h9v1h5v15h2v2h-4V6h-3zm-4 5v2h2v-2h-2z"}),"MeetingRoom");t.Z=i},9065:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm.88 13.75h-1.75V14h1.75v1.75zm0-2.87h-1.75c0-2.84 2.62-2.62 2.62-4.38 0-.96-.79-1.75-1.75-1.75s-1.75.79-1.75 1.75H8.5C8.5 6.57 10.07 5 12 5s3.5 1.57 3.5 3.5c0 2.19-2.62 2.41-2.62 4.38z"}),"NotListedLocation");t.Z=i},8456:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.Z=i},2237:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"}),"Portrait");t.Z=i},1542:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M15 21h-2v-2h2v2zm-2-7h-2v5h2v-5zm8-2h-2v4h2v-4zm-2-2h-2v2h2v-2zM7 12H5v2h2v-2zm-2-2H3v2h2v-2zm7-5h2V3h-2v2zm-7.5-.5v3h3v-3h-3zM9 9H3V3h6v6zm-4.5 7.5v3h3v-3h-3zM9 21H3v-6h6v6zm7.5-16.5v3h3v-3h-3zM21 9h-6V3h6v6zm-2 10v-3h-4v2h2v3h4v-2h-2zm-2-7h-4v2h4v-2zm-4-2H7v2h2v2h2v-2h2v-2zm1-1V7h-2V5h-2v4h4zM6.75 5.25h-1.5v1.5h1.5v-1.5zm0 12h-1.5v1.5h1.5v-1.5zm12-12h-1.5v1.5h1.5v-1.5z"}),"QrCode2");t.Z=i},7122:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=i},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7568)},7568:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return s},createChainedFunction:function(){return u},createSvgIcon:function(){return ur},debounce:function(){return lr},deprecatedPropType:function(){return cr},isMuiElement:function(){return dr},ownerDocument:function(){return fr},ownerWindow:function(){return pr},requirePropFactory:function(){return mr},setRef:function(){return vr},unstable_ClassNameGenerator:function(){return Pr},unstable_useEnhancedEffect:function(){return br},unstable_useId:function(){return xr},unsupportedProp:function(){return kr},useControlled:function(){return Cr},useEventCallback:function(){return Er},useForkRef:function(){return Ar},useIsFocusVisible:function(){return Mr}});var r=function(e){return e},a=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function o(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function i(e){if("string"!==typeof e)throw new Error(o(7));return e.charAt(0).toUpperCase()+e.slice(1)}var s=i;var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))},l=n(7462),c=n(2791),d=n.t(c,2),h=n(3366),f=n(8182);function p(e,t){var n=(0,l.Z)({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=(0,l.Z)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var a=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?a&&Object.keys(a)?(n[r]=(0,l.Z)({},o),Object.keys(a).forEach((function(e){n[r][e]=p(a[e],o[e])}))):n[r]=o:n[r]=a}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?p(t.components[n].defaultProps,r):r}function g(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function v(e){if(!g(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=v(e[n])})),t}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,l.Z)({},e):e;return g(e)&&g(t)&&Object.keys(t).forEach((function(a){"__proto__"!==a&&(g(t[a])&&a in e&&g(e[a])?r[a]=y(e[a],t[a],n):n.clone?r[a]=g(t[a])?v(t[a]):t[a]:r[a]=t[a])})),r}var b=n(4942),w=["values","unit","step"],_=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,l.Z)({},e,(0,b.Z)({},t.key,t.val))}),{})};var x={borderRadius:4},k=n(9439),C={xs:0,sm:600,md:900,lg:1200,xl:1536},E={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(C[e],"px)")}};function S(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var a=r.breakpoints||E;return t.reduce((function(e,r,o){return e[a.up(a.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||E;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||C).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var a=r;e[a]=t[a]}return e}),{})}return n(t)}function A(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function I(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function R(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function z(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:R(e,n)||a,t&&(r=t(r,a,e)),r}var T=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,a=e.themeKey,o=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=R(e.theme,a)||{};return S(e,n,(function(e){var n=z(s,o,e);return e===n&&"string"===typeof e&&(n=z(s,o,"".concat(t).concat("default"===e?"":i(e)),e)),!1===r?n:(0,b.Z)({},r,n)}))};return s.propTypes={},s.filterProps=[t],s};var N=function(e,t){return t?y(e,t,{clone:!1}):e};var O={m:"margin",p:"padding"},D={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},P=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!M[e])return[e];e=M[e]}var t=e.split(""),n=(0,k.Z)(t,2),r=n[0],a=n[1],o=O[r],i=D[a]||"";return Array.isArray(i)?i.map((function(e){return o+e})):[o+i]})),F=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],j=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],B=[].concat(F,j);function L(e,t,n,r){var a,o=null!=(a=R(e,t,!1))?a:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function W(e){return L(e,"spacing",8)}function G(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function H(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=G(t,n),e}),{})}}(P(n),r);return S(e,e[n],a)}function V(e,t){var n=W(e.theme);return Object.keys(e).map((function(r){return H(e,t,r,n)})).reduce(N,{})}function U(e){return V(e,F)}function q(e){return V(e,j)}function K(e){return V(e,B)}U.propTypes={},U.filterProps=F,q.propTypes={},q.filterProps=j,K.propTypes={},K.filterProps=B;var X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?N(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a};function Z(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Y=T({prop:"border",themeKey:"borders",transform:Z}),J=T({prop:"borderTop",themeKey:"borders",transform:Z}),Q=T({prop:"borderRight",themeKey:"borders",transform:Z}),$=T({prop:"borderBottom",themeKey:"borders",transform:Z}),ee=T({prop:"borderLeft",themeKey:"borders",transform:Z}),te=T({prop:"borderColor",themeKey:"palette"}),ne=T({prop:"borderTopColor",themeKey:"palette"}),re=T({prop:"borderRightColor",themeKey:"palette"}),ae=T({prop:"borderBottomColor",themeKey:"palette"}),oe=T({prop:"borderLeftColor",themeKey:"palette"}),ie=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=L(e.theme,"shape.borderRadius",4);return S(e,e.borderRadius,(function(e){return{borderRadius:G(t,e)}}))}return null};ie.propTypes={},ie.filterProps=["borderRadius"];X(Y,J,Q,$,ee,te,ne,re,ae,oe,ie);var se=function(e){if(void 0!==e.gap&&null!==e.gap){var t=L(e.theme,"spacing",8);return S(e,e.gap,(function(e){return{gap:G(t,e)}}))}return null};se.propTypes={},se.filterProps=["gap"];var ue=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=L(e.theme,"spacing",8);return S(e,e.columnGap,(function(e){return{columnGap:G(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["columnGap"];var le=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=L(e.theme,"spacing",8);return S(e,e.rowGap,(function(e){return{rowGap:G(t,e)}}))}return null};le.propTypes={},le.filterProps=["rowGap"];X(se,ue,le,T({prop:"gridColumn"}),T({prop:"gridRow"}),T({prop:"gridAutoFlow"}),T({prop:"gridAutoColumns"}),T({prop:"gridAutoRows"}),T({prop:"gridTemplateColumns"}),T({prop:"gridTemplateRows"}),T({prop:"gridTemplateAreas"}),T({prop:"gridArea"}));function ce(e,t){return"grey"===t?t:e}X(T({prop:"color",themeKey:"palette",transform:ce}),T({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ce}),T({prop:"backgroundColor",themeKey:"palette",transform:ce}));function de(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var he=T({prop:"width",transform:de}),fe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return S(e,e.maxWidth,(function(t){var n,r,a;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(a=r.values)?void 0:a[t])||C[t]||de(t)}}))}return null};fe.filterProps=["maxWidth"];var pe=T({prop:"minWidth",transform:de}),me=T({prop:"height",transform:de}),ge=T({prop:"maxHeight",transform:de}),ve=T({prop:"minHeight",transform:de}),ye=(T({prop:"size",cssProperty:"width",transform:de}),T({prop:"size",cssProperty:"height",transform:de}),X(he,fe,pe,me,ge,ve,T({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Z},borderTop:{themeKey:"borders",transform:Z},borderRight:{themeKey:"borders",transform:Z},borderBottom:{themeKey:"borders",transform:Z},borderLeft:{themeKey:"borders",transform:Z},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ie},color:{themeKey:"palette",transform:ce},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ce},backgroundColor:{themeKey:"palette",transform:ce},p:{style:q},pt:{style:q},pr:{style:q},pb:{style:q},pl:{style:q},px:{style:q},py:{style:q},padding:{style:q},paddingTop:{style:q},paddingRight:{style:q},paddingBottom:{style:q},paddingLeft:{style:q},paddingX:{style:q},paddingY:{style:q},paddingInline:{style:q},paddingInlineStart:{style:q},paddingInlineEnd:{style:q},paddingBlock:{style:q},paddingBlockStart:{style:q},paddingBlockEnd:{style:q},m:{style:U},mt:{style:U},mr:{style:U},mb:{style:U},ml:{style:U},mx:{style:U},my:{style:U},margin:{style:U},marginTop:{style:U},marginRight:{style:U},marginBottom:{style:U},marginLeft:{style:U},marginX:{style:U},marginY:{style:U},marginInline:{style:U},marginInlineStart:{style:U},marginInlineEnd:{style:U},marginBlock:{style:U},marginBlockStart:{style:U},marginBlockEnd:{style:U},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:se},rowGap:{style:le},columnGap:{style:ue},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:de},maxWidth:{style:fe},minWidth:{transform:de},height:{transform:de},maxHeight:{transform:de},minHeight:{transform:de},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var be=function(){function e(e,t,n,r){var a,o=(a={},(0,b.Z)(a,e,t),(0,b.Z)(a,"theme",n),a),s=r[e];if(!s)return(0,b.Z)({},e,t);var u=s.cssProperty,l=void 0===u?e:u,c=s.themeKey,d=s.transform,h=s.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return(0,b.Z)({},e,t);var f=R(n,c)||{};if(h)return h(o);return S(o,t,(function(t){var n=z(f,d,t);return t===n&&"string"===typeof t&&(n=z(f,d,"".concat(e).concat("default"===t?"":i(t)),t)),!1===l?n:(0,b.Z)({},l,n)}))}return function t(n){var r,a=n||{},o=a.sx,i=a.theme,s=void 0===i?{}:i;if(!o)return null;var u=null!=(r=s.unstable_sxConfig)?r:ye;function l(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var a=A(s.breakpoints),o=Object.keys(a),i=a;return Object.keys(r).forEach((function(n){var a,o,l=(a=r[n],o=s,"function"===typeof a?a(o):a);if(null!==l&&void 0!==l)if("object"===typeof l)if(u[n])i=N(i,e(n,l,s,u));else{var c=S({theme:s},l,(function(e){return(0,b.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),a=new Set(r);return t.every((function(e){return a.size===Object.keys(e).length}))}(c,l)?i=N(i,c):i[n]=t({sx:l,theme:s})}else i=N(i,e(n,l,s,u))})),I(o,i)}return Array.isArray(o)?o.map(l):l(o)}}();be.filterProps=["sx"];var we=be,_e=["breakpoints","palette","spacing","shape"];var xe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,a=void 0===r?{}:r,o=e.spacing,i=e.shape,s=void 0===i?{}:i,u=(0,h.Z)(e,_e),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,a=void 0===r?"px":r,o=e.step,i=void 0===o?5:o,s=(0,h.Z)(e,w),u=_(n),c=Object.keys(u);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-i/100).concat(a,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-i/100).concat(a,")")}return(0,l.Z)({keys:c,values:u,up:d,down:f,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):d(e)},not:function(e){var t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?f(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:a},s)}(n),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=W({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(o),f=y({breakpoints:c,direction:"ltr",components:{},palette:(0,l.Z)({mode:"light"},a),spacing:d,shape:(0,l.Z)({},x,s)},u),p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return(f=m.reduce((function(e,t){return y(e,t)}),f)).unstable_sxConfig=(0,l.Z)({},ye,null==u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return we({sx:e,theme:this})},f};var ke=c.createContext(null);var Ce=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=c.useContext(ke);return n&&(e=n,0!==Object.keys(e).length)?n:t},Ee=xe();var Se=function(){return Ce(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee)};function Ae(e,t){var n;return(0,l.Z)({toolbar:(n={minHeight:56},(0,b.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,b.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Re(e){if(e.type)return e;if("#"===e.charAt(0))return Re(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(o(9,e));var r,a=e.substring(t+1,e.length-1);if("color"===n){if(r=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(o(10,r))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:r}}function ze(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Te(e){var t="hsl"===(e=Re(e)).type||"hsla"===e.type?Re(function(e){var t=(e=Re(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,o=r*Math.min(a,1-a),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),ze({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ne(e,t){if(e=Re(e),t=Ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ze(e)}function Oe(e,t){if(e=Re(e),t=Ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ze(e)}var De={black:"#000",white:"#fff"},Me={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Pe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},je={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Be={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Le={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},We={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ge=["mode","contrastThreshold","tonalOffset"],He={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:De.white,default:De.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ve={text:{primary:De.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:De.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ue(e,t,n,r){var a=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Oe(e.main,a):"dark"===t&&(e.dark=Ne(e.main,o)))}function qe(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,a=void 0===r?3:r,i=e.tonalOffset,s=void 0===i?.2:i,u=(0,h.Z)(e,Ge),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Be[200],light:Be[50],dark:Be[400]}:{main:Be[700],light:Be[400],dark:Be[800]}}(n),d=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pe[200],light:Pe[50],dark:Pe[400]}:{main:Pe[500],light:Pe[300],dark:Pe[700]}}(n),f=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fe[500],light:Fe[300],dark:Fe[700]}:{main:Fe[700],light:Fe[400],dark:Fe[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Le[400],light:Le[300],dark:Le[700]}:{main:Le[700],light:Le[500],dark:Le[900]}}(n),m=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:We[400],light:We[300],dark:We[700]}:{main:We[800],light:We[500],dark:We[900]}}(n),g=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:je[400],light:je[300],dark:je[700]}:{main:"#ed6c02",light:je[500],dark:je[900]}}(n);function v(e){var t=function(e,t){var n=Te(e),r=Te(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ve.text.primary)>=a?Ve.text.primary:He.text.primary;return t}var b=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,i=e.lightShade,u=void 0===i?300:i,c=e.darkShade,d=void 0===c?700:c;if(!(t=(0,l.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(o(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(o(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ue(t,"light",u,s),Ue(t,"dark",d,s),t.contrastText||(t.contrastText=v(t.main)),t},w={dark:Ve,light:He};return y((0,l.Z)({common:(0,l.Z)({},De),mode:n,primary:b({color:c,name:"primary"}),secondary:b({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:f,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:p,name:"info"}),success:b({color:m,name:"success"}),grey:Me,contrastThreshold:a,getContrastText:v,augmentColor:b,tonalOffset:s},w[n]),u)}var Ke=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Xe={textTransform:"uppercase"},Ze='"Roboto", "Helvetica", "Arial", sans-serif';function Ye(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?Ze:r,o=n.fontSize,i=void 0===o?14:o,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,d=void 0===c?400:c,f=n.fontWeightMedium,p=void 0===f?500:f,m=n.fontWeightBold,g=void 0===m?700:m,v=n.htmlFontSize,b=void 0===v?16:v,w=n.allVariants,_=n.pxToRem,x=(0,h.Z)(n,Ke);var k=i/14,C=_||function(e){return"".concat(e/b*k,"rem")},E=function(e,t,n,r,o){return(0,l.Z)({fontFamily:a,fontWeight:e,fontSize:C(t),lineHeight:n},a===Ze?{letterSpacing:"".concat((i=r/t,Math.round(1e5*i)/1e5),"em")}:{},o,w);var i},S={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,Xe),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,Xe),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return y((0,l.Z)({htmlFontSize:b,pxToRem:C,fontFamily:a,fontSize:i,fontWeightLight:u,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:g},S),x,{clone:!1})}function Je(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Qe=["none",Je(0,2,1,-1,0,1,1,0,0,1,3,0),Je(0,3,1,-2,0,2,2,0,0,1,5,0),Je(0,3,3,-2,0,3,4,0,0,1,8,0),Je(0,2,4,-1,0,4,5,0,0,1,10,0),Je(0,3,5,-1,0,5,8,0,0,1,14,0),Je(0,3,5,-1,0,6,10,0,0,1,18,0),Je(0,4,5,-2,0,7,10,1,0,2,16,1),Je(0,5,5,-3,0,8,10,1,0,3,14,2),Je(0,5,6,-3,0,9,12,1,0,3,16,2),Je(0,6,6,-3,0,10,14,1,0,4,18,3),Je(0,6,7,-4,0,11,15,1,0,4,20,3),Je(0,7,8,-4,0,12,17,2,0,5,22,4),Je(0,7,8,-4,0,13,19,2,0,5,24,4),Je(0,7,9,-4,0,14,21,2,0,5,26,4),Je(0,8,9,-5,0,15,22,2,0,6,28,5),Je(0,8,10,-5,0,16,24,2,0,6,30,5),Je(0,8,11,-5,0,17,26,2,0,6,32,5),Je(0,9,11,-5,0,18,28,2,0,7,34,6),Je(0,9,12,-6,0,19,29,2,0,7,36,6),Je(0,10,13,-6,0,20,31,3,0,8,38,7),Je(0,10,13,-6,0,21,33,3,0,8,40,7),Je(0,10,14,-6,0,22,35,3,0,8,42,7),Je(0,11,14,-7,0,23,36,3,0,9,44,8),Je(0,11,15,-7,0,24,38,3,0,9,46,8)],$e=["duration","easing","delay"],et={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},tt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nt(e){return"".concat(Math.round(e),"ms")}function rt(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function at(e){var t=(0,l.Z)({},et,e.easing),n=(0,l.Z)({},tt,e.duration);return(0,l.Z)({getAutoHeightDuration:rt,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,i=r.easing,s=void 0===i?t.easeInOut:i,u=r.delay,l=void 0===u?0:u;(0,h.Z)(r,$e);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:nt(o)," ").concat(s," ").concat("string"===typeof l?l:nt(l))})).join(",")}},e,{easing:t,duration:n})}var ot={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},it=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,a=void 0===r?{}:r,i=e.transitions,s=void 0===i?{}:i,u=e.typography,c=void 0===u?{}:u,d=(0,h.Z)(e,it);if(e.vars)throw new Error(o(18));var f=qe(a),p=xe(e),m=y(p,{mixins:Ae(p.breakpoints,n),palette:f,shadows:Qe.slice(),typography:Ye(f,c),transitions:at(s),zIndex:(0,l.Z)({},ot)});m=y(m,d);for(var g=arguments.length,v=new Array(g>1?g-1:0),b=1;b<g;b++)v[b-1]=arguments[b];return(m=v.reduce((function(e,t){return y(e,t)}),m)).unstable_sxConfig=(0,l.Z)({},ye,null==d?void 0:d.unstable_sxConfig),m.unstable_sx=function(e){return we({sx:e,theme:this})},m}var ut=st();function lt(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return m({theme:Se(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:ut})}var ct=n(3433);var dt=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ht=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ft=dt((function(e){return ht.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var pt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),mt=Math.abs,gt=String.fromCharCode,vt=Object.assign;function yt(e){return e.trim()}function bt(e,t,n){return e.replace(t,n)}function wt(e,t){return e.indexOf(t)}function _t(e,t){return 0|e.charCodeAt(t)}function xt(e,t,n){return e.slice(t,n)}function kt(e){return e.length}function Ct(e){return e.length}function Et(e,t){return t.push(e),e}var St=1,At=1,It=0,Rt=0,zt=0,Tt="";function Nt(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:St,column:At,length:i,return:""}}function Ot(e,t){return vt(Nt("",null,null,"",null,null,0),e,{length:-e.length},t)}function Dt(){return zt=Rt>0?_t(Tt,--Rt):0,At--,10===zt&&(At=1,St--),zt}function Mt(){return zt=Rt<It?_t(Tt,Rt++):0,At++,10===zt&&(At=1,St++),zt}function Pt(){return _t(Tt,Rt)}function Ft(){return Rt}function jt(e,t){return xt(Tt,e,t)}function Bt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Lt(e){return St=At=1,It=kt(Tt=e),Rt=0,[]}function Wt(e){return Tt="",e}function Gt(e){return yt(jt(Rt-1,Ut(91===e?e+2:40===e?e+1:e)))}function Ht(e){for(;(zt=Pt())&&zt<33;)Mt();return Bt(e)>2||Bt(zt)>3?"":" "}function Vt(e,t){for(;--t&&Mt()&&!(zt<48||zt>102||zt>57&&zt<65||zt>70&&zt<97););return jt(e,Ft()+(t<6&&32==Pt()&&32==Mt()))}function Ut(e){for(;Mt();)switch(zt){case e:return Rt;case 34:case 39:34!==e&&39!==e&&Ut(zt);break;case 40:41===e&&Ut(e);break;case 92:Mt()}return Rt}function qt(e,t){for(;Mt()&&e+zt!==57&&(e+zt!==84||47!==Pt()););return"/*"+jt(t,Rt-1)+"*"+gt(47===e?e:Mt())}function Kt(e){for(;!Bt(Pt());)Mt();return jt(e,Rt)}var Xt="-ms-",Zt="-moz-",Yt="-webkit-",Jt="comm",Qt="rule",$t="decl",en="@keyframes";function tn(e,t){for(var n="",r=Ct(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function nn(e,t,n,r){switch(e.type){case"@import":case $t:return e.return=e.return||e.value;case Jt:return"";case en:return e.return=e.value+"{"+tn(e.children,r)+"}";case Qt:e.value=e.props.join(",")}return kt(n=tn(e.children,r))?e.return=e.value+"{"+n+"}":""}function rn(e){return Wt(an("",null,null,null,[""],e=Lt(e),0,[0],e))}function an(e,t,n,r,a,o,i,s,u){for(var l=0,c=0,d=i,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=a,_=o,x=r,k=b;g;)switch(p=y,y=Mt()){case 40:if(108!=p&&58==_t(k,d-1)){-1!=wt(k+=bt(Gt(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Gt(y);break;case 9:case 10:case 13:case 32:k+=Ht(p);break;case 92:k+=Vt(Ft()-1,7);continue;case 47:switch(Pt()){case 42:case 47:Et(sn(qt(Mt(),Ft()),t,n),u);break;default:k+="/"}break;case 123*m:s[l++]=kt(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:f>0&&kt(k)-d&&Et(f>32?un(k+";",r,n,d-1):un(bt(k," ","")+";",r,n,d-2),u);break;case 59:k+=";";default:if(Et(x=on(k,t,n,l,c,a,s,b,w=[],_=[],d),o),123===y)if(0===c)an(k,t,x,x,w,o,d,s,_);else switch(99===h&&110===_t(k,3)?100:h){case 100:case 109:case 115:an(e,x,x,r&&Et(on(e,x,x,0,0,a,s,b,a,w=[],d),_),a,_,d,s,r?w:_);break;default:an(k,x,x,x,[""],_,0,s,_)}}l=c=f=0,m=v=1,b=k="",d=i;break;case 58:d=1+kt(k),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Dt())continue;switch(k+=gt(y),y*m){case 38:v=c>0?1:(k+="\f",-1);break;case 44:s[l++]=(kt(k)-1)*v,v=1;break;case 64:45===Pt()&&(k+=Gt(Mt())),h=Pt(),c=d=kt(b=k+=Kt(Ft())),y++;break;case 45:45===p&&2==kt(k)&&(m=0)}}return o}function on(e,t,n,r,a,o,i,s,u,l,c){for(var d=a-1,h=0===a?o:[""],f=Ct(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=xt(e,d+1,d=mt(m=i[p])),b=e;v<f;++v)(b=yt(m>0?h[v]+" "+y:bt(y,/&\f/g,h[v])))&&(u[g++]=b);return Nt(e,t,n,0===a?Qt:s,u,l,c)}function sn(e,t,n){return Nt(e,t,n,Jt,gt(zt),xt(e,2,-2),0)}function un(e,t,n,r){return Nt(e,t,n,$t,xt(e,0,r),xt(e,r+1,-1),r)}var ln=function(e,t,n){for(var r=0,a=0;r=a,a=Pt(),38===r&&12===a&&(t[n]=1),!Bt(a);)Mt();return jt(e,Rt)},cn=function(e,t){return Wt(function(e,t){var n=-1,r=44;do{switch(Bt(r)){case 0:38===r&&12===Pt()&&(t[n]=1),e[n]+=ln(Rt-1,t,n);break;case 2:e[n]+=Gt(r);break;case 4:if(44===r){e[++n]=58===Pt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=gt(r)}}while(r=Mt());return e}(Lt(e),t))},dn=new WeakMap,hn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||dn.get(n))&&!r){dn.set(e,!0);for(var a=[],o=cn(t,a),i=n.props,s=0,u=0;s<o.length;s++)for(var l=0;l<i.length;l++,u++)e.props[u]=a[s]?o[s].replace(/&\f/g,i[l]):i[l]+" "+o[s]}}},fn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function pn(e,t){switch(function(e,t){return 45^_t(e,0)?(((t<<2^_t(e,0))<<2^_t(e,1))<<2^_t(e,2))<<2^_t(e,3):0}(e,t)){case 5103:return Yt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+e+Zt+e+Xt+e+e;case 6828:case 4268:return Yt+e+Xt+e+e;case 6165:return Yt+e+Xt+"flex-"+e+e;case 5187:return Yt+e+bt(e,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+Xt+"flex-$1$2")+e;case 5443:return Yt+e+Xt+"flex-item-"+bt(e,/flex-|-self/,"")+e;case 4675:return Yt+e+Xt+"flex-line-pack"+bt(e,/align-content|flex-|-self/,"")+e;case 5548:return Yt+e+Xt+bt(e,"shrink","negative")+e;case 5292:return Yt+e+Xt+bt(e,"basis","preferred-size")+e;case 6060:return Yt+"box-"+bt(e,"-grow","")+Yt+e+Xt+bt(e,"grow","positive")+e;case 4554:return Yt+bt(e,/([^-])(transform)/g,"$1"+Yt+"$2")+e;case 6187:return bt(bt(bt(e,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),e,"")+e;case 5495:case 3959:return bt(e,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return bt(bt(e,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+e+e;case 4095:case 3583:case 4068:case 2532:return bt(e,/(.+)-inline(.+)/,Yt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kt(e)-1-t>6)switch(_t(e,t+1)){case 109:if(45!==_t(e,t+4))break;case 102:return bt(e,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+Zt+(108==_t(e,t+3)?"$3":"$2-$3"))+e;case 115:return~wt(e,"stretch")?pn(bt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==_t(e,t+1))break;case 6444:switch(_t(e,kt(e)-3-(~wt(e,"!important")&&10))){case 107:return bt(e,":",":"+Yt)+e;case 101:return bt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yt+(45===_t(e,14)?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+Xt+"$2box$3")+e}break;case 5936:switch(_t(e,t+11)){case 114:return Yt+e+Xt+bt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Yt+e+Xt+bt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Yt+e+Xt+bt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Yt+e+Xt+e+e}return e}var mn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case $t:e.return=pn(e.value,e.length);break;case en:return tn([Ot(e,{value:bt(e.value,"@","@"+Yt)})],r);case Qt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return tn([Ot(e,{props:[bt(t,/:(read-\w+)/,":"+Zt+"$1")]})],r);case"::placeholder":return tn([Ot(e,{props:[bt(t,/:(plac\w+)/,":"+Yt+"input-$1")]}),Ot(e,{props:[bt(t,/:(plac\w+)/,":"+Zt+"$1")]}),Ot(e,{props:[bt(t,/:(plac\w+)/,Xt+"input-$1")]})],r)}return""}))}}],gn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||mn;var a,o,i={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;s.push(e)}));var u,l,c=[nn,(l=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=Ct(e);return function(n,r,a,o){for(var i="",s=0;s<t;s++)i+=e[s](n,r,a,o)||"";return i}}([hn,fn].concat(r,c));o=function(e,t,n,r){u=n,tn(rn(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new pt({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return h.sheet.hydrate(s),h};var vn=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},yn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bn=/[A-Z]|^ms/g,wn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_n=function(e){return 45===e.charCodeAt(1)},xn=function(e){return null!=e&&"boolean"!==typeof e},kn=dt((function(e){return _n(e)?e:e.replace(bn,"-$&").toLowerCase()})),Cn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(wn,(function(e,t,n){return Sn={name:t,styles:n,next:Sn},t}))}return 1===yn[e]||_n(e)||"number"!==typeof t||0===t?t:t+"px"};function En(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Sn={name:n.name,styles:n.styles,next:Sn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Sn={name:r.name,styles:r.styles,next:Sn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=En(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!==typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":xn(i)&&(r+=kn(o)+":"+Cn(o,i)+";");else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=En(e,t,i);switch(o){case"animation":case"animationName":r+=kn(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<i.length;u++)xn(i[u])&&(r+=kn(o)+":"+Cn(o,i[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Sn,o=n(e);return Sn=a,En(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var Sn,An=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var In=!!d.useInsertionEffect&&d.useInsertionEffect,Rn=In||function(e){return e()},zn=(In||c.useLayoutEffect,(0,c.createContext)("undefined"!==typeof HTMLElement?gn({key:"css"}):null));zn.Provider;var Tn=function(e){return(0,c.forwardRef)((function(t,n){var r=(0,c.useContext)(zn);return e(t,r,n)}))},Nn=(0,c.createContext)({});var On=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Dn=ft,Mn=function(e){return"theme"!==e},Pn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Dn:Mn},Fn=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},jn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;On(t,n,r);Rn((function(){return function(e,t,n){On(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)}));return null},Bn=function e(t,n){var r,a,o=t.__emotion_real===t,i=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var s=Fn(t,n,o),u=s||Pn(i),d=!u("as");return function(){var h=arguments,f=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&f.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)f.push.apply(f,h);else{0,f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var g=Tn((function(e,t,n){var r=d&&e.as||i,o="",l=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,c.useContext)(Nn)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,l,e.className):null!=e.className&&(o=e.className+" ");var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Sn=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=En(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=En(n,t,e[i]),r&&(a+=o[i]);An.lastIndex=0;for(var s,u="";null!==(s=An.exec(a));)u+="-"+s[1];return{name:vn(a)+u,styles:a,next:Sn}}(f.concat(l),t.registered,h);o+=t.key+"-"+m.name,void 0!==a&&(o+=" "+a);var g=d&&void 0===s?Pn(r):u,v={};for(var y in e)d&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=o,v.ref=n,(0,c.createElement)(c.Fragment,null,(0,c.createElement)(jn,{cache:t,serialized:m,isStringTag:"string"===typeof r}),(0,c.createElement)(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof i?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,r){return e(t,(0,l.Z)({},n,r,{shouldForwardProp:Fn(g,r,!0)})).apply(void 0,f)},g}},Ln=Bn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ln[e]=Ln(e)}));var Wn=Ln;var Gn=["variant"];function Hn(e){return 0===e.length}function Vn(e){var t=e.variant,n=(0,h.Z)(e,Gn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Hn(r)?e[t]:i(e[t]):"".concat(Hn(r)?t:i(t)).concat(i(e[t].toString()))})),r}var Un=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],qn=["theme"],Kn=["theme"];function Xn(e){return 0===Object.keys(e).length}function Zn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Yn=xe();var Jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Yn:t,r=e.rootShouldForwardProp,a=void 0===r?Zn:r,o=e.slotShouldForwardProp,i=void 0===o?Zn:o,s=function(e){var t=Xn(e.theme)?n:e.theme;return we((0,l.Z)({},e,{theme:t}))};return s.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r=t.name,o=t.slot,u=t.skipVariantsResolver,c=t.skipSx,d=t.overridesResolver,f=(0,h.Z)(t,Un),p=void 0!==u?u:o&&"Root"!==o||!1,m=c||!1;var g=Zn;"Root"===o?g=a:o?g=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var v=function(e,t){return Wn(e,t)}(e,(0,l.Z)({shouldForwardProp:g,label:undefined},f)),y=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];var i=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,a=(0,h.Z)(t,qn);return e((0,l.Z)({theme:Xn(r)?n:r},a))}:e})):[],u=e;r&&d&&i.push((function(e){var t=Xn(e.theme)?n:e.theme,a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(r,t);if(a){var o={};return Object.entries(a).forEach((function(n){var r=(0,k.Z)(n,2),a=r[0],i=r[1];o[a]="function"===typeof i?i((0,l.Z)({},e,{theme:t})):i})),d(e,o)}return null})),r&&!p&&i.push((function(e){var t=Xn(e.theme)?n:e.theme;return function(e,t,n,r){var a,o,i=e.ownerState,s=void 0===i?{}:i,u=[],l=null==n||null==(a=n.components)||null==(o=a[r])?void 0:o.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Vn(n.props)])})),u}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Vn(e.props);r[t]=e.style})),r}(r,t),t,r)})),m||i.push(s);var c=i.length-a.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(u=[].concat((0,ct.Z)(e),(0,ct.Z)(f))).raw=[].concat((0,ct.Z)(e.raw),(0,ct.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,a=(0,h.Z)(t,Kn);return e((0,l.Z)({theme:Xn(r)?n:r},a))});return v.apply(void 0,[u].concat((0,ct.Z)(i)))};return v.withConfig&&(y.withConfig=v.withConfig),y}}({defaultTheme:ut,rootShouldForwardProp:function(e){return Zn(e)&&"classes"!==e}}),Qn=Jn,$n={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function er(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=$n[t];return r?"".concat(n,"-").concat(r):"".concat(a.generate(e),"-").concat(t)}function tr(e){return er("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=er(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var nr=n(184),rr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ar=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(a){r[a]=e[a].reduce((function(e,r){if(r){var a=t(r);""!==a&&e.push(a),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(s(t)),"fontSize".concat(s(n))]},tr,r)},or=Qn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(s(n.color))],t["fontSize".concat(s(n.fontSize))]]}})((function(e){var t,n,r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(a=r.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(o=y.typography)||null==(i=o.pxToRem)?void 0:i.call(o,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(l=y.typography)||null==(c=l.pxToRem)?void 0:c.call(l,35))||"2.1875rem"}[b.fontSize],color:null!=(d=null==(h=(y.vars||y).palette)||null==(f=h[b.color])?void 0:f.main)?d:{action:null==(p=(y.vars||y).palette)||null==(m=p.action)?void 0:m.active,disabled:null==(g=(y.vars||y).palette)||null==(v=g.action)?void 0:v.disabled,inherit:void 0}[b.color]}})),ir=c.forwardRef((function(e,t){var n=lt({props:e,name:"MuiSvgIcon"}),r=n.children,a=n.className,o=n.color,i=void 0===o?"inherit":o,s=n.component,u=void 0===s?"svg":s,c=n.fontSize,d=void 0===c?"medium":c,p=n.htmlColor,m=n.inheritViewBox,g=void 0!==m&&m,v=n.titleAccess,y=n.viewBox,b=void 0===y?"0 0 24 24":y,w=(0,h.Z)(n,rr),_=(0,l.Z)({},n,{color:i,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:b}),x={};g||(x.viewBox=b);var k=ar(_);return(0,nr.jsxs)(or,(0,l.Z)({as:u,className:(0,f.Z)(k.root,a),focusable:"false",color:p,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},x,w,{ownerState:_,children:[r,v?(0,nr.jsx)("title",{children:v}):null]}))}));ir.muiName="SvgIcon";var sr=ir;function ur(e,t){function n(n,r){return(0,nr.jsx)(sr,(0,l.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=sr.muiName,c.memo(c.forwardRef(n))}var lr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){e.apply(r,o)}),n)}return r.clear=function(){clearTimeout(t)},r};var cr=function(e,t){return function(){return null}};var dr=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function hr(e){return e&&e.ownerDocument||document}var fr=hr;var pr=function(e){return hr(e).defaultView||window};var mr=function(e,t){return function(){return null}};function gr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var vr=gr,yr="undefined"!==typeof window?c.useLayoutEffect:c.useEffect,br=yr,wr=0;var _r=d.useId;var xr=function(e){if(void 0!==_r){var t=_r();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,k.Z)(t,2),r=n[0],a=n[1],o=e||r;return c.useEffect((function(){null==r&&a("mui-".concat(wr+=1))}),[r]),o}(e)};var kr=function(e,t,n,r,a){return null};var Cr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),a=c.useState(n),o=(0,k.Z)(a,2),i=o[0],s=o[1];return[r?t:i,c.useCallback((function(e){r||s(e)}),[])]};var Er=function(e){var t=c.useRef(e);return yr((function(){t.current=e})),c.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Sr,Ar=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){gr(t,e)}))}}),t)},Ir=!0,Rr=!1,zr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Tr(e){e.metaKey||e.altKey||e.ctrlKey||(Ir=!0)}function Nr(){Ir=!1}function Or(){"hidden"===this.visibilityState&&Rr&&(Ir=!0)}function Dr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Ir||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!zr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Mr=function(){var e=c.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Tr,!0),t.addEventListener("mousedown",Nr,!0),t.addEventListener("pointerdown",Nr,!0),t.addEventListener("touchstart",Nr,!0),t.addEventListener("visibilitychange",Or,!0))}),[]),t=c.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Dr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Rr=!0,window.clearTimeout(Sr),Sr=window.setTimeout((function(){Rr=!1}),100),t.current=!1,!0)},ref:e}},Pr={configure:function(e){a.configure(e)}}},8182:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.Z=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=f(n);a&&a!==p&&e(t,a,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var s=u(t),m=u(n),g=0;g<i.length;++g){var v=i[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case i:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case u:return e;default:return t}}case a:return t}}}function x(e){return _(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||_(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===i||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var P,F=Object.assign;function j(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var B=!1;function L(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var a=l.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var u="\n"+a[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function W(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case E:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ce=null;function Ee(e){if(e=ba(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=_a(t),xe(e.stateNode,e.type,t))}}function Se(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Re(){}var ze=!1;function Te(e,t,n){if(ze)return e(t,n);ze=!0;try{return Ie(e,t,n)}finally{ze=!1,(null!==ke||null!==Ce)&&(Re(),Ae())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Me(e,t,n,r,a,o,i,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Pe=!1,Fe=null,je=!1,Be=null,Le={onError:function(e){Pe=!0,Fe=e}};function We(e,t,n,r,a,o,i,s,u){Pe=!1,Fe=null,Me.apply(Le,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ge(e)!==e)throw Error(o(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ze=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,kt,Ct,Et,St=!1,At=[],It=null,Rt=null,zt=null,Tt=new Map,Nt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Pt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ya(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Lt(){St=!1,null!==It&&jt(It)&&(It=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==zt&&jt(zt)&&(zt=null),Tt.forEach(Bt),Nt.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Gt(e){function t(t){return Wt(t,e)}if(0<At.length){Wt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Wt(It,e),null!==Rt&&Wt(Rt,e),null!==zt&&Wt(zt,e),Tt.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function Ut(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function qt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function Kt(e,t,n,r){if(Vt){var a=Zt(e,t,n,r);if(null===a)Vr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Pt(It,e,t,n,r,a),!0;case"dragenter":return Rt=Pt(Rt,e,t,n,r,a),!0;case"mouseover":return zt=Pt(zt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Tt.set(o,Pt(Tt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Nt.set(o,Pt(Nt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&_t(o),null===(o=Zt(e,t,n,r))&&Vr(e,t,r,Xt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Xt=null;function Zt(e,t,n,r){if(Xt=null,null!==(e=ya(e=_e(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=F({},ln,{view:0,detail:0}),hn=an(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(F({},fn,{dataTransfer:0})),gn=an(F({},dn,{relatedTarget:0})),vn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Cn}var Sn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Sn),In=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),zn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Tn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Pn=c&&"TextEvent"in window&&!Mn,Fn=c&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Bn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Un(e,t,n,r){Se(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){jr(e,0)}function Zn(e){if(K(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Qn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Qn=$n}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Un(t,Kn,e,_e(e)),Te(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function or(e,t){if("click"===e)return Zn(t)}function ir(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Cr={};function Er(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Ar=Er("animationiteration"),Ir=Er("animationstart"),Rr=Er("transitionend"),zr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){zr.set(e,t),u(t,[e])}for(var Or=0;Or<Tr.length;Or++){var Dr=Tr[Or];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Sr,"onAnimationEnd"),Nr(Ar,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,u,l){if(We.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var c=Fe;Pe=!1,Fe=null,je||(je=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&a.isPropagationStopped())break e;Fr(a,s,l),o=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,l=s.currentTarget,s=s.listener,u!==o&&a.isPropagationStopped())break e;Fr(a,s,l),o=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Wr]){e[Wr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Lr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var a=Ut;break;case 4:a=qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(u=i.tag)||6===u){r=o=i;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=o,a=_e(n),i=[];e:{var s=zr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Sr:case Ar:case Ir:u=vn;break;case Rr:u=zn;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&c.push(Ur(p,m,f)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!ya(l)&&!l[pa])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ya(l):null)&&(l!==(d=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?s:wa(u),f=null==l?s:wa(l),(s=new c(m,p+"leave",u,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((c=new c(h,p+"enter",l,n,a)).target=f,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(h=l,p=0,f=c=u;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==u&&Xr(i,s,u,c,!1),null!==l&&null!==d&&Xr(i,d,l,c,!0)}if("select"===(u=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Vn(s))if(Jn)g=ir;else{g=ar;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Un(i,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wa(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,Gn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Dn&&Ln(e,t)?(e=en(),$t=Qt=Jt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}jr(i,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ne(e,n))&&r.unshift(Ur(e,o,a)),null!=(o=Ne(e,t))&&r.push(Ur(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,a?null!=(u=Ne(n,o))&&i.unshift(Ur(n,u,s)):a||null!=(u=Ne(n,o))&&i.push(Ur(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Zr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Gt(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ha])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _a(e){return e[fa]||null}var xa=[],ka=-1;function Ca(e){return{current:e}}function Ea(e){0>ka||(e.current=xa[ka],xa[ka]=null,ka--)}function Sa(e,t){ka++,xa[ka]=e.current,e.current=t}var Aa={},Ia=Ca(Aa),Ra=Ca(!1),za=Aa;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Na(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ea(Ra),Ea(Ia)}function Da(e,t,n){if(Ia.current!==Aa)throw Error(o(168));Sa(Ia,t),Sa(Ra,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,H(e)||"Unknown",a));return F({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,za=Ia.current,Sa(Ia,e),Sa(Ra,Ra.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ra),Ea(Ia),Sa(Ia,e)):Ea(Ra),Sa(Ra,n)}var ja=null,Ba=!1,La=!1;function Wa(e){null===ja?ja=[e]:ja.push(e)}function Ga(){if(!La&&null!==ja){La=!0;var e=0,t=bt;try{var n=ja;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ja=null,Ba=!1}catch(a){throw null!==ja&&(ja=ja.slice(e+1)),Ke($e,Ga),a}finally{bt=t,La=!1}}return null}var Ha=[],Va=0,Ua=null,qa=0,Ka=[],Xa=0,Za=null,Ya=1,Ja="";function Qa(e,t){Ha[Va++]=qa,Ha[Va++]=Ua,Ua=e,qa=t}function $a(e,t,n){Ka[Xa++]=Ya,Ka[Xa++]=Ja,Ka[Xa++]=Za,Za=e;var r=Ya;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ya=1<<32-it(t)+a|n<<a|r,Ja=o+e}else Ya=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Qa(e,1),$a(e,1,0))}function to(e){for(;e===Ua;)Ua=Ha[--Va],Ha[Va]=null,qa=Ha[--Va],Ha[Va]=null;for(;e===Za;)Za=Ka[--Xa],Ka[Xa]=null,Ja=Ka[--Xa],Ka[Xa]=null,Ya=Ka[--Xa],Ka[Xa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Za?{id:Ya,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=la(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=la(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=la(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?la(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=la(e.nextSibling)}function po(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ca(null),bo=null,wo=null,_o=null;function xo(){_o=wo=bo=null}function ko(e){var t=yo.current;Ea(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Ao=null;function Io(e){null===Ao?Ao=[e]:Ao.push(e)}function Ro(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var To=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ru)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,zo(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,zo(e,n)}function Po(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var a=e.updateQueue;To=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var u=s,l=u.next;u.next=null,null===i?o=l:i.next=l,i=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var d=a.baseState;for(i=0,c=l=u=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:To=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=f,u=d):c=c.next=f,i|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===c&&(u=d),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Fu|=i,e.lanes=i,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Lo=(new r.Component).refs;function Wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),a=nl(e),o=Do(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,a))&&(rl(t,e,a,r),Po(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),a=nl(e),o=Do(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,a))&&(rl(t,e,a,r),Po(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),a=Do(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Mo(e,a,r))&&(rl(t,e,r,n),Po(t,e,r))}};function Ho(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,o))}function Vo(e,t,n){var r=!1,a=Aa,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(a=Na(t)?za:Ia.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Aa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Lo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=So(o):(o=Na(t)?za:Ia.current,a.context=Ta(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Wo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Go.enqueueReplaceState(a,a.state,null),jo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Lo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Zo(o)===t.type)?((r=a(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case x:return(t=Bl(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===a?l(e,t,n,r):null;case x:return n.key===a?c(e,t,n,r):null;case N:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);Xo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);Xo(t,r)}return null}function m(a,o,s,u){for(var l=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===c?l=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),ao&&Qa(a,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],u))&&(o=i(d,o,m),null===c?l=d:c.sibling=d,c=d);return ao&&Qa(a,m),l}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Qa(a,m),l}function g(a,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ao&&Qa(a,g),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=h(a,y.value,l))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return ao&&Qa(a,g),c}for(m=r(a,m);!y.done;g++,y=u.next())null!==(y=p(m,a,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Qa(a,g),c}return function e(r,o,i,u){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case _:e:{for(var l=i.key,c=o;null!==c;){if(c.key===l){if((l=i.type)===k){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Zo(l)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=Ko(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===k?((o=Pl(i.props.children,r.mode,u,i.key)).return=r,r=o):((u=Ml(i.type,i.key,i.props,null,r.mode,u)).ref=Ko(r,o,i),u.return=r,r=u)}return s(r);case x:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bl(i,r.mode,u)).return=r,r=o}return s(r);case N:return e(r,o,(c=i._init)(i._payload),u)}if(te(i))return m(r,o,i,u);if(M(i))return g(r,o,i,u);Xo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=jl(i,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Jo=Yo(!0),Qo=Yo(!1),$o={},ei=Ca($o),ti=Ca($o),ni=Ca($o);function ri(e){if(e===$o)throw Error(o(174));return e}function ai(e,t){switch(Sa(ni,t),Sa(ti,e),Sa(ei,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(ei),Sa(ei,t)}function oi(){Ea(ei),Ea(ti),Ea(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=ue(t,e.type);t!==n&&(Sa(ti,e),Sa(ei,n))}function si(e){ti.current===e&&(Ea(ei),Ea(ti))}var ui=Ca(0);function li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var hi=w.ReactCurrentDispatcher,fi=w.ReactCurrentBatchConfig,pi=0,mi=null,gi=null,vi=null,yi=!1,bi=!1,wi=0,_i=0;function xi(){throw Error(o(321))}function ki(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ci(e,t,n,r,a,i){if(pi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=null===e||null===e.memoizedState?ss:us,e=n(r,a),bi){i=0;do{if(bi=!1,wi=0,25<=i)throw Error(o(301));i+=1,vi=gi=null,t.updateQueue=null,hi.current=ls,e=n(r,a)}while(bi)}if(hi.current=is,t=null!==gi&&null!==gi.next,pi=0,vi=gi=mi=null,yi=!1,t)throw Error(o(300));return e}function Ei(){var e=0!==wi;return wi=0,e}function Si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Ai(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===vi?mi.memoizedState:vi.next;if(null!==t)vi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Ii(e,t){return"function"===typeof t?t(e):t}function Ri(e){var t=Ai(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var u=s=null,l=null,c=i;do{var d=c.lane;if((pi&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,mi.lanes|=d,Fu|=d}c=c.next}while(null!==c&&c!==i);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Fu|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zi(e){var t=Ai(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ti(){}function Ni(e,t){var n=mi,r=Ai(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,ws=!0),r=r.queue,Vi(Mi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==vi&&1&vi.memoizedState.tag){if(n.flags|=2048,Bi(9,Di.bind(null,n,r,a,t),void 0,null),null===zu)throw Error(o(349));0!==(30&pi)||Oi(n,t,a)}return a}function Oi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Di(e,t,n,r){t.value=n,t.getSnapshot=r,Pi(t)&&Fi(e)}function Mi(e,t,n){return n((function(){Pi(t)&&Fi(e)}))}function Pi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fi(e){var t=zo(e,1);null!==t&&rl(t,e,1,-1)}function ji(e){var t=Si();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return Ai().memoizedState}function Wi(e,t,n,r){var a=Si();mi.flags|=e,a.memoizedState=Bi(1|t,n,void 0,void 0===r?null:r)}function Gi(e,t,n,r){var a=Ai();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&ki(r,i.deps))return void(a.memoizedState=Bi(t,n,o,r))}mi.flags|=e,a.memoizedState=Bi(1|t,n,o,r)}function Hi(e,t){return Wi(8390656,8,e,t)}function Vi(e,t){return Gi(2048,8,e,t)}function Ui(e,t){return Gi(4,2,e,t)}function qi(e,t){return Gi(4,4,e,t)}function Ki(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Gi(4,4,Ki.bind(null,t,e),n)}function Zi(){}function Yi(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ji(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qi(e,t,n){return 0===(21&pi)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,Fu|=n,e.baseState=!0),t)}function $i(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{bt=n,fi.transition=r}}function es(){return Ai().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ro(e,t,n,r))){rl(n,e,r,tl()),os(n,t,r)}}function ns(e,t,n){var r=nl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var u=t.interleaved;return null===u?(a.next=a,Io(t)):(a.next=u.next,u.next=a),void(t.interleaved=a)}}catch(l){}null!==(n=Ro(e,t,a,r))&&(rl(n,e,r,a=tl()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){bi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:So,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},ss={readContext:So,useCallback:function(e,t){return Si().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Hi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wi(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var n=Si();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Si();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Si().memoizedState=e},useState:ji,useDebugValue:Zi,useDeferredValue:function(e){return Si().memoizedState=e},useTransition:function(){var e=ji(!1),t=e[0];return e=$i.bind(null,e[1]),Si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Si();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===zu)throw Error(o(349));0!==(30&pi)||Oi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Hi(Mi.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,Di.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Si(),t=zu.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Ya&~(1<<32-it(Ya)-1)).toString(32)+n),0<(n=wi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_i++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:So,useCallback:Yi,useContext:So,useEffect:Vi,useImperativeHandle:Xi,useInsertionEffect:Ui,useLayoutEffect:qi,useMemo:Ji,useReducer:Ri,useRef:Li,useState:function(){return Ri(Ii)},useDebugValue:Zi,useDeferredValue:function(e){return Qi(Ai(),gi.memoizedState,e)},useTransition:function(){return[Ri(Ii)[0],Ai().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ni,useId:es,unstable_isNewReconciler:!1},ls={readContext:So,useCallback:Yi,useContext:So,useEffect:Vi,useImperativeHandle:Xi,useInsertionEffect:Ui,useLayoutEffect:qi,useMemo:Ji,useReducer:zi,useRef:Li,useState:function(){return zi(Ii)},useDebugValue:Zi,useDeferredValue:function(e){var t=Ai();return null===gi?t.memoizedState=e:Qi(t,gi.memoizedState,e)},useTransition:function(){return[zi(Ii)[0],Ai().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ni,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Uu||(Uu=!0,qu=r),hs(0,t)},n}function ms(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Qo(t,null,n,r):Jo(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var o=t.ref;return Eo(t,a),r=Ci(e,t,n,r,o,a),n=Ei(),null===e||ws?(ao&&n&&eo(t),t.flags|=1,_s(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Us(e,t,a))}function ks(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Ol(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)return Us(e,t,a)}return t.flags|=1,(e=Dl(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Us(e,t,a);0!==(131072&e.flags)&&(ws=!0)}}return As(e,t,n,r,a)}function Es(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Sa(Du,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sa(Du,Ou),Ou|=r;return _s(e,t,a,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,a){var o=Na(n)?za:Ia.current;return o=Ta(t,o),Eo(t,a),n=Ci(e,t,n,r,o,a),r=Ei(),null===e||ws?(ao&&r&&eo(t),t.flags|=1,_s(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Us(e,t,a))}function Is(e,t,n,r,a){if(Na(n)){var o=!0;Pa(t)}else o=!1;if(Eo(t,a),null===t.stateNode)Vs(e,t),Vo(t,n,r),qo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=So(l):l=Ta(t,l=Na(n)?za:Ia.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||u!==l)&&Uo(t,i,r,l),To=!1;var h=t.memoizedState;i.state=h,jo(t,r,i,a),u=t.memoizedState,s!==r||h!==u||Ra.current||To?("function"===typeof c&&(Wo(t,n,c,r),u=t.memoizedState),(s=To||Ho(t,n,s,r,h,u,l))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Oo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:vo(t.type,s),i.props=l,d=t.pendingProps,h=i.context,"object"===typeof(u=n.contextType)&&null!==u?u=So(u):u=Ta(t,u=Na(n)?za:Ia.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==u)&&Uo(t,i,r,u),To=!1,h=t.memoizedState,i.state=h,jo(t,r,i,a);var p=t.memoizedState;s!==d||h!==p||Ra.current||To?("function"===typeof f&&(Wo(t,n,f,r),p=t.memoizedState),(l=To||Ho(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=u,r=l):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,a)}function Rs(e,t,n,r,a,o){Ss(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Fa(t,n,!1),Us(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function zs(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),ai(e,t.containerInfo)}function Ts(e,t,n,r,a){return po(),mo(a),t.flags|=256,_s(e,t,n,r),t.child}var Ns,Os,Ds,Ms,Ps={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,a=t.pendingProps,i=ui.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sa(ui,1&i),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=a.children,e=a.fallback,s?(a=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,a,0,null),e=Pl(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ps,e):Bs(t,u));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Fl({mode:"visible",children:r.children},a,0,null),(i=Pl(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ps,i);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var u=r.dgst;return r=u,Ls(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=zu)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,zo(e,a),rl(r,e,a,-1))}return gl(),Ls(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=la(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Xa++]=Ya,Ka[Xa++]=Ja,Ka[Xa++]=Za,Ya=e.id,Ja=e.overflow,Za=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,a,r,i,n);if(s){s=a.fallback,u=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:a.children};return 0===(1&u)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null):(a=Dl(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Dl(r,s):(s=Pl(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,a}return e=(s=e.child).sibling,a=Dl(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Gs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Hs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ui.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(ui,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===li(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===li(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gs(t,!0,n,null,o);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Na(t.type)&&Oa(),Ks(t),null;case 3:return r=t.stateNode,oi(),Ea(Ra),Ea(Ia),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Os(e,t),Ks(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ri(ei.current),ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var u in ye(n,i),a=null,i)if(i.hasOwnProperty(u)){var l=i[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,l,e),a=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,l,e),a=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":q(r),$(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ha]=t,e[fa]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":Y(e,r),a=Z(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in ye(n,a),l=a)if(l.hasOwnProperty(i)){var c=l[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Br("scroll",e):null!=c&&b(e,i,c,u))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ea(ui),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,i=!1;else if(i=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ha]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),i=!1}else null!==oo&&(sl(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ui.current)?0===Mu&&(Mu=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oi(),Os(e,t),null===e&&Gr(t.stateNode.containerInfo),Ks(t),null;case 10:return ko(t.type._context),Ks(t),null;case 19:if(Ea(ui),null===(i=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=i.rendering))if(r)qs(i,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=li(e))){for(t.flags|=128,qs(i,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(u=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,e=u.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(ui,1&ui.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Hu&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=li(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate&&!ao)return Ks(t),null}else 2*Je()-i.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=i.last)?n.sibling=u:t.child=u,i.last=u)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ui.current,Sa(ui,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Na(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Ea(Ra),Ea(Ia),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Ea(ui),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(ui),null;case 4:return oi(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),i=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var u=a[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Br("scroll",e),i||u===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){El(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tu(t,n,o)}a=a.next}while(a!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function iu(e){var t=e.alternate;null!==t&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var du=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=du,a=hu;du=null,fu(e,t,n),hu=a,null!==(du=r)&&(hu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(hu?(e=du,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),Gt(e)):ua(du,n.stateNode));break;case 4:r=du,a=hu,du=n.stateNode.containerInfo,hu=!0,fu(e,t,n),du=r,hu=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tu(n,t,i),a=a.next}while(a!==r)}fu(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fu(e,t,n),Js=r):fu(e,t,n);break;default:fu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Rl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,hu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===du)throw Error(o(160));pu(i,s,a),du=null,hu=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){El(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&r){try{ru(3,e,e.return),au(3,e)}catch(g){El(e,e.return,g)}try{ru(5,e,e.return)}catch(g){El(e,e.return,g)}}break;case 1:gu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(gu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){El(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===i.type&&null!=i.name&&J(a,i),be(u,s);var c=be(u,i);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,c)}switch(u){case"input":Q(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){El(e,e.return,g)}}break;case 6:if(gu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){El(e,e.return,g)}}break;case 3:if(gu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(g){El(e,e.return,g)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Gu=Je())),4&r&&mu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||d,gu(t,e),Js=c):gu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(p=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:eu(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){El(r,n,g)}}break;case 5:eu(f,f.return);break;case 22:if(null!==f.memoizedState){xu(h);continue}}null!==p?(p.return=f,$s=p):xu(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(g){El(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){El(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gu(t,e),yu(e),4&r&&mu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cu(e,uu(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;lu(e,uu(e),i);break;default:throw Error(o(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){$s=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var a=$s,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ys;if(!i){var s=a.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=i,(Js=u)&&!l)for($s=a;null!==$s;)u=(i=$s).child,22===i.tag&&null!==i.memoizedState?ku(a):null!==u?(u.return=i,$s=u):ku(a);for(;null!==o;)$s=o,wu(o,t,n),o=o.sibling;$s=a,Ys=s,Js=l}_u(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,$s=o):_u(e)}}function _u(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Bo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ou(t)}catch(f){El(t,t.return,f)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function ku(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){El(t,a,u)}}var o=t.return;try{ou(t)}catch(u){El(t,o,u)}break;case 5:var i=t.return;try{ou(t)}catch(u){El(t,i,u)}}}catch(u){El(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Cu,Eu=Math.ceil,Su=w.ReactCurrentDispatcher,Au=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Ru=0,zu=null,Tu=null,Nu=0,Ou=0,Du=Ca(0),Mu=0,Pu=null,Fu=0,ju=0,Bu=0,Lu=null,Wu=null,Gu=0,Hu=1/0,Vu=null,Uu=!1,qu=null,Ku=null,Xu=!1,Zu=null,Yu=0,Ju=0,Qu=null,$u=-1,el=0;function tl(){return 0!==(6&Ru)?Je():-1!==$u?$u:$u=Je()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ru)&&0!==Nu?Nu&-Nu:null!==go.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Ju)throw Ju=0,Qu=null,Error(o(185));vt(e,n,r),0!==(2&Ru)&&e===zu||(e===zu&&(0===(2&Ru)&&(ju|=n),4===Mu&&ul(e,Nu)),al(e,r),1===n&&0===Ru&&0===(1&t.mode)&&(Hu=Je()+500,Ba&&Ga()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,u=a[i];-1===u?0!==(s&n)&&0===(s&r)||(a[i]=ft(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===zu?Nu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ba=!0,Wa(e)}(ll.bind(null,e)):Wa(ll.bind(null,e)),ia((function(){0===(6&Ru)&&Ga()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=zl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if($u=-1,el=0,0!==(6&Ru))throw Error(o(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===zu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var a=Ru;Ru|=2;var i=ml();for(zu===e&&Nu===t||(Vu=null,Hu=Je()+500,fl(e,t));;)try{bl();break}catch(u){pl(e,u)}xo(),Su.current=i,Ru=a,null!==Tu?t=0:(zu=null,Nu=0,t=Mu)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=il(e,a))),1===t)throw n=Pu,fl(e,0),ul(e,r),al(e,Je()),n;if(6===t)ul(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vl(e,r))&&(0!==(i=pt(e))&&(r=i,t=il(e,i))),1===t))throw n=Pu,fl(e,0),ul(e,r),al(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xl(e,Wu,Vu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Gu+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xl.bind(null,e,Wu,Vu),t);break}xl(e,Wu,Vu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ra(xl.bind(null,e,Wu,Vu),r);break}xl(e,Wu,Vu);break;default:throw Error(o(329))}}}return al(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Wu,Wu=n,null!==t&&sl(t)),e}function sl(e){null===Wu?Wu=e:Wu.push.apply(Wu,e)}function ul(e,t){for(t&=~Bu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ru))throw Error(o(327));kl();var t=ht(e,0);if(0===(1&t))return al(e,Je()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Pu,fl(e,0),ul(e,t),al(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Wu,Vu),al(e,Je()),null}function cl(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Hu=Je()+500,Ba&&Ga())}}function dl(e){null!==Zu&&0===Zu.tag&&0===(6&Ru)&&kl();var t=Ru;Ru|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Ru=t))&&Ga()}}function hl(){Ou=Du.current,Ea(Du)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:oi(),Ea(Ra),Ea(Ia),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Ea(ui);break;case 10:ko(r.type._context);break;case 22:case 23:hl()}n=n.return}if(zu=e,Tu=e=Dl(e.current,null),Nu=Ou=t,Mu=0,Pu=null,Bu=ju=Fu=0,Wu=Lu=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Ao=null}return e}function pl(e,t){for(;;){var n=Tu;try{if(xo(),hi.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(pi=0,vi=gi=mi=null,bi=!1,wi=0,Au.current=null,null===n||null===n.return){Mu=1,Pu=t,Tu=null;break}e:{var i=e,s=n.return,u=n,l=t;if(t=Nu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(i,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){gs(i,c,t),gl();break e}l=Error(o(426))}else if(ao&&1&u.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,u,0,t),mo(cs(l,u));break e}}i=l=cs(l,u),4!==Mu&&(Mu=2),null===Lu?Lu=[i]:Lu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,ps(0,l,t));break e;case 1:u=l;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,ms(i,u,t));break e}}i=i.return}while(null!==i)}_l(n)}catch(w){t=w,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function ml(){var e=Su.current;return Su.current=is,null===e?is:e}function gl(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===zu||0===(268435455&Fu)&&0===(268435455&ju)||ul(zu,Nu)}function vl(e,t){var n=Ru;Ru|=2;var r=ml();for(zu===e&&Nu===t||(Vu=null,fl(e,t));;)try{yl();break}catch(a){pl(e,a)}if(xo(),Ru=n,Su.current=r,null!==Tu)throw Error(o(261));return zu=null,Nu=0,Mu}function yl(){for(;null!==Tu;)wl(Tu)}function bl(){for(;null!==Tu&&!Ze();)wl(Tu)}function wl(e){var t=Cu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?_l(e):Tu=t,Au.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ou)))return void(Tu=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Mu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Mu&&(Mu=5)}function xl(e,t,n){var r=bt,a=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Zu);if(0!==(6&Ru))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===zu&&(Tu=zu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,zl(tt,(function(){return kl(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Ru;Ru|=4,Au.current=null,function(e,t){if(ea=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(_){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(u=s+a),h!==i||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===a&&(u=s),f===i&&++d===r&&(l=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){El(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=nu,nu=!1}(e,n),vu(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,bu(n,e,a),Ye(),Ru=u,bt=s,Iu.transition=i}else e.current=n;if(Xu&&(Xu=!1,Zu=e,Yu=a),i=e.pendingLanes,0===i&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Uu)throw Uu=!1,e=qu,qu=null,e;0!==(1&Yu)&&0!==e.tag&&kl(),i=e.pendingLanes,0!==(1&i)?e===Qu?Ju++:(Ju=0,Qu=e):Ju=0,Ga()}(e,t,n,r)}finally{Iu.transition=a,bt=r}return null}function kl(){if(null!==Zu){var e=wt(Yu),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,Yu=0,0!==(6&Ru))throw Error(o(331));var a=Ru;for(Ru|=4,$s=e.current;null!==$s;){var i=$s,s=i.child;if(0!==(16&$s.flags)){var u=i.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:ru(8,d,i)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var f=(d=$s).sibling,p=d.return;if(iu(d),d===c){$s=null;break}if(null!==f){f.return=p,$s=f;break}$s=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$s=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,$s=s;else e:for(;null!==$s;){if(0!==(2048&(i=$s).flags))switch(i.tag){case 0:case 11:case 15:ru(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,$s=y;break e}$s=i.return}}var b=e.current;for($s=b;null!==$s;){var w=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,$s=w;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(x){El(u,u.return,x)}if(u===s){$s=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,$s=_;break e}$s=u.return}}if(Ru=a,Ga(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Cl(e,t,n){e=Mo(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),al(e,t))}function El(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Mo(t,e=ms(t,e=cs(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),al(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,zu===e&&(Nu&n)===n&&(4===Mu||3===Mu&&(130023424&Nu)===Nu&&500>Je()-Gu?fl(e,0):Bu|=n),al(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=zo(e,t))&&(vt(e,t,n),al(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Rl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Al(e,n)}function zl(e,t){return Ke(e,t)}function Tl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Tl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Pl(n.children,a,i,t);case C:s=8,a|=8;break;case E:return(e=Nl(12,n,t,2|a)).elementType=E,e.lanes=i,e;case R:return(e=Nl(13,n,t,a)).elementType=R,e.lanes=i,e;case z:return(e=Nl(19,n,t,a)).elementType=z,e.lanes=i,e;case O:return Fl(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case A:s=9;break e;case I:s=11;break e;case T:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nl(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Pl(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ll(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wl(e,t,n,r,a,o,i,s,u){return e=new Ll(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Gl(e){if(!e)return Aa;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Na(n))return Ma(e,n,t)}return t}function Hl(e,t,n,r,a,o,i,s,u){return(e=Wl(n,r,!0,e,0,o,0,s,u)).context=Gl(null),n=e.current,(o=Do(r=tl(),a=nl(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,a),e.current.lanes=a,vt(e,a,r),al(e,r),e}function Vl(e,t,n,r){var a=t.current,o=tl(),i=nl(a);return n=Gl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(a,t,i))&&(rl(e,a,i,o),Po(e,a,i)),i}function Ul(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ra.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:zs(t),po();break;case 5:ii(t);break;case 1:Na(t.type)&&Pa(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(ui,1&ui.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Sa(ui,1&ui.current),null!==(e=Us(e,t,n))?e.sibling:null);Sa(ui,1&ui.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(ui,ui.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Us(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ao&&0!==(1048576&t.flags)&&$a(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var a=Ta(t,Ia.current);Eo(t,n),a=Ci(null,t,r,e,a,n);var i=Ei();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Na(r)?(i=!0,Pa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,No(t),a.updater=Go,t.stateNode=a,a._reactInternals=t,qo(t,r,e,n),t=Rs(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),_s(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===T)return 14}return 2}(r),e=vo(r,e),a){case 0:t=As(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,As(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 3:e:{if(zs(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Oo(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ts(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Ts(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=la(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Us(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&lo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Ss(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return js(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Sa(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ra.current){t=Us(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var u=i.dependencies;if(null!==u){s=i.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===i.tag){(l=Do(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Co(i.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Co(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}_s(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Eo(t,n),r=r(a=So(a)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return a=vo(r=t.type,t.pendingProps),ks(e,t,r,a=vo(r.type,a),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vo(r,a),Vs(e,t),t.tag=1,Na(r)?(e=!0,Pa(t)):e=!1,Eo(t,n),Vo(t,r,a),qo(t,r,a,n),Rs(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Ul(i);s.call(e)}}Vl(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Ul(i);o.call(e)}}var i=Hl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=i,e[pa]=i.current,Gr(8===e.nodeType?e.parentNode:e),dl(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Ul(u);s.call(e)}}var u=Wl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pa]=u.current,Gr(8===e.nodeType?e.parentNode:e),dl((function(){Vl(t,u,n,r)})),u}(n,t,e,a,r);return Ul(i)}Yl.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vl(e,t,null,null)},Yl.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Vl(null,e,null,null)})),t[pa]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),al(t,Je()),0===(6&Ru)&&(Hu=Je()+500,Ga()))}break;case 13:dl((function(){var t=zo(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},xt=function(e){if(13===e.tag){var t=zo(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=zo(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(o(90));K(r),Q(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Re=dl;var tc={usingClientEntryPoint:!1,Events:[ba,wa,_a,Se,Ae,cl]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(o(299));var n=!1,r="",a=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wl(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Zl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,Gr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yl(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(o(40));return!!e._reactRootContainer&&(dl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,a)&&!C.hasOwnProperty(a)&&(o[a]=t[a]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===o[a]&&(o[a]=u[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return i=i(u=e),e=""===o?"."+I(u,0):o,_(i)?(a="",null!=e&&(a=e.replace(A,"$&/")+"/"),R(i,t,a,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(u=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var c=o+I(s=e[l],l);u+=R(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=R(s=s.value,t,a,c=o+I(s,l++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function z(e,t,n){if(null==e)return e;var r=[],a=0;return R(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:z,forEach:function(e,t,n){z(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return z(e,(function(){t++})),t},toArray:function(e){return z(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!C.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<a&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,O(x);else{var t=r(c);null!==t&&D(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var o=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!R());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var s=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&a(l),w(n)}else a(l);h=r(l)}if(null!==h)var u=!0;else{var d=r(c);null!==d&&D(_,d.startTime-n),u=!1}return u}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,E=null,S=-1,A=5,I=-1;function R(){return!(t.unstable_now()-I<A)}function z(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?k():(C=!1,E=null)}}else C=!1}if("function"===typeof b)k=function(){b(z)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,N=T.port2;T.port1.onmessage=z,k=function(){N.postMessage(null)}}else k=function(){v(z,0)};function O(e){E=e,C||(C=!0,k())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(y(S),S=-1):g=!0,D(_,o-i))):(e.sortIndex=s,n(l,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1668:function(e,t,n){var r={"./audio/de/castle/de_room_1.mp3":1676,"./audio/de/castle/de_room_10.mp3":804,"./audio/de/castle/de_room_11.mp3":3452,"./audio/de/castle/de_room_12.mp3":1120,"./audio/de/castle/de_room_13.mp3":9767,"./audio/de/castle/de_room_14.mp3":407,"./audio/de/castle/de_room_15.mp3":6693,"./audio/de/castle/de_room_16.mp3":433,"./audio/de/castle/de_room_17.mp3":122,"./audio/de/castle/de_room_18.mp3":7299,"./audio/de/castle/de_room_2.mp3":8068,"./audio/de/castle/de_room_3.mp3":3823,"./audio/de/castle/de_room_4.mp3":5143,"./audio/de/castle/de_room_5.mp3":7712,"./audio/de/castle/de_room_6.mp3":792,"./audio/de/castle/de_room_7.mp3":5881,"./audio/de/castle/de_room_8.mp3":5072,"./audio/de/castle/de_room_9.mp3":6986,"./audio/de/chateau/de_room_1.mp3":5173,"./audio/de/chateau/de_room_10.mp3":3903,"./audio/de/chateau/de_room_11.mp3":2645,"./audio/de/chateau/de_room_12.mp3":3073,"./audio/de/chateau/de_room_13.mp3":3918,"./audio/de/chateau/de_room_14.mp3":5931,"./audio/de/chateau/de_room_15.mp3":7961,"./audio/de/chateau/de_room_16.mp3":9194,"./audio/de/chateau/de_room_17.mp3":3589,"./audio/de/chateau/de_room_18.mp3":3497,"./audio/de/chateau/de_room_19.mp3":1664,"./audio/de/chateau/de_room_2.mp3":2620,"./audio/de/chateau/de_room_20.mp3":8596,"./audio/de/chateau/de_room_21.mp3":6837,"./audio/de/chateau/de_room_22.mp3":8406,"./audio/de/chateau/de_room_23.mp3":395,"./audio/de/chateau/de_room_24.mp3":1193,"./audio/de/chateau/de_room_25.mp3":5496,"./audio/de/chateau/de_room_26.mp3":614,"./audio/de/chateau/de_room_27.mp3":3935,"./audio/de/chateau/de_room_28.mp3":5525,"./audio/de/chateau/de_room_29.mp3":3335,"./audio/de/chateau/de_room_3.mp3":7555,"./audio/de/chateau/de_room_30.mp3":3258,"./audio/de/chateau/de_room_31.mp3":9364,"./audio/de/chateau/de_room_32.mp3":7758,"./audio/de/chateau/de_room_4.mp3":1158,"./audio/de/chateau/de_room_5.mp3":6245,"./audio/de/chateau/de_room_6.mp3":9684,"./audio/de/chateau/de_room_7.mp3":2229,"./audio/de/chateau/de_room_8.mp3":5690,"./audio/de/chateau/de_room_9.mp3":5156,"./audio/en/castle/en_room_1.mp3":8076,"./audio/en/castle/en_room_10.mp3":5932,"./audio/en/castle/en_room_11.mp3":6673,"./audio/en/castle/en_room_12.mp3":2534,"./audio/en/castle/en_room_13.mp3":3840,"./audio/en/castle/en_room_14.mp3":2281,"./audio/en/castle/en_room_15.mp3":8648,"./audio/en/castle/en_room_16.mp3":2165,"./audio/en/castle/en_room_17.mp3":6169,"./audio/en/castle/en_room_18.mp3":2016,"./audio/en/castle/en_room_2.mp3":7678,"./audio/en/castle/en_room_3.mp3":1712,"./audio/en/castle/en_room_4.mp3":5250,"./audio/en/castle/en_room_5.mp3":6845,"./audio/en/castle/en_room_6.mp3":3288,"./audio/en/castle/en_room_7.mp3":4680,"./audio/en/castle/en_room_8.mp3":2306,"./audio/en/castle/en_room_9.mp3":5286,"./audio/en/chateau/en_room_1.mp3":2461,"./audio/en/chateau/en_room_10.mp3":6294,"./audio/en/chateau/en_room_11.mp3":3498,"./audio/en/chateau/en_room_12.mp3":9467,"./audio/en/chateau/en_room_13.mp3":4789,"./audio/en/chateau/en_room_14.mp3":8713,"./audio/en/chateau/en_room_15.mp3":1785,"./audio/en/chateau/en_room_16.mp3":3980,"./audio/en/chateau/en_room_17.mp3":8911,"./audio/en/chateau/en_room_18.mp3":8197,"./audio/en/chateau/en_room_19.mp3":8055,"./audio/en/chateau/en_room_2.mp3":6273,"./audio/en/chateau/en_room_20.mp3":7235,"./audio/en/chateau/en_room_21.mp3":4952,"./audio/en/chateau/en_room_22.mp3":5016,"./audio/en/chateau/en_room_23.mp3":6668,"./audio/en/chateau/en_room_24.mp3":102,"./audio/en/chateau/en_room_25.mp3":1026,"./audio/en/chateau/en_room_26.mp3":7478,"./audio/en/chateau/en_room_27.mp3":5796,"./audio/en/chateau/en_room_28.mp3":3378,"./audio/en/chateau/en_room_29.mp3":1233,"./audio/en/chateau/en_room_3.mp3":6741,"./audio/en/chateau/en_room_30.mp3":8672,"./audio/en/chateau/en_room_31.mp3":6504,"./audio/en/chateau/en_room_32.mp3":3031,"./audio/en/chateau/en_room_4.mp3":7718,"./audio/en/chateau/en_room_5.mp3":7477,"./audio/en/chateau/en_room_6.mp3":9846,"./audio/en/chateau/en_room_7.mp3":8177,"./audio/en/chateau/en_room_8.mp3":8811,"./audio/en/chateau/en_room_9.mp3":1817,"./audio/es/castle/es_room_1.mp3":7806,"./audio/es/castle/es_room_10.mp3":1313,"./audio/es/castle/es_room_11.mp3":1738,"./audio/es/castle/es_room_12.mp3":241,"./audio/es/castle/es_room_13.mp3":3780,"./audio/es/castle/es_room_14.mp3":2047,"./audio/es/castle/es_room_15.mp3":1772,"./audio/es/castle/es_room_16.mp3":6559,"./audio/es/castle/es_room_17.mp3":9388,"./audio/es/castle/es_room_18.mp3":1847,"./audio/es/castle/es_room_2.mp3":1598,"./audio/es/castle/es_room_3.mp3":2869,"./audio/es/castle/es_room_4.mp3":631,"./audio/es/castle/es_room_5.mp3":8520,"./audio/es/castle/es_room_6.mp3":9903,"./audio/es/castle/es_room_7.mp3":3432,"./audio/es/castle/es_room_8.mp3":2220,"./audio/es/castle/es_room_9.mp3":6363,"./audio/es/chateau/es_room_1.mp3":8215,"./audio/es/chateau/es_room_10.mp3":6379,"./audio/es/chateau/es_room_11.mp3":9900,"./audio/es/chateau/es_room_12.mp3":2456,"./audio/es/chateau/es_room_13.mp3":6166,"./audio/es/chateau/es_room_14.mp3":4867,"./audio/es/chateau/es_room_15.mp3":3913,"./audio/es/chateau/es_room_16.mp3":3486,"./audio/es/chateau/es_room_17.mp3":4364,"./audio/es/chateau/es_room_18.mp3":138,"./audio/es/chateau/es_room_19.mp3":6172,"./audio/es/chateau/es_room_2.mp3":2840,"./audio/es/chateau/es_room_20.mp3":2739,"./audio/es/chateau/es_room_3.mp3":469,"./audio/es/chateau/es_room_4.mp3":7818,"./audio/es/chateau/es_room_5.mp3":994,"./audio/es/chateau/es_room_6.mp3":8516,"./audio/es/chateau/es_room_7.mp3":3925,"./audio/es/chateau/es_room_8.mp3":887,"./audio/es/chateau/es_room_9.mp3":4844,"./audio/kcd.mp3":3569,"./audio/pl/castle/pl_room_1.mp3":7440,"./audio/pl/castle/pl_room_10.mp3":6655,"./audio/pl/castle/pl_room_11.mp3":2415,"./audio/pl/castle/pl_room_12.mp3":3721,"./audio/pl/castle/pl_room_13.mp3":784,"./audio/pl/castle/pl_room_14.mp3":1659,"./audio/pl/castle/pl_room_15.mp3":7669,"./audio/pl/castle/pl_room_16.mp3":6207,"./audio/pl/castle/pl_room_2.mp3":1027,"./audio/pl/castle/pl_room_3.mp3":9874,"./audio/pl/castle/pl_room_4.mp3":2039,"./audio/pl/castle/pl_room_5.mp3":8262,"./audio/pl/castle/pl_room_6.mp3":9030,"./audio/pl/castle/pl_room_7.mp3":630,"./audio/pl/castle/pl_room_8.mp3":3797,"./audio/pl/castle/pl_room_9.mp3":2302,"./audio/pl/chateau/pl_room_1.mp3":9572,"./audio/pl/chateau/pl_room_10.mp3":7378,"./audio/pl/chateau/pl_room_11.mp3":9423,"./audio/pl/chateau/pl_room_12.mp3":7550,"./audio/pl/chateau/pl_room_13.mp3":5713,"./audio/pl/chateau/pl_room_14.mp3":8080,"./audio/pl/chateau/pl_room_15.mp3":4931,"./audio/pl/chateau/pl_room_16.mp3":7904,"./audio/pl/chateau/pl_room_2.mp3":5185,"./audio/pl/chateau/pl_room_3.mp3":363,"./audio/pl/chateau/pl_room_4.mp3":5927,"./audio/pl/chateau/pl_room_5.mp3":1830,"./audio/pl/chateau/pl_room_6.mp3":9738,"./audio/pl/chateau/pl_room_7.mp3":9670,"./audio/pl/chateau/pl_room_8.mp3":695,"./audio/pl/chateau/pl_room_9.mp3":7405};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=1668},9977:function(e,t,n){var r={"./img/armory/hrad-35.jpg":3658,"./img/armory/hrad-36.jpg":4466,"./img/armory/hrad-37.jpg":4599,"./img/armory/hrad-38.jpg":4847,"./img/armory/hrad-39.jpg":7630,"./img/armory/hrad-40.jpg":7987,"./img/armory/hrad-41.jpg":1037,"./img/armory/hrad-42.jpg":353,"./img/castle/albrecht.jpg":221,"./img/castle/castle.jpg":9543,"./img/castle/dolni_nadvori.jpg":2378,"./img/castle/eduard.jpg":827,"./img/castle/hradni_nadvori.jpg":3363,"./img/castle/jidelna.jpg":2857,"./img/castle/lovecky_salon.jpg":4134,"./img/castle/nositka.jpg":942,"./img/castle/obrazarna.jpg":7896,"./img/castle/piano.jpg":1533,"./img/castle/postroje.jpg":8956,"./img/castle/pred_kapli.jpg":8669,"./img/castle/prvni_hradni.jpg":250,"./img/castle/rytirsky_sal.jpg":8222,"./img/castle/uniformy.jpg":4332,"./img/castle/vezeni.jpg":3654,"./img/castle/vrchnostenska.jpg":6173,"./img/castle/zbrojnice1.jpg":8617,"./img/castle/zbrojnice2.jpg":5581,"./img/chateau/chateau.jpg":9233,"./img/chateau/chodba.jpg":9549,"./img/chateau/detsky_pokoj.jpg":5044,"./img/chateau/dolni_nadvori.jpg":3752,"./img/chateau/erbovni_sal.jpg":6023,"./img/chateau/jidelna.jpg":3487,"./img/chateau/kaple.jpg":535,"./img/chateau/knihovna.jpg":6581,"./img/chateau/koupelna.jpg":228,"./img/chateau/kuchyne.jpg":453,"./img/chateau/kvetinovy_salon.jpg":9453,"./img/chateau/lokajna.jpg":1640,"./img/chateau/loznice.jpg":5114,"./img/chateau/loznice_damske1.jpg":6410,"./img/chateau/loznice_dcer_podkrovi.jpg":710,"./img/chateau/loznice_klotildy.jpg":4191,"./img/chateau/modry_salon.jpg":1419,"./img/chateau/panska_chodba.jpg":6268,"./img/chateau/podkrovi.jpg":2105,"./img/chateau/pokoj_dcer_2.jpg":2387,"./img/chateau/pokoj_sluzebnych_podkrovi.jpg":2999,"./img/chateau/pokoj_vychovatelky.jpg":6538,"./img/chateau/pracovna.jpg":2103,"./img/chateau/pred_kapli.jpg":1100,"./img/chateau/prevlekarna.jpg":1485,"./img/chateau/prevlekarna_salon.jpg":261,"./img/chateau/prijimaci_salon.jpg":5895,"./img/chateau/pripravna.jpg":4146,"./img/chateau/salon_damske.jpg":384,"./img/chateau/spizirna.jpg":6483,"./img/chateau/stanovy_salon.bak.jpg":1963,"./img/chateau/stanovy_salon.jpg":9401,"./img/chateau/ucebna.jpg":6373,"./img/chateau/umyvarna.jpg":8060,"./img/coat_of_arms/albrecht.png":3146,"./img/coat_of_arms/biberstejnove.png":599,"./img/coat_of_arms/clamgallasove.png":9329,"./img/coat_of_arms/gallasove.png":5688,"./img/coat_of_arms/redernove.png":8584,"./img/coat_of_arms/ronovci.png":7049,"./img/history/history.jpg":7218,"./img/history/houses.jpg":6903,"./img/homepage_afternoon.jpg":2347,"./img/homepage_evening.jpg":2964,"./img/homepage_morning.jpg":4610,"./img/homepage_night.jpg":7693,"./img/icons/icon-128.png":345,"./img/icons/icon-256.png":5920,"./img/icons/icon-48.png":9485,"./img/icons/icon-512.png":6344,"./img/icons/icon-64.png":9771,"./img/icons/maskable-icon-192.png":295,"./img/other/map.png":5913,"./img/people/albrecht_valdstejn.jpg":7695,"./img/people/antonin_pankrac_gallas.jpg":5619,"./img/people/clotilda_clamgallas_mladsi.jpg":2411,"./img/people/eduard_clamgallas.jpg":2134,"./img/people/filip_josef_gallas.jpg":2789,"./img/people/frantisek_clamgallas.jpg":5648,"./img/people/frantisek_ferdinand_gallas.jpg":4361,"./img/people/jan_vaclav_gallas.jpg":7862,"./img/people/katerina_redern.jpg":5130,"./img/people/kristian_filip_clamgallas.jpg":9565,"./img/people/kristian_krystof_clamgallas.jpg":2881,"./img/people/krystof_redern.jpg":7377,"./img/people/matyas_gallas.jpg":8865,"./img/people/melchior_redern.jpg":6497,"./img/people/vilem_clamgallas.jpg":2856,"./img/where_to_next/grabstejn.jpg":878,"./img/where_to_next/lemberk.jpg":3653};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=9977},1676:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_1.783e469dec1f6ef7d293.mp3"},804:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_10.ba4fd74b808b5bb2a32b.mp3"},3452:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_11.297d6bf2feec6d18d6e3.mp3"},1120:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_12.df9d5ee0ad91d2d47138.mp3"},9767:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_13.fbe23580355be63954da.mp3"},407:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_14.178b4fb82f215ebc41dc.mp3"},6693:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_15.e52a0c1430383cfda30c.mp3"},433:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_16.c8ca4e52bdb6b89ea3a6.mp3"},122:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_17.8efdf4e89bcd510eb9c0.mp3"},7299:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_18.85d0c06446c2d2599e99.mp3"},8068:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_2.640215566cf19fc4ec40.mp3"},3823:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_3.5c0f7c7925ab99029c05.mp3"},5143:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_4.716ea1119c51019c3815.mp3"},7712:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_5.c34161ad60f5b4ec423b.mp3"},792:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_6.eee95c711548531d6e05.mp3"},5881:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_7.319387b51e578dd3a251.mp3"},5072:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_8.6da263c71b8d78a722d6.mp3"},6986:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_9.e26a880fb40d2c4a4f9a.mp3"},5173:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_1.571b4a9e621d22f86cca.mp3"},3903:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_10.d37a2ab914477d245bc4.mp3"},2645:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_11.f83175da839a843fd065.mp3"},3073:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_12.4d8071bf0de50011d97d.mp3"},3918:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_13.26acda71092d5d99cc3d.mp3"},5931:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_14.116d2479a27a05a90473.mp3"},7961:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_15.a5012cd435f8bbde66d0.mp3"},9194:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_16.807c01ea7e6d509fff47.mp3"},3589:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_17.1cd981bbc89ab0d7dd45.mp3"},3497:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_18.5583a6e41badc6c2debe.mp3"},1664:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_19.8398fc95a4f5b684e262.mp3"},2620:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_2.48988982a3e7282a3459.mp3"},8596:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_20.dd94c498ec5226b2cb58.mp3"},6837:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_21.8acea49a0b6bd1840b25.mp3"},8406:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_22.f15f5a0e4048aa58deb1.mp3"},395:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_23.bd7d793da050657832d3.mp3"},1193:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_24.b2dc9e18b4f91fe2eb8a.mp3"},5496:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_25.103bc3e127170564c86b.mp3"},614:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_26.384fbd7d3d9f380ab9a4.mp3"},3935:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_27.e5d6e06cb1861fede007.mp3"},5525:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_28.d4f6f2462577a6dad15c.mp3"},3335:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_29.1c7998f3e32949f44cec.mp3"},7555:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_3.58881144023562d4f9f5.mp3"},3258:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_30.7bbb7c42a908a90d4f0c.mp3"},9364:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_31.1298060f2d742dc2dd8f.mp3"},7758:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_32.8aea46d1e0367014d2ec.mp3"},1158:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_4.5d7de99743358beeef06.mp3"},6245:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_5.abe8bc708b7dff79d62b.mp3"},9684:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_6.91418bf00df0da867b00.mp3"},2229:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_7.6d930a2e16b880d42b1b.mp3"},5690:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_8.ab1e1ed241d28a01eec8.mp3"},5156:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_room_9.942234ffad28b4775e05.mp3"},8076:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_1.f69154dd100ef9abee1a.mp3"},5932:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_10.b4096373e994d0c155a6.mp3"},6673:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_11.98a78be7ba7df622c17a.mp3"},2534:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_12.e89174b57e8debfd094d.mp3"},3840:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_13.9e7af5f27a82ed88e7d8.mp3"},2281:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_14.97312eceaea1ea6a2157.mp3"},8648:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_15.4ecba03c42afd779077c.mp3"},2165:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_16.37445f325f3d7a0ba062.mp3"},6169:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_17.d3eaee56e98281c71f06.mp3"},2016:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_18.7804f9e38bb310d0b0d3.mp3"},7678:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_2.ef68c0be258a8c825ce6.mp3"},1712:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_3.4c77b33ee34c8d2a1b9d.mp3"},5250:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_4.eb31188b4dc70b07415f.mp3"},6845:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_5.6d64bb81c9171652f5bb.mp3"},3288:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_6.e71685bc829f9dcabbb4.mp3"},4680:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_7.2bb084a42ad4e85efed6.mp3"},2306:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_8.a96ca6618e64d942f8aa.mp3"},5286:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_9.7aceb774e81350b77e52.mp3"},2461:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_1.8682412628e72b1844c3.mp3"},6294:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_10.1042324821ab06ec153a.mp3"},3498:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_11.35ffc3c58e33a27ec39f.mp3"},9467:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_12.7a8450cdf4c74a0c2084.mp3"},4789:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_13.f6ac8d6a577d66ba90e2.mp3"},8713:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_14.25984a5c2702bc32c697.mp3"},1785:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_15.2b0caa45c7608497a3dc.mp3"},3980:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_16.084248b1fd366faf04df.mp3"},8911:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_17.56e9752b0a1ebe564f08.mp3"},8197:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_18.f2c3bd6a12e4c9927e7a.mp3"},8055:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_19.bf533f466a1cbd9cb7d8.mp3"},6273:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_2.9db3f66d89e3f393f27a.mp3"},7235:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_20.9171e24ecb1482efdfe5.mp3"},4952:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_21.46ea457d419153bd38b5.mp3"},5016:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_22.7090dab43e470ee33643.mp3"},6668:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_23.947c8a2364bdd9be7334.mp3"},102:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_24.a8636f303ce99c67800e.mp3"},1026:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_25.3d7916f656256b337fee.mp3"},7478:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_26.74263030394e78b14158.mp3"},5796:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_27.cc53012860935f353dbd.mp3"},3378:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_28.1b13e6d26eaa2e7e0483.mp3"},1233:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_29.a5719a4d72b8d43b52f7.mp3"},6741:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_3.8483ace890d281d89067.mp3"},8672:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_30.83700df096cb5d7aca88.mp3"},6504:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_31.5d81712bd06f819092a4.mp3"},3031:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_32.64e31ea28d60a884e6bf.mp3"},7718:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_4.f1ea61a09f6deb979f08.mp3"},7477:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_5.54b8c6ef367b2b5246a4.mp3"},9846:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_6.1e509c9f26e8b9b5ba89.mp3"},8177:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_7.be5bd7f5dfb4adb2182d.mp3"},8811:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_8.f628a2041388d7d5b3b9.mp3"},1817:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_room_9.255874e89e300912eb88.mp3"},7806:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_1.eff5a32863e5be2967a3.mp3"},1313:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_10.0f4f6668fc16ddb444ee.mp3"},1738:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_11.ddd9a1f047e95588a47c.mp3"},241:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_12.ec202e35a04baa831e7e.mp3"},3780:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_13.ba9019626193267bb288.mp3"},2047:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_14.ddd6d52c2eabfa0474a1.mp3"},1772:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_15.5f1fce4789b659177e68.mp3"},6559:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_16.4d95b6c59673f4e3a9a6.mp3"},9388:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_17.dbda817c4bf45615b63e.mp3"},1847:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_18.e0d38c5ed523a3f53d01.mp3"},1598:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_2.c36a54b1426943fc3b6a.mp3"},2869:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_3.c2f93bd55c36ace2aa74.mp3"},631:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_4.b68b2faa3882315ce964.mp3"},8520:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_5.4df59276582025b887f2.mp3"},9903:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_6.fb597ef9a313216c52ac.mp3"},3432:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_7.619402cc52493147d360.mp3"},2220:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_8.0d3581b8f3d26fdd07eb.mp3"},6363:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_9.6a6079585fb14e3a1f44.mp3"},8215:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_1.cd747b0617258b316f8b.mp3"},6379:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_10.1dc02066a08f24340d5b.mp3"},9900:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_11.6315ee6c1598ecd957b8.mp3"},2456:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_12.0f806df8820907e8b806.mp3"},6166:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_13.2c1d767332906d18bd22.mp3"},4867:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_14.610bff1b0261e9caa067.mp3"},3913:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_15.4f88a0a486c9b718e18b.mp3"},3486:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_16.9e853aed0b6c821e98ff.mp3"},4364:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_17.280617d346557fa66c61.mp3"},138:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_18.ec0c7a07732caae6c940.mp3"},6172:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_19.3141e07562be61420c83.mp3"},2840:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_2.6422b3b8a1f0bd7bf147.mp3"},2739:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_20.c3270f053fdf39efdbb5.mp3"},469:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_3.d8a4b3932245dcc39ec8.mp3"},7818:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_4.971494a5818b7f5b9a1f.mp3"},994:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_5.5f82865c67126a613543.mp3"},8516:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_6.b9aea7a0b2dec4a4eeea.mp3"},3925:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_7.d7d816c26c9ac9e2b499.mp3"},887:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_8.07b43ccb9f49c750aae9.mp3"},4844:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_room_9.78a7d26b7947a7a4e0e6.mp3"},3569:function(e,t,n){"use strict";e.exports=n.p+"static/media/kcd.c641e6bdef1eca0b740e.mp3"},7440:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_1.e7f96a7ef4dde625109e.mp3"},6655:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_10.aefd088aeef316c1200c.mp3"},2415:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_11.08bd0383630125aa741e.mp3"},3721:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_12.489e6186617da6618d8a.mp3"},784:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_13.f7f0220ebcc2e4a08340.mp3"},1659:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_14.cf96e79ef0279e1c1c40.mp3"},7669:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_15.2fc5631f182f279879a1.mp3"},6207:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_16.7b493fb4bd37f85311ba.mp3"},1027:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_2.eb9bb389c42283d524cd.mp3"},9874:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_3.6bc93359ab0afa60f669.mp3"},2039:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_4.e72cb04af73a693ddc03.mp3"},8262:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_5.92c50f0e03452039d94a.mp3"},9030:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_6.048542bb5f0fab803502.mp3"},630:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_7.e1ab685ef0eeba4fe2ad.mp3"},3797:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_8.9a79e8ec463964e255b4.mp3"},2302:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_9.d1f3b4972a48ad7bbbb6.mp3"},9572:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_1.300416475abfeaf5260f.mp3"},7378:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_10.c962800438cb3d4ffa82.mp3"},9423:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_11.18f7b047a3babdb2b471.mp3"},7550:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_12.96e606c345801e82a3c4.mp3"},5713:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_13.651ae81f4804f6bb9901.mp3"},8080:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_14.94cb2550653a10241781.mp3"},4931:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_15.f80bcda6776dc0b851f4.mp3"},7904:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_16.5fb2346e137e32398c7e.mp3"},5185:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_2.dc063e1a08377bf0fe63.mp3"},363:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_3.ad6ff34f93053eb78ccd.mp3"},5927:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_4.d6edc6a72fffbd0669a1.mp3"},1830:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_5.2986af05b30e074ed714.mp3"},9738:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_6.cca5ce36ca093cfa6342.mp3"},9670:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_7.72fb0c267d0af38818b8.mp3"},695:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_8.becb7744d8573f19fba7.mp3"},7405:function(e,t,n){"use strict";e.exports=n.p+"static/media/pl_room_9.d87bbf3c7dd3bad377ee.mp3"},3658:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-35.2bfad008d6033eed7ea3.jpg"},4466:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-36.db49515035148f07c7b9.jpg"},4599:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-37.749fdba6fa140097af25.jpg"},4847:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-38.fa79ca865aff7f135a36.jpg"},7630:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-39.64e78e553cf61632f4ef.jpg"},7987:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-40.bdfbf1871d9d64526f3e.jpg"},1037:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-41.392028f0865b5f097a25.jpg"},353:function(e,t,n){"use strict";e.exports=n.p+"static/media/hrad-42.77b26be7a647f838c213.jpg"},221:function(e,t,n){"use strict";e.exports=n.p+"static/media/albrecht.52e4e95f70f162da3a97.jpg"},9543:function(e,t,n){"use strict";e.exports=n.p+"static/media/castle.cff1eda313709fa912cb.jpg"},2378:function(e,t,n){"use strict";e.exports=n.p+"static/media/dolni_nadvori.ab1bcdd3190ec903fa16.jpg"},827:function(e,t,n){"use strict";e.exports=n.p+"static/media/eduard.c9568e15e7201d0bd007.jpg"},3363:function(e,t,n){"use strict";e.exports=n.p+"static/media/hradni_nadvori.30ef0a54665ce1689081.jpg"},2857:function(e,t,n){"use strict";e.exports=n.p+"static/media/jidelna.382baccc82eae9caa119.jpg"},4134:function(e,t,n){"use strict";e.exports=n.p+"static/media/lovecky_salon.34f62c573dbcdf8a3b2d.jpg"},942:function(e,t,n){"use strict";e.exports=n.p+"static/media/nositka.4bb512471877a10b717e.jpg"},7896:function(e,t,n){"use strict";e.exports=n.p+"static/media/obrazarna.3bf9fa26d9ff4efc0e03.jpg"},1533:function(e,t,n){"use strict";e.exports=n.p+"static/media/piano.0f223e921120c44daafb.jpg"},8956:function(e,t,n){"use strict";e.exports=n.p+"static/media/postroje.ac78bd95e093040ac007.jpg"},8669:function(e,t,n){"use strict";e.exports=n.p+"static/media/pred_kapli.cc658c370ce9b4be4235.jpg"},250:function(e,t,n){"use strict";e.exports=n.p+"static/media/prvni_hradni.56e9c328b2f0dac6402c.jpg"},8222:function(e,t,n){"use strict";e.exports=n.p+"static/media/rytirsky_sal.471b7508238a3c76ecbe.jpg"},4332:function(e,t,n){"use strict";e.exports=n.p+"static/media/uniformy.a35a62cef7db5781cd6c.jpg"},3654:function(e,t,n){"use strict";e.exports=n.p+"static/media/vezeni.0bbdda7a86b127bb1f10.jpg"},6173:function(e,t,n){"use strict";e.exports=n.p+"static/media/vrchnostenska.c0e8380c02bce3867b79.jpg"},8617:function(e,t,n){"use strict";e.exports=n.p+"static/media/zbrojnice1.257e7edfc5bd4b1343b8.jpg"},5581:function(e,t,n){"use strict";e.exports=n.p+"static/media/zbrojnice2.70af679ac8c7e4223ced.jpg"},9233:function(e,t,n){"use strict";e.exports=n.p+"static/media/chateau.738dae2d061e04fa2599.jpg"},9549:function(e,t,n){"use strict";e.exports=n.p+"static/media/chodba.6ce06674c26fd941fb33.jpg"},5044:function(e,t,n){"use strict";e.exports=n.p+"static/media/detsky_pokoj.3ab328d9af482898196a.jpg"},3752:function(e,t,n){"use strict";e.exports=n.p+"static/media/dolni_nadvori.ab1bcdd3190ec903fa16.jpg"},6023:function(e,t,n){"use strict";e.exports=n.p+"static/media/erbovni_sal.aaa2ea1ab59e930f1e0e.jpg"},3487:function(e,t,n){"use strict";e.exports=n.p+"static/media/jidelna.a17cc410a92ba16dd9ec.jpg"},535:function(e,t,n){"use strict";e.exports=n.p+"static/media/kaple.28bd1da13db35622e397.jpg"},6581:function(e,t,n){"use strict";e.exports=n.p+"static/media/knihovna.78491cccf8b375facf9c.jpg"},228:function(e,t,n){"use strict";e.exports=n.p+"static/media/koupelna.4387f78c59f2755238a7.jpg"},453:function(e,t,n){"use strict";e.exports=n.p+"static/media/kuchyne.b70d43b19c8d9b68d5eb.jpg"},9453:function(e,t,n){"use strict";e.exports=n.p+"static/media/kvetinovy_salon.281beacfb67e51be263a.jpg"},1640:function(e,t,n){"use strict";e.exports=n.p+"static/media/lokajna.97cc51804b3b5b4ce98b.jpg"},5114:function(e,t,n){"use strict";e.exports=n.p+"static/media/loznice.f29b59a80cf39369942f.jpg"},6410:function(e,t,n){"use strict";e.exports=n.p+"static/media/loznice_damske1.723e22b671d43e1d9c0b.jpg"},710:function(e,t,n){"use strict";e.exports=n.p+"static/media/loznice_dcer_podkrovi.67dc992d308e5bc3611b.jpg"},4191:function(e,t,n){"use strict";e.exports=n.p+"static/media/loznice_klotildy.df160399755373d5796e.jpg"},1419:function(e,t,n){"use strict";e.exports=n.p+"static/media/modry_salon.9972d82cc11a328be74e.jpg"},6268:function(e,t,n){"use strict";e.exports=n.p+"static/media/panska_chodba.ba14bf784edf0af6238c.jpg"},2105:function(e,t,n){"use strict";e.exports=n.p+"static/media/podkrovi.9b99e2f97de64b30d2bd.jpg"},2387:function(e,t,n){"use strict";e.exports=n.p+"static/media/pokoj_dcer_2.1615da7c44288081c1d9.jpg"},2999:function(e,t,n){"use strict";e.exports=n.p+"static/media/pokoj_sluzebnych_podkrovi.363d755e58fbbf35022a.jpg"},6538:function(e,t,n){"use strict";e.exports=n.p+"static/media/pokoj_vychovatelky.ec8a8ebf474119bd4cdb.jpg"},2103:function(e,t,n){"use strict";e.exports=n.p+"static/media/pracovna.20bd670ecd462e4a14f5.jpg"},1100:function(e,t,n){"use strict";e.exports=n.p+"static/media/pred_kapli.cc658c370ce9b4be4235.jpg"},1485:function(e,t,n){"use strict";e.exports=n.p+"static/media/prevlekarna.7759a97615f47ec5e22f.jpg"},261:function(e,t,n){"use strict";e.exports=n.p+"static/media/prevlekarna_salon.67e34710441c671087dc.jpg"},5895:function(e,t,n){"use strict";e.exports=n.p+"static/media/prijimaci_salon.939c716778037542bfc4.jpg"},4146:function(e,t,n){"use strict";e.exports=n.p+"static/media/pripravna.73bfd7115f7168370c37.jpg"},384:function(e,t,n){"use strict";e.exports=n.p+"static/media/salon_damske.fd75ff8dfac88f10bef2.jpg"},6483:function(e,t,n){"use strict";e.exports=n.p+"static/media/spizirna.3d2b4af4319f97427817.jpg"},1963:function(e,t,n){"use strict";e.exports=n.p+"static/media/stanovy_salon.bak.7b67f8cd229ecc0f8db7.jpg"},9401:function(e,t,n){"use strict";e.exports=n.p+"static/media/stanovy_salon.9de783749b39a1b5af7a.jpg"},6373:function(e,t,n){"use strict";e.exports=n.p+"static/media/ucebna.588409a945ad3fedda9b.jpg"},8060:function(e,t,n){"use strict";e.exports=n.p+"static/media/umyvarna.052e6f26d4daeb2b511f.jpg"},3146:function(e,t,n){"use strict";e.exports=n.p+"static/media/albrecht.5e56006308a26c4c322b.png"},599:function(e,t,n){"use strict";e.exports=n.p+"static/media/biberstejnove.4603f4cf7203a58151a7.png"},9329:function(e,t,n){"use strict";e.exports=n.p+"static/media/clamgallasove.8e265acfc48203be2f18.png"},5688:function(e,t,n){"use strict";e.exports=n.p+"static/media/gallasove.5f3744c90f4f77454888.png"},8584:function(e,t,n){"use strict";e.exports=n.p+"static/media/redernove.82709b824f3fe8741d85.png"},7049:function(e,t,n){"use strict";e.exports=n.p+"static/media/ronovci.eebd686af2d2c8ee0a78.png"},7218:function(e,t,n){"use strict";e.exports=n.p+"static/media/history.d962ae0c2aa5f1750769.jpg"},6903:function(e,t,n){"use strict";e.exports=n.p+"static/media/houses.07f914a0dd3dd7af8ad3.jpg"},2347:function(e,t,n){"use strict";e.exports=n.p+"static/media/homepage_afternoon.7f63db193c0d93dd12b8.jpg"},2964:function(e,t,n){"use strict";e.exports=n.p+"static/media/homepage_evening.8c72f255b8838e80a20b.jpg"},4610:function(e,t,n){"use strict";e.exports=n.p+"static/media/homepage_morning.30a834f1f8c139dc55c9.jpg"},7693:function(e,t,n){"use strict";e.exports=n.p+"static/media/homepage_night.369b2625991d94b487cd.jpg"},345:function(e,t,n){"use strict";e.exports=n.p+"static/media/icon-128.987b6916ad8cabc59e8a.png"},5920:function(e,t,n){"use strict";e.exports=n.p+"static/media/icon-256.a582b8fbf057d003d7af.png"},9485:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAqCSURBVGhD1Zp3aFVpE8bHWGPvGnvvFVTsqKy7uljYtaNiRxFB/UcQVD4bKqyuiA1BxRYVwbXFvjZsid1YEruxxhp7Esv95jc5b/aam8SErxgfuOSec8953ynPMzPnkGw+RUxMjCQkJMiPhipVqog5EBkZKfXq1fNO/xhQs+XWrVsSxEFQUJBky5YtQx+Q2vn/98fZbA5kBtAtKyHTDmQ1rWTagc+fP3vfsgYy5cCHDx/k9u3b3lHWQKYcePTokezfv987yhrIlAOVK1eWNm3aeEdZA5lygNoLjbISMi3i+Ph471vWQKYcmPvHH7Jw4UKJi4vzznx/ZNgBqBN56ZKcO3dO1q5d6539/siwA2/fvpWSJUtK/fr1EYN3NguAYe7SpUv8SRdHjhzxNW7cGMt9efLk8V29etX75fvhxo0bvgxnoGDBgpKoY0SBAgUkMTFRypUr5/3yfZFhB2JjY3UOSjTj3SSYFZAhB96/fy9nzpyR+IR4+fTpk81D4eHh3q8ZByX4y5cv9v3jx4/SvHlzGT9+vJw4cUIWLFgg/fr1S15XGSLPnz+37+kCLn1LAw8fPvTt3r3b17ZtW19wcLDpoHPnzj51xLvi24iIiPAtW7bM1717dzt+9+6dL3fu3LYWH82ofUJDQ+33nTt3+kaNGuWbNWuWTx3xaRDtvD8yrAEiR+ShjTpgf9UhuXDhgndF2lDxy986Pz179kzU6ORhMEeOHEZFB7XH/rpOf/36dXny5IlMnDhRSpQoIfPmzbPzKfFNB169eiWXL1+Ww4cP2yxEKXUa2L59u3dVIK5duybLly83Q+NV/Ggoe/bsRiE+aCl//vze1UnAiadPn4pm3K7FacD1W7duldmzZ9uxP+yZGAPr1q3rnfoH8BROnoqIkHD90AuioqLk5s2b9jtOEJlx48bZsT9WrFghw4YNk127dsnLly/l/Pnz0qRJE5kzZ44ZVqhQISlatKjpCaOLFSsmr1+/lrx588q9e/csEzjk3/WbNm0qSkXvSMyOdDNA9HQV2aV0OX78uN2svPV+TXIgrZcBRBC6lS9f3oxq1KiRbNy40YwYNGiQtGvXTlq1amXCVT3ZOjVq1LD9eOqDbmTfgb1SE3W6DthNL17I48eP7RgdvNBjh5o1a0qpUqW8o69BdKEYThD5kJAQ6yG5cuUyh4gwTl69csX4vmPHDtNUjEafe+g7/O7oSjYy7QCA93CStEIF5wzIly+fGZoa0ArR575Tp07ZKxCi7C9cKMk1OOWMLlOmjBkMnaAX/Md4QGZSPtKm64AzlnTzqVWrlpQtW9YiWbp0ablz547s27fPrkkJogzPixcvbl27WrVqUrVqVSlcuLDpIUiNJDAInCr35s0bc/Lu3buWHZzKmTOnt1oSYEDKlwppihgOEjmiPGHCBDl79qxFJSUwasOGDUYTf2hvkXLqLIZ90QjGPo6V4LzBcl6nWY4LaAXKoQaiM6JMZKlUvLbBcCf806dPmy2A7LEewQHpiph6Xb16dVvgwYMHlu7UwCJdunSxDVMiSDn8Qs/fv39fihQtYmu81KpCFh9pdmfMmCEjR4604rB+/XoZPXq0LFq0SG7euGEltmLFijJ16lQrn61bt/6Kfg6pOoD6iciBAwesYcHLmlohqBJQp0KFCvZeEp47ge3ds8e7OwlEFaeI6rp16yyD3bp1k7Fjx9p5mhQRxjkaFTRjT6jzSjPN+W3btsnOsJ1Gtc6dOsn8P/+0df0R4ACLwDMW0pHZhEdTIpLoAF0gTK6Bqzwf4FBUdLS3wj+gsqxcudJKMBRDD4C5CoPZA2AsgQBEuU6dOhKt66Gh5y+em9bW6EMUevMvrSDAAQyk/G3ZssVSd0I3R3iUS6KPQ/CexgMliDAUIwv8ddBnBtm7d68NbJRe1oQuVC2GQ34HGEw2Ha8JDF2aoBFMtAmN0R8l3QXBIcABuuL06dPN0969e0shNb5hw4ZWTumgvFZhw44dO1oDatCggRl48uRJi5SDEzA8ZlMqDcYQVaILfWiKBGeFjhzQFWdwgGrE9WSIbOAQ5ZYg+jdSkP1fCoyGz4BmQYMqoZsSYcYJIoYRbM4G1GyMp7t2/Okn664I7xflKVkCOXVzKhgVqkePHkYzBjsaWrSOI1QggsS6RJvMI1yMpYKxL2MENGZPqhVjCI44oKUAByhZVJ+ZM2fKxchIuxnhsHBJFdu16Gv2hg7+swFphlJERx85rUc4cB7DCQg8JyOsw3k0AA0RN45Q49kHLbCmA0HEBtig47V3Ngk4oMPO17iirR0KjRg+XMrr5nD1rW6cT6NDBHfv2W0UwlGiTd1m4GPTTpoBtOAESbqhECBbOr9bRbt48aLRDuM5P3ToUNPPsWPHTPj0ARytVKmSBQqdpZxcHQI0wCa8//zt99/MUFJcVqMFp5s1a2YipAoRRSILTYjswYMHZfXq1baxP4gqTmEIemnRooWNDEWKFDF+YyyGQzVoQyb4SxCoXGPGjLG/KbuyQ4ADffr0MW/j4xNs4xzajBiqEnVRhHzo0CHZo72hQ4cOxk8qFYJkBJgyZYosXbrUOL1q1SqZPHmyTJo0SfJphcHxTZs2mWHV1HlqP1HHQYoDRrMP4Br2JhhHjx61TKYMjEOAAywEWAzhZNdPIY1YXhUu54gEkccZHjK6du1q0SSyZGjJkiXWuDZv3mydlugiaCoLhvFmQ78Ytz9rtKEe97IOWcJwpwUqkaMk31NDgAMOCAvx4Pl7XThB/7IYmmCWWR8aanW9ZcuWVh4RJM5jEJHlXkYMokfVwrjBgwfLff3tnRpPMGrVrm0PSIt1fFi8eLFllz0ARsP9AQMG2Pe0HvADHHAL4DFCJeJf1Ci4ac7oOcrqZ43ScBU6WaLCMNPf0rmIeyipe3S0QJAcU99pVDF3Y+z+qKhoux7DyB70JCMu4oAs8HwwZMgQ6zGME6khwAFXwogm/Js7d65lgx6A+HLTQXUTV+9xDEPgNIMa971WUTsQeWdom7ZtJFZnoDx5cltmMIoqRgNMi+PYwx7fdMCJibbN/MJ7mjVaVcJ2hEnPXr1MqEQ72BsBMIqNeSammvB4CDCYTkuHZfirXq26nUfY8+fPt+mV7PGSmJIN1TCS/dMCWUmLQtYHmPqo8SxIZUFweM0cc0vHavjNNYjUp4a/UwoBMgLfiTqNsG/fvlbje/XsKU20O4eFhRmVGImnTZuWTA9KL2sSBBzOCKAYTqYcqe2BhuhR7xEbPYCqwyzPTS61OPSrjg/MRpTRUqVK64S4xqZRxMmYzBsIMki26A1lQsrIufPnkivbfwIM93+YAckPNDzu0TvjXsaZoXHKeYRLdNywVlsrxua//rIRoLmWvfCIcJtYKZX0glCtSmSO14RUGIx+8DApO/8NEH0q3ogRI6xUMy8By8DAgQOTH06gEmC4YkYKKR0id+7ekV9+/llO6xzPQMU8T5du37696YZqQyfmfrLGjILwHWX+V2AUMQeYLCmNrhpQziifpM1xDmNo6f3797dnAkTFMMci/LMINfsjZVazxm8IE4e4n3vJLEWA73wA59w17jg1cA0fMusvdvqGOeAd/4AQ+TeNPt5p+r+iYgAAAABJRU5ErkJggg=="},6344:function(e,t,n){"use strict";e.exports=n.p+"static/media/icon-512.1bff783033e4814f3101.png"},9771:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABAqSURBVHhe5dt3rFXVtgbwiUgVFQsqxYING4pcO3YFu9FYYr2CXaP+YzTWcKPGPKNeEks0Gr3YrrE8e++NIhYUAUUEVJCOoNIF7pu/wZ7ew7n7HOAQ33snjGRlr73OWnPN8Y1vfGPMuaHJv7Kl1dgCgI8++ig1bdq0cmn1sBkzZqSjjz46JQAMHjzYx2plI4YPj881KoA02JYsWVI5a5y2ygCM/vbbylnjtFUGYN68eZWzxmmrDMDi1T0Ffv/998pZ47RVAiCLaFowf37lW+O0VQJg2LBh6ZJLLw0gGqutEgDrr79+OuSQQ1KTJk0qVxqfrRIAnTp1SltttVXlW+O0VdaAuXPnVr41TltlAFbrKiD606dPr3xrnNZgAH766ad0zjnnpLvuuis9+uijlauNzxoMwJdffpnWXXfdtHjx4nTttddWrjY+azAArVu3Tptssklac8010+zZsxttL9AgAAjf999/HyzYa8890zbbbJOGDBlS+WvjsgYBwNm2bdumb/NS+KMBA9LHH3+cjjnmmLRw4cLKHY3HGgSA5gftLYU32GCDuLbLLruk5s2bx3ljsgYBQPhowKJFiyIdtMJrrNFgOfk/tQbN+pdffkmPPfZYmjJlSvrtt98CgFmzZgUwf4bNnDnzT+s4GwTA8OHD09prr5223nrrP6L/3XffxURX1ejInDlzKt+W2kUXXRQLr+OPPz69/PLL6e67706HH3546tChQ3rggQcqdy3dnyTOK7NPudIAiPj222+fOm+xRWrZsmUcIo8Bd955Z+WulTdldGAW1OeefTYdcMAB6b333qv8Zem2m1R77rnnYiv70rwEf/3114OBpRP1+eabb6Ynn3wyHXfccaFRK2INAkAFWKtNm6DlOuusE5N33HjjjRGBlTFsGjhwYHr44YfTogxkk8wme/ZKbLFWrVot02eUc590iLnn008/jfR88cUXQ5R79OiRbrrppvh7XbbSAIiGSU+aNClSoFmzZqlFixaRBo6akVsR44QfZTbccMMAc+rUqcGomnsMa621VuXsP01AmAqEERMnTozvY8eODWC/+uqr+F6XrRQA+v/hecDPP/88KLn55pvHxOWtvOMM9GvncG3joHTRQrsXmBz5atiwyGv5jsKiK7W03DUZUNN+/vnnNHr06JgboH799dfKX5baBx98kLbI6fr+++9Xrixr8dOYRmbP3NHVZ14A4U8/+SQN/eKLoJoooeqIESMqd+UB8zX0e+ONN1K7du0qV5e1H3/4IZ173nnprbfeSs8//3yw6Jtvvkk//vhjOuyww9LTTz+dXnvttWDGBhmMlpnezh0FGBGfP39+BGDsmLE5fRbFd5o0YcKEypv+bf948B+pd5/elW8pjcxz3mHHHVecASUCEzIQX3/9dYiQ3xTpQU1zX0y80iBVs9k56p5zLwcACziAAWTatGmpS5cuEZQtc9PlniuuuCLtv//+sf7Ydttt01577RVMAd6Mn2dEamLD5MwmVjOF2LTp0ypny9oKA4CGHH42qzSES8lbsGBBfBbz4p133rnexkjK0I0jjzwyde7cOXXr1i3Ufb/99gsKc3LjjTdOJ598cgCBwq+++mrMYdNOndLizICxY8akHzKTMEfUy5glUUrAChBSqZqtMABtsupvtNFGcVgBMpQrolOsV69eMdH6DDgXXnhhuvnmm9O8XEna5NzVWYr8kqwPACGwUvOLnG7eTWOsPWbl1BsxcmT6JCs+FnFQ7tuflBYcN77rjgKEsavZSokgx1SAUaNGxcAGrQ0AugKpPqP2hFDpmpFpyyE6MiKP3StrgHqurmPXpptumsbkaO+9994hutJFihFLAACKw7SBoJpXEeTiPBOsarbCAKDbgQcemNq3bx8v7d69e4idc/mOfo7HH388vfTSS/+RGjUNkCIusiamoqD+wQcfHHmty+OMNOuS892947NAdt1pp7R/ThPPEEwp+UkWZSn5S6Y4YAo7a1spl7VthQCQX5999lnU+IMOOihEKEpijpjoqAheLG9FDPXqWxdwvCykrCx77LNPjNl2vfWixW6ehc3yWkPUv/9D4eBbb7+d/t6vX3r+hRfS/HnzQ/wAuV5mgWfaZ0bQgpLzta2uznC5ZRCdoGzSVPaqq64KNkyePLleJ7fbbrv0Qp6szZLahpqaFPcAT4RF27gYgD0ABiYn6YLO0xwADbxFGbxxueucMGF8dm5OapavY8U3OT2HDh0a4lgzBbCKkBYrZbA6X2qY9pIoGdy5nKeoy1twmMCxxx4bTZNcr2miVJ7nLBahr3RSFSysvAcwSq60ognjx4+PFOiaqwwBlTbyX6U4L/cVk3JQOmYmSFXjaX7efffdeK4uqzcFUL/k55dZjW+//faYPPpRXhMUEZPwQp/FnKPuS7kzrMs8I585jU2DBw9OO+ywQyy2TjnllHCG6Inohx9+GOuMbrvuGmW2LMJE2acxBOnW225LN9xwQzBUuloc3XHHHZEm1axeANDQBN/O+af7u/LKK1P3PIF999037ZPztmfPnqH41NmkTN6BMSbYsWPH9HEde4WzMuVVEYqv/r/zzjsholKiUHdKXhcYY2oGoRh2uFZynfOCoASOGzcu0sR8bNs988wzsTLkvKV0NasTABNRZjjjJaJgwgMHDUqvvPJKiCLKoqoXW3xIDZS1ANm1264hiuhdLV2WZCdFysTVcDX+iCOOCDoXJlF5k++85ZbxnS1ZvLQf8Fyxrl27Bs0xREqZ0x577BHlGlO11ffdd1/l7mWtKgDaSqpJNNDy3HPPjXNVwGqtTBBAaCwa0qFEj8OTp0yOicRCpMoK0YQdyqplNcEE3tlnnx3PdOzQMQAljvoG5r3tNmq3TJ/h3RgwJAu5ccyHkBJs41toSaO6epOqAHhoYqb/WWedFfVTj75TrsEU/YzTT0/XXHNNOvHEE+Mll112WTo9X5OzmhUOiah7Rd9Yo3LEaioyEyF56hn5a+IES96u0SQ3NnNmR5ltm6sAEeWoQ0piG6d9xwTgK4PMvViLlZzWMLl20kknxd9rW9O/ZZPrJl1MZP/rlluCTot+XxTtbSlB/k2QwUVZLrqGHftlXdh9992jnpdNEiKIwnLbKq+mSav/zqu+IbnEnnHGGZFevXr2in9xMnzE8LTZZpsF2wYMGBD/EEPpk3KW20qoqkCgzUOlcZ9zoOyTQdUyWybzSyr9rW/ftGGN1an3tcsAVQXAQOrsqaeeGq3td3mg+RkMEdecqM9AKhsV+vndsvMmbRxdIoePOuqopSBk8HpmEGsakIz94IMPRkmj4PL/ncwCnaUl85w8rndZHDlUpXKILjYQW4ECKPMpbeU/ZmDW1VdfnY7OjVVNqxcAEe7+l7/ENRuQSpAooLSXySlNS6eOnSJHx+dmBDioaUJyF2McomTpWvsfUogUwCh2++yciZaSC9hpOcKuobiVIjZQdi0yNtCpaIjygW3Gq200YcssoDU3TosVAKp2gpoYKGOAmi+iclM0OM9M0gLmuuuuC2oC8frrr/9DoTljclLihBNOqNoRMpECgqoCXF3nnNzZdezUMTSCkAKX496hBIs8oIima2XL3Jxrm6aIttS2ejdE5PX555+fLr/88tiGziSJCAJjvdyv75gf5JCyw0noE0uTKgsma31C179//yibTGrVNvrgeZESccZ5XaelMKc4rKvbOzNJ78GMrU0uO8bFeQDZPNH6spKmdVlVAFCXMClJrbOC6sWpqWoAABNWkqi/kiUS8pYIyjumsbEjKx10kNWiwIzFCSVLNQCeyavtGGexo+mKJXQGEMOAQeCAXxNUYwEDvbFXIAuodVlVAAiO1RgjfgvzoMTFYK1atQyKezlAMES7S9GJGmBuyRXkiSeeiElLGUJ45plnxn6iaKI2ZX7ooYciWgBQ7kRUZyj6AAdGx6xDABYU76Q5aE9rlEv5X5x0joUO9zFj12dVAWDykXmRiZk459q0WTuivH5mQstMXy/fJddd3RrRRHeO77bbbjHxYiZ96mmnRW/uhw/tb+/evWMD1NjTc3WhPSgLNCAZh4Y4F1XRlYYs1g9L/r0WYBig7GKFa8ayfVaf1QmAgZmOcHbOby8mRM5NhkOYwTiQ3x06YDfYT1noe8EFF8S5f0qDknQDfR//5z+zxpwXgHqPcWkMpecAhrlmx/mRRx4JfXAfAHbK+nNbXvBgA2A4WuYKAGVa2pVr+oH6rM79AOqsLouiAmM4OQXdFnmCPMYSDJCnJnRFXiwdlEVQeRFF6TFv7rw0c9bMAJKDUkt6EFJO2xp3YJW8VlEmZD3w7w4igtlBPYJmR5ktoleT2sVZcwF8nz590jG5dNpeM66SXduWuy1eaEUAm2bHqSwnvZwuiLZrv2aEZ2bEx+TJ0Y4+WTjdYzIzps9I474fF2DOmjkrNV2jaZQs0VXurPONY1xpRnB1eZzHDlXA6k8aAmOTvLiywFI5OF2OYuasMqlaPXI1wAQdo6auLltuClDemrVWKjj014RJe8lZ1C3NTnHSjxVliTt12tTUvEXzP8SpjC99FmZAgYBVdonktxWlKHMe0Bg1Ma8r0N53ANVlxvasMX0KUF1WdRQDiAybmx0RCesBC6LyCzCBKosULwJKqcVSRTMj5/+a1Z9hRWhIrb05kV2Qn1NRqH6HfFjNGVcpxAipoRkq8zJOtZ6ithnDMwJYly2zJYZCRATt1HEbCqOyMo/MOrB7VvXxlR0e0fE3kxAJosUxTKAZFiz+AcWtt94aDCnRphmDBg2KqALHdX2F93Lq/vvvjyU3IFDdRoxx5bBP7ytjrYiVe6VCXRYAqLuiB+kpmWL26iGPbtCz1CVAJqHhcc2gJlkigeqqA4cwg2ECEbJwsj9oTXHJJZdEa41BFimjvx0da4x+/frFdnqJGmA9ZzyAzMi5/FNuixtiywWAcxyWqyavGdHUoLZKIOJ2hJhIcZZDTz31VCi0Tg9zOIcNhRnu46jlst/8/F7/93yvtbtcNzGgeq6kT4maMdDeUayAs7JW0rmahQZwGtKUWDMjchyanwWEoHGy7PdxUI5qSZUyP3HbD3SP9YMfTRnHUZ2jKEydrSi75O8EDb2B5EfL4vzyrCHOMyldqlptCwDkrh8jKPTQXG+ttbGhWXaW0gODMyjp3MT9KuQTE/TurntJ6SmUvtNy59e3b99ofqRHdHiTJqffcqsKIKXwf8PsPQqu3aeLL7449KmkUwAQOZdB0HbumJXeZga6WdmV1hMVOcmwwM9YaAoUANIGOe0X3UMPPTSaoHvvvTcqiA2KSfmFLVu0jKbIRgeA6orKn2FS1zzuueeeWOhZyLHoBP3ag+ra3G8rqyxrfdeKyFUzrJACcpuwAVLjQc2BQjeIXKvWrf4QSany/8GkvKAGAPJW2SuNA0cwAMVFmzO+O5j7UNj/F6IHOi2VQ60XVX8bOXJkVAvPYlG8rPK8nKcz7vV3Zkx/9937Hcyn+xzmUw73C06ZazUr173LeWGcZ/zLk765YwwA4upqaSn9DwXv6wwyGhhhAAAAAElFTkSuQmCC"},295:function(e,t,n){"use strict";e.exports=n.p+"static/media/maskable-icon-192.2be9a4a0fb28eafccac1.png"},5913:function(e,t,n){"use strict";e.exports=n.p+"static/media/map.795bc53df3e14b58b803.png"},7695:function(e,t,n){"use strict";e.exports=n.p+"static/media/albrecht_valdstejn.fb06fd8f0d6dac7479b1.jpg"},5619:function(e,t,n){"use strict";e.exports=n.p+"static/media/antonin_pankrac_gallas.17a8d04e7b0a0d7a04cf.jpg"},2411:function(e,t,n){"use strict";e.exports=n.p+"static/media/clotilda_clamgallas_mladsi.aa59ee50eb9d976d243c.jpg"},2134:function(e,t,n){"use strict";e.exports=n.p+"static/media/eduard_clamgallas.9a6f04b84d8873f91801.jpg"},2789:function(e,t,n){"use strict";e.exports=n.p+"static/media/filip_josef_gallas.c7866f9998473bbe1e87.jpg"},5648:function(e,t,n){"use strict";e.exports=n.p+"static/media/frantisek_clamgallas.57da83e13eb15406d92c.jpg"},4361:function(e,t,n){"use strict";e.exports=n.p+"static/media/frantisek_ferdinand_gallas.4928950668ab95fb27a7.jpg"},7862:function(e,t,n){"use strict";e.exports=n.p+"static/media/jan_vaclav_gallas.08394af058fc1a9bbf90.jpg"},5130:function(e,t,n){"use strict";e.exports=n.p+"static/media/katerina_redern.daafc19167232be25acb.jpg"},9565:function(e,t,n){"use strict";e.exports=n.p+"static/media/kristian_filip_clamgallas.6b65fb349d01ec4b1932.jpg"},2881:function(e,t,n){"use strict";e.exports=n.p+"static/media/kristian_krystof_clamgallas.753f3886a7f6f510ecb8.jpg"},7377:function(e,t,n){"use strict";e.exports=n.p+"static/media/krystof_redern.e2eb4f6a54efc68f7379.jpg"},8865:function(e,t,n){"use strict";e.exports=n.p+"static/media/matyas_gallas.06ab2e206727ce0b8300.jpg"},6497:function(e,t,n){"use strict";e.exports=n.p+"static/media/melchior_redern.923657121e584e1cd91c.jpg"},2856:function(e,t,n){"use strict";e.exports=n.p+"static/media/vilem_clamgallas.dde460b9badc7445f31a.jpg"},878:function(e,t,n){"use strict";e.exports=n.p+"static/media/grabstejn.9c24251b182268dcaec5.jpg"},3653:function(e,t,n){"use strict";e.exports=n.p+"static/media/lemberk.048da98fa82b2f8930a4.jpg"},4902:function(){},522:function(){},753:function(){},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function a(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3878);var a=n(181),o=n(5267);function i(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,a=c}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);var a=n(9199),o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002);function a(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return r[e]}}));return i.default=function(){return r},n.d(o,i),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,o.Z)(r.key),r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(g){return!1}}var h=n(1002);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t=d();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,h.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}var m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function g(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function v(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function y(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var b=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],a=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,a)}))}},e}();function w(){return _}var _=null,x=new Map,k=new Map;function C(e,t){var n=I(e,t);return x.get(n)}function E(e){for(var t=x.entries(),n=[];;){var r=t.next(),a=r.done,o=r.value;if(a)break;var i=o[0],s=o[1];i.split("_")[0]===e&&n.push(s)}return n}function S(e){var t=e.kernelName,n=e.backendName,r=I(t,n);if(x.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");x.set(r,e)}function A(e){var t=e.kernelName;k.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),k.set(t,e)}function I(e,t){return t+"_"+e}function R(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function z(e,t,n){return Math.max(e,Math.min(t,n))}function T(e){return e%2==0?e:e+1}function N(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function O(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function D(e,t,n){void 0===n&&(n=""),O(j(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function M(e){O(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function P(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||Q(e)&&!n)for(var r=0;r<e.length;++r)P(e[r],t,n);else t.push(e);return t}function F(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function j(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function B(e){return e%1==0}function L(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function W(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function G(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function H(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,a){var o=0;!function i(){if(e())r();else{o++;var s=t(o);null!=n&&o>=n?a():setTimeout(i,s)}}()}))}function V(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found "+e[a]+" at dim "+a);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var o=e.slice();return o[r]=t/n,o}function U(e,t){var n=t.length;return O((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),O(e.every((function(e){return B(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function q(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:U(t,e).sort(),i=0,s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function K(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function X(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function Z(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function Y(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function J(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function Q(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function $(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function ee(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function te(e){return"string"==typeof e||e instanceof String}function ne(e){return"boolean"==typeof e}function re(e){return"number"==typeof e}function ae(e){return Array.isArray(e)?ae(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":re(e)?"float32":te(e)?"string":ne(e)?"bool":"float32"}function oe(e){return!!(e&&e.constructor&&e.call&&e.apply)}function ie(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function se(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ue(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=P(e)),n&&Z(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),a=0;a<r.length;++a)0!==Math.round(e[a])&&(r[a]=1);return r}throw new Error("Unknown data type "+t)}function le(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var a=new Array;if(1===n.length)for(var o=n[0],i=0;i<o;i++)a[i]=r[t+i];else{o=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(i=0;i<o;i++)a[i]=e(t+i*u,s,r)}return a}(0,e,t)}function ce(e,t){for(var n=de(e,t),r=0;r<n.length;r++)n[r]=1;return n}function de(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function he(){return w().platform.now()}function fe(e){e.forEach((function(t){O(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function pe(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",w().platform.encode(e,t)}function me(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",w().platform.decode(e,t)}function ge(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function ve(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}Object.freeze({shuffle:R,clamp:z,nearestLargerEven:T,sum:N,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n},assert:O,assertShapesMatch:D,assertNonNull:M,flatten:P,sizeFromShape:F,isScalarShape:function(e){return 0===e.length},arraysEqual:j,isInt:B,tanh:L,sizeToSquarishShape:W,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return R(t),t},rightPad:G,repeatedTry:H,inferFromImplicitShape:V,parseAxisParam:U,squeezeShape:q,getTypedArrayFromDType:K,getArrayFromDType:X,checkConversionForErrors:Z,isValidDtype:Y,hasEncodingLoss:J,isTypedArray:Q,bytesPerElement:$,bytesFromStringArray:ee,isString:te,isBoolean:ne,isNumber:re,inferDtype:ae,isFunction:oe,nearestDivisor:ie,computeStrides:se,toTypedArray:ue,toNestedArray:le,makeOnesTypedArray:ce,makeZerosTypedArray:de,now:he,assertNonNegativeIntegerDimensions:fe,fetch:function(e,t){return w().platform.fetch(e,t)},encodeString:pe,decodeString:me,locToIndex:ge,indexToLoc:ve});var ye=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new be)}return e.prototype.profileKernel=function(e,t,n){var r,a=this,o=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found "+a+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),o.then((function(o){var i="";null!=o.getExtraProfileInfo&&(i=o.getExtraProfileInfo()),a.logger.logKernelProfile(e,n,r,o.kernelMs,t,i)}))}))})),r},e}(),be=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,a,o){var i="number"==typeof r?G(r+"ms",9):r.error,s=G(e,25),u=t.rank,l=t.size,c=G(t.shape.toString(),14),d="";for(var h in a){var f=a[h].shape||t.shape,p=f.length;d+=h+": "+p+"D "+(p>0?f:"")+" "}console.log("%c"+s+"\t%c"+i+"\t%c"+u+"D "+c+"\t%c"+l+"\t%c"+d+"\t%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),we=7;function _e(e,t,n){return G(Array.isArray(e)?parseFloat(e[0].toFixed(we))+" + "+parseFloat(e[1].toFixed(we))+"j":te(e)?"'"+e+"'":"bool"===n?xe(e):parseFloat(e.toFixed(we)).toString(),t)}function xe(e){return 0===e?"false":"true"}function ke(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Ce=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=F(e),null!=n){var a=n.length;O(a===this.size,(function(){return"Length of values '"+a+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||X(t,this.size),this.strides=se(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),O(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var a=this.locToIndex(n);this.values[a]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,a=e;r<a.length;r++){var o=a[r];if(o<0||o>=this.shape[n]){var i="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(i)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Ee().makeTensor(this.values,this.shape,this.dtype)},e}(),Ee=null,Se=null,Ae=null,Ie=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=F(e),this.strides=se(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),O(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),this.reshape([e,t,n,r,a])},e.prototype.asType=function(e){return this.throwIfDisposed(),Se.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,Se.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return Se.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,le(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return le(this.shape,this.dataSync())},e.prototype.data=function(){return v(this,void 0,void 0,(function(){var e,t;return y(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Ee().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return me(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=Ee().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return me(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Ee().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(Ee().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),Se.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),Se.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),Se.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),Se.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),Se.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),Se.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),Se.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var a=se(t),o=function(e,t,n,r){var a=F(t),o=r[r.length-1],i=new Array(o).fill(0),s=t.length,u="complex64"===n?ke(e):e;if(s>1)for(var l=0;l<a/o;l++)for(var c=l*o,d=0;d<o;d++)i[d]=Math.max(i[d],_e(u[c+d],0,n).length);return i}(e,t,n,a),i=t.length,s=function e(t,n,r,a,o,i){void 0===i&&(i=!0);var s="complex64"===r?2:1,u=n[0],l=n.length;if(0===l)return"complex64"===r?[_e(ke(t)[0],0,r)]:"bool"===r?[xe(t[0])]:[t[0].toString()];if(1===l){if(u>20){var c=3*s,d=Array.from(t.slice(0,c)),h=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(d=ke(d),h=ke(h)),["["+d.map((function(e,t){return _e(e,o[t],r)})).join(", ")+", ..., "+h.map((function(e,t){return _e(e,o[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?ke(t):Array.from(t)).map((function(e,t){return _e(e,o[t],r)})).join(", ")+"]"]}var f=n.slice(1),p=a.slice(1),m=a[0]*s,g=[];if(u>20){for(var v=0;v<3;v++){var y=(b=v*m)+m;g.push.apply(g,e(t.slice(b,y),f,r,p,o,!1))}for(g.push("..."),v=u-3;v<u;v++)y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),f,r,p,o,v===u-1))}else for(v=0;v<u;v++){var b;y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),f,r,p,o,v===u-1))}var w=2===l?",":"";for(g[0]="["+g[0]+w,v=1;v<g.length-1;v++)g[v]=" "+g[v]+w;var _=",\n";for(v=2;v<l;v++)_+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(i?"":_),g}(e,t,n,a,o),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+i),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),Se.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Se.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),Se.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),Se.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),Se.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),Se.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),Se.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),Se.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Se.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),Se.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),Se.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),Se.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,a){return void 0===n&&(n=.001),Ae("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,a,r,n)},e.prototype.batchNorm=function(e,t,n,r,a){return void 0===a&&(a=.001),this.throwIfDisposed(),Se.batchNorm(this,e,t,n,r,a)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Se.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Se.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Se.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),Se.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),Se.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),Se.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),Se.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),Se.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),Se.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),Se.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),Se.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),Se.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),Se.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),Se.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),Se.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),Se.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),Se.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),Se.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),Se.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),Se.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),Se.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),Se.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),Se.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),Se.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),Se.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),Se.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),Se.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),Se.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),Se.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),Se.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),Se.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),Se.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),Se.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),Se.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),Se.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),Se.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),Se.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),Se.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),Se.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Se.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),Se.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),Se.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),Se.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Se.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Se.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Se.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Se.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Se.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Se.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Se.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Se.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Se.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Se.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Se.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Se.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Se.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Se.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Se.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Se.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),Se.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Se.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Se.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Se.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),Se.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),Se.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Se.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Se.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Se.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Se.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Se.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Se.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Se.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Se.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Se.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Se.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Se.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Se.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Se.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Se.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Se.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Se.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Se.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Se.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Se.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),Se.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Se.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Se.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Se.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Se.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,a,o){return void 0===r&&(r="NWC"),void 0===a&&(a=1),this.throwIfDisposed(),Se.conv1d(this,e,t,n,r,a,o)},e.prototype.conv2d=function(e,t,n,r,a,o){return void 0===r&&(r="NHWC"),void 0===a&&(a=[1,1]),this.throwIfDisposed(),Se.conv2d(this,e,t,n,r,a,o)},e.prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Se.conv2dTranspose(this,e,t,n,r,a)},e.prototype.depthwiseConv2D=function(e,t,n,r,a,o){return void 0===r&&(r="NHWC"),void 0===a&&(a=[1,1]),this.throwIfDisposed(),Se.depthwiseConv2d(this,e,t,n,r,a,o)},e.prototype.separableConv2d=function(e,t,n,r,a,o){return void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC"),this.throwIfDisposed(),Se.separableConv2d(this,e,t,n,r,a,o)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Se.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Se.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),Se.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,a){return this.throwIfDisposed(),Se.pool(this,e,t,n,r,a)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),Ee().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Se.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Se.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Se.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),Se.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,a,o,i,s){return void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),this.throwIfDisposed(),Se.stridedSlice(this,e,t,n,r,a,o,i,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Se.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),Se.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Se.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Se.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Se.spectral.irfft(this)},e}();Object.defineProperty(Ie,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var Re,ze,Te,Ne,Oe,De,Me=function(e){function t(t,n,r,a){var o=e.call(this,t.shape,t.dtype,t.dataId,a)||this;return o.trainable=n,o.name=r,o}return g(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!j(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");Ee().disposeTensor(this),this.dataId=e.dataId,Ee().incRef(this,null)},t.prototype.dispose=function(){Ee().disposeVariable(this),this.isDisposedInternal=!0},t}(Ie);Object.defineProperty(Me,Symbol.hasInstance,{value:function(e){return e instanceof Ie&&null!=e.assign&&e.assign instanceof Function}}),(De=Re||(Re={})).R0="R0",De.R1="R1",De.R2="R2",De.R3="R3",De.R4="R4",De.R5="R5",De.R6="R6",function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(ze||(ze={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Te||(Te={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ne||(Ne={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Oe||(Oe={}));var Pe={float32:Ne,int32:ze,bool:Te,complex64:Oe};function Fe(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Pe[e][t]}function je(e){return Fe(e,"int32")}function Be(e,t){if(e.dtype===t.dtype)return[e,t];var n=Fe(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Le(e,t){O(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function We(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof Ie)n.push(t);else if(a=t,Array.isArray(a)||"object"==typeof a){var a,o=t;for(var i in o){var s=o[i];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:Be,assertTypesMatch:Le,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:We});var Ge,He=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Ve=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new He}return e.prototype.ready=function(){return v(this,void 0,void 0,(function(){var e,t,n;return y(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(a){switch(a.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=a.sent(),[3,3];case 2:r=n,a.label=3;case 3:if(!r)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ye(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;E(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;E(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var a=++this.pendingBackendInitId,o=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(a<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,o=r.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,a,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,a=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,a){return this.runKernelFunc(null,t,null,e,n,r,a)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+i+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,a,o,i){var s,u=this;void 0===o&&(o=[]),void 0===i&&(i=[]);var l=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var d,h=function(e){c&&(l=e.map((function(e){return u.keep(u.clone(e))})))},f=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,g=C(r,this.backendName);return d=null!=g?function(){var e=u.backend.numDataIds();m=g.kernelFunc({inputs:t,attrs:a,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)})),l=s.filter((function(e,t){return i[t]}));return h((o||[]).slice().concat(l)),s}:function(){var t=u.backend.numDataIds();m=u.tidy((function(){return e(u.backend,h)}));var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return d()})):d()})),c&&this.addTapeNode(r,t,s,n,l),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-f,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&te(e[0])&&(a=e.map((function(e){return pe(e)})));var o=r.write(a,t,n),i=new Ie(t,n,o,this.nextTensorId());if(this.incRef(i,r),"string"===n){var s=this.state.tensorInfo.get(o),u=ee(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return i},e.prototype.makeTensorFromDataId=function(e,t,n,r){var a=new Ie(t,n=n||"float32",e,this.nextTensorId());return this.incRef(a,r),a},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var a=new Me(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name "+a.name+" was already registered");return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*$(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Me||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return v(this,void 0,void 0,(function(){var t,n;return y(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,a){var o=this,i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},s=function(e){return k.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(i.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=de(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a)}),this.state.activeTape.push(i)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=We(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||r.has(o.id)||o.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==i.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var a=this;if(void 0===r&&(r=!1),O(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",e)}));O(o instanceof Ie,(function(){return"The result y returned by f() must be a tensor."}));var i=function(e,t,n){for(var r={},a={},o=0;o<t.length;o++)r[t[o].id]=!0;for(o=0;o<e.length;o++){var i=(p=e[o]).inputs;for(var s in i){for(var u=i[s],l=!1,c=0;c<t.length;c++)if(r[u.id]){p.outputs.forEach((function(e){return r[e.id]=!0})),l=!0,a[p.id]=!0;break}if(l)break}}var d={};d[n.id]=!0;var h={};for(o=e.length-1;o>=0;o--)for(i=(p=e[o]).inputs,c=0;c<p.outputs.length;c++)if(d[p.outputs[c].id]){for(var s in i)d[i[s].id]=!0,h[p.id]=!0;break}var f=[];for(o=0;o<e.length;o++){var p;if(a[(p=e[o]).id]&&h[p.id]){var m={};for(var s in p.inputs){var g=p.inputs[s];r[g.id]&&(m[s]=g)}var v=Object.assign({},p);v.inputs=m,v.outputs=p.outputs,f.push(v)}}return f}(this.state.activeTape,t,o);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[o.id]=null==n?(r=ce(F(e=o.shape),"float32"),Ue.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var a=t[r],o=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+a.kernelName+".");var i=a.gradient(o),s=function(t){if(!(t in i))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(i)+".");var r=n((function(){return i[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+a.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var o=a.inputs[t];if(!j(r.shape,o.shape))throw new Error("Error in gradient for op "+a.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+o.shape+"'");if(null==e[o.id])e[o.id]=r;else{var s=e[o.id];e[o.id]=s.add(r),s.dispose()}};for(var u in a.inputs)s(u)},a=t.length-1;a>=0;a--)r(a)}(s,i,(function(e){return a.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===a.state.gradientDepth&&(a.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),a.state.activeTape=null),{value:o,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return O(oe(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];O(r.every((function(e){return e instanceof Ie})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};return r.forEach((function(e,t){o[t]=e})),t.runKernelFunc((function(t,a){return O((n=e.apply(void 0,r.concat([a]))).value instanceof Ie,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),O(oe(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),o,(function(e,t){var a=n.gradFunc(e,t),o=Array.isArray(a)?a:[a];O(o.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),O(o.every((function(e){return e instanceof Ie})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return o.forEach((function(e,t){i[t]=function(){return e}})),i}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return v(this,void 0,void 0,(function(){var t,n;return y(this,(function(r){switch(r.label){case 0:return t=he(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=he()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new He,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Ue=function(){var e=function(){if(null==Ge){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Ge=e}return Ge}();if(null==e._tfengine){var t=new b(e);e._tfengine=new Ve(t)}return function(e){_=e}(e._tfengine.ENV),Ee=function(){return e._tfengine},e._tfengine}();function qe(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Ke=w();Ke.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Ke.registerFlag("IS_BROWSER",(function(){return qe()})),Ke.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Ke.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Ke.registerFlag("PROD",(function(){return!1})),Ke.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Ke.getBool("DEBUG")})),Ke.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Ke.registerFlag("IS_TEST",(function(){return!1}));var Xe,Ze,Ye,Je={},Qe={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function $e(e,t){Je[e]=t}function et(e){e in Je||(Je[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete Je[e]}),!1),1===e?t.getContext("webgl",Qe)||t.getContext("experimental-webgl",Qe):t.getContext("webgl2",Qe)}(e));var t=Je[e];return t.isContextLost()?(delete Je[e],et(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Je[e])}function tt(e,t){return[t,e]}function nt(e){var t=F(e);return W(Math.ceil(t/4))}function rt(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function at(e,t){var n,r,a,o,i,s,u,l,c,d=e;return 2===w().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,a=d.RGBA16F,o=d.RGBA32F,i=d.RED,s=4,u=1,l=d.HALF_FLOAT,c=d.FLOAT):(n=e.RGBA,r=e.RGBA,a=e.RGBA,o=d.RGBA,i=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function ot(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+st(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Xe||(Xe={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Ze||(Ze={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Ye||(Ye={}));function it(e){return!!(w().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function st(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function ut(e,t,n){return Tt(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function lt(e,t,n){var r=Tt(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(ot(e,t,(function(){return e.shaderSource(r,n)})),ot(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function ct(e,t,n){var r=Tt(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(ot(e,t,(function(){return e.shaderSource(r,n)})),ot(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=ft.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,i=a.map((function(e,t){return G((t+1).toString(),o)+e})),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var l=i.slice(0,r-1),c=i.slice(r-1,r),d=i.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+G(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var dt,ht,ft=/ERROR: [0-9]+:([0-9]+):/g;function pt(e,t){return Tt(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function mt(e,t,n){if(ot(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function gt(e,t,n){if(ot(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function vt(e,t,n){var r=Tt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return ot(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),ot(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function yt(e,t,n){var r=Tt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return ot(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),ot(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function bt(e,t){return Tt(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function wt(e,t){var n=w().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function _t(e,t){return Tt(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function xt(e,t,n,r,a,o,i,s){var u=e.getAttribLocation(n,r);return-1!==u&&(ot(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,a)})),ot(e,t,(function(){return e.vertexAttribPointer(u,o,e.FLOAT,!1,i,s)})),ot(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function kt(e,t,n,r){Nt(e,r),ot(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function Ct(e,t,n,r){return Tt(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function Et(e,t,n){return e.getUniformLocation(t,n)}function St(e,t,n,r,a,o){ot(e,t,(function(){return kt(e,t,r,o)})),ot(e,t,(function(){return e.uniform1i(a,o)}))}function At(e,t,n,r){ot(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),ot(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function It(e,t,n){ot(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),ot(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function Rt(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+zt(e,t))}function zt(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function Tt(e,t,n,r){var a=ot(e,t,(function(){return n()}));if(null==a)throw new Error(r);return a}function Nt(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Ot(e,t){return void 0===t&&(t=2),F(e.slice(0,e.length-t))}function Dt(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Mt(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Ot(e)].concat(Dt(e))),t}function Pt(e,t){var n;void 0===t&&(t=!1);var r=w().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?T(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var a=q(e);e=a.newShape}var o=F(e);if(e.length<=1&&o<=r)return[1,o];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var i=Ot(e),s=2,u=2;return e.length&&(s=(n=Dt(e))[0],u=n[1]),W(o=i*(s/2)*(u/2)).map((function(e){return 2*e}))}return W(o)}function Ft(e){return e%2==0}function jt(e,t){if(j(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Ft(n)&&Ft(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Ft(e[0])&&Ft(t[0])}function Bt(e){if(null==dt){var t=et(e);dt=t.getParameter(t.MAX_TEXTURE_SIZE)}return dt}function Lt(e){if(null==ht){var t=et(e);ht=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,ht)}function Wt(e){if(0===e)return 0;var t=et(e);return Gt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Gt(t,"EXT_disjoint_timer_query")?1:0}function Gt(e,t){return null!=e.getExtension(t)}function Ht(e){try{if(null!=et(e))return!0}catch(e){return!1}return!1}function Vt(e){if(0===e)return!1;var t=et(e);if(1===e){if(!Gt(t,"OES_texture_float"))return!1}else if(!Gt(t,"EXT_color_buffer_float"))return!1;return qt(t)}function Ut(e){if(0===e)return!1;var t=et(e);if(1!==e){if(Gt(t,"EXT_color_buffer_float"))return qt(t);if(Gt(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=at(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),o}(t,n)}return!1}return!!Gt(t,"OES_texture_float")&&!!Gt(t,"WEBGL_color_buffer_float")&&qt(t)}function qt(e){var t=at(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function Kt(e){return 2===e&&null!=et(e).fenceSync}var Xt=Object.freeze({callAndCheck:ot,canBeRepresented:it,getWebGLErrorMessage:st,getExtensionOrThrow:ut,createVertexShader:lt,createFragmentShader:ct,createProgram:pt,linkProgram:mt,validateProgram:gt,createStaticVertexBuffer:vt,createStaticIndexBuffer:yt,getNumChannels:function(){return 2===w().getNumber("WEBGL_VERSION")?1:4},createTexture:bt,validateTextureSize:wt,createFramebuffer:_t,bindVertexBufferToProgramAttribute:xt,bindTextureUnit:kt,unbindTextureUnit:function(e,t,n){Nt(e,n),ot(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:Ct,getProgramUniformLocation:Et,bindTextureToProgramUniformSampler:St,bindCanvasToFramebuffer:function(e,t){ot(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),ot(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),ot(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:At,unbindColorTextureFromFramebuffer:It,validateFramebuffer:Rt,getFramebufferErrorMessage:zt,getBatchDim:Ot,getRowsCols:Dt,getShapeAs3D:Mt,getTextureShapeFromLogicalShape:Pt,isReshapeFree:jt,getWebGLMaxTextureSize:Bt,resetMaxTextureSize:function(){dt=null},resetMaxTexturesInShader:function(){ht=null},getMaxTexturesInShader:Lt,getWebGLDisjointQueryTimerVersion:Wt,hasExtension:Gt,isWebGLVersionEnabled:Ht,isCapableOfRenderingToFloatTexture:Vt,isDownloadFloatTextureEnabled:Ut,isWebGLFenceEnabled:Kt}),Zt=w();function Yt(e){w().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Jt(e,t){return Ue.tidy(e,t)}function Qt(e){We(e).forEach((function(e){return e.dispose()}))}function $t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];w().getBool("IS_TEST")||console.warn.apply(console,e)}function en(e,t){var n=e;if(Q(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Q(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&w().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||Q(t)){O(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),O(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var a=n.slice(1),o=0;o<t.length;++o)e(t[o],a,r.concat(o))}else O(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function tn(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function nn(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof Ie)return tn(r,e.dtype,t,n),e;var a=ae(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),tn(r,a,t,n),null==e||!Q(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var o=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+o+"'")}var i=en(e,a);Q(e)||Array.isArray(e)||(e=[e]);var s="string"!==a?ue(e,a,w().getBool("DEBUG")):P(e,[],!0);return Ue.makeTensor(s,i,a)}function rn(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return nn(e,t+"["+r+"]",n)}),r)}function an(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function on(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}function sn(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((function(t){return e[t]}))]}function un(e,t){return on(e,t.map((function(e){return 1})),t)}function ln(e,t,n){O(an(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function cn(e,t){if(an(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function dn(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function hn(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function fn(e,t){var n=e[0].length;e.forEach((function(e,t){O(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),O(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,a){for(var o=0;o<n;o++)O(o===t||e[o]===r[o],(function(){return"Error in concat"+n+"D: Shape of tensors["+a+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+a+"."}))}))}function pn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function mn(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ue.startScope(n);try{var a=r.apply(void 0,e);return a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Ue.endScope(a),a}catch(e){throw Ue.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}Zt.registerFlag("HAS_WEBGL",(function(){return Zt.getNumber("WEBGL_VERSION")>0})),Zt.registerFlag("WEBGL_VERSION",(function(){return Ht(2)?2:Ht(1)?1:0})),Zt.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Zt.get("WEBGL_VERSION")})),Zt.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Zt.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Zt.registerFlag("WEBGL_PACK",(function(){return Zt.getBool("HAS_WEBGL")})),Zt.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_PACK_CLIP",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Zt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_PACK_REDUCE",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_CONV_IM2COL",(function(){return Zt.getBool("WEBGL_PACK")})),Zt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Bt(Zt.getNumber("WEBGL_VERSION"))})),Zt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Lt(Zt.getNumber("WEBGL_VERSION"))})),Zt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Zt.getNumber("WEBGL_VERSION");return 0===e?0:Wt(e)})),Zt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Zt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),Zt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Vt(Zt.getNumber("WEBGL_VERSION"))})),Zt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Zt.getBool("WEBGL_FORCE_F16_TEXTURES")&&Zt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Zt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Ut(Zt.getNumber("WEBGL_VERSION"))})),Zt.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Kt(Zt.getNumber("WEBGL_VERSION"))})),Zt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Zt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Ae=Yt;var gn=mn({complex_:function(e,t){var n=nn(e,"real","complex"),r=nn(t,"imag","complex");return D(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Ue.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),vn=mn({real_:function(e){var t=nn(e,"input","real");return Ue.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),yn=mn({imag_:function(e){var t=nn(e,"input","imag");return Ue.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function bn(e,t,n){return wn(e,t,en(e,n),n)}function wn(e,t,n,r){if(null==r&&(r=ae(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Q(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){fe(t);var a=F(t),o=F(n);O(a===o,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+a+" values but has "+o}));for(var i=0;i<n.length;++i){var s=n[i],u=i!==n.length-1||s!==F(t.slice(i));O(n[i]===t[i]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return Q(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?ue(e,r,w().getBool("DEBUG")):P(e,[],!0),Ue.makeTensor(e,t,r)}function _n(e,t){if((Q(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Q(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return wn(e,[],[],t)}function xn(e,t){M(e);var n=en(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return wn(e,null,n,t)}function kn(e,t,n){if(M(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=en(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return wn(e,t,r,n)}function Cn(e,t,n){if(M(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=en(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return wn(e,t,r,n)}function En(e,t,n){if(M(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=en(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return wn(e,t,r,n)}function Sn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Sn(e,"float32"),r=An(e,"float32");return gn(n,r)}var a=ce(F(e),t);return Ue.makeTensor(a,e,t)}function An(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=An(e,"float32"),r=An(e,"float32");return gn(n,r)}var a=de(F(e),t);return Ue.makeTensor(a,e,t)}function In(e,t,n){return Ue.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function Rn(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return An([0],r);var a=de(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return xn(a,r)}var zn=mn({onesLike_:function(e){var t=nn(e,"x","onesLike");if("complex64"===t.dtype){var n=zn(vn(t)),r=Tn(yn(t));return gn(n,r)}return Ue.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Tn(e)}}}))}}),Tn=mn({zerosLike_:function(e){var t=nn(e,"x","zerosLike");return Ue.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Tn(e)}}}))}}),Nn=mn({concat_:function(e,t){void 0===t&&(t=0),O(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=rn(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=U(t,n[0].shape)[0];var r=pn(n.map((function(e){return e.shape})),t);if(0===F(r))return bn([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var a=n.map((function(e){return e.shape}));fn(a,t);var o=n,i={axis:t};return Ue.runKernelFunc((function(e){return e.concat(n,t)}),o,(function(e){var n=a.map((function(e){return e[t]}));return Fn(e,n,t).map((function(e){return function(){return e}}))}),"Concat",i)}}),On=mn({concat1d_:function(e){return Nn(e,0)}}),Dn=mn({concat2d_:function(e,t){return Nn(e,t)}}),Mn=mn({concat3d_:function(e,t){return Nn(e,t)}}),Pn=mn({concat4d_:function(e,t){return Nn(e,t)}}),Fn=mn({split_:function(e,t,n){void 0===n&&(n=0);var r,a=nn(e,"x","split");return n=U(n,a.shape)[0],"number"==typeof t?(O(a.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(a.shape[n]/t)):(O(a.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),Ue.runKernelFunc((function(e){return e.split(a,r,n)}),{$x:a},(function(e){return{$x:function(){return Nn(e,n)}}}))}});function jn(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var Bn=jn((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new r(e),o=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.alea=o}(0,e)})),Ln=jn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xor128=o}(0,e)})),Wn=jn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xorwow=o}(0,e)})),Gn=jn((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.x&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xorshift7=o}(0,e)})),Hn=jn((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.X&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xor4096=o}(0,e)})),Vn=jn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.tychei=o}(0,e)})),Un=jn((function(e){!function(t,r){var a,o=this,i=256,s="random",u=r.pow(i,6),l=r.pow(2,52),c=2*l,d=i-1;function h(e,n,d){var h=[],v=m(function e(t,n){var r,a=[],o=typeof t;if(n&&"object"==o)for(r in t)try{a.push(e(t[r],n-1))}catch(e){}return a.length?a:"string"==o?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(i):(e=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,g(t)]}}():e,3),h),y=new f(h),b=function(){for(var e=y.g(6),t=u,n=0;e<l;)e=(e+n)*i,t*=i,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,m(g(y.S),t),(n.pass||d||function(e,t,n,a){return a&&(a.S&&p(a,y),e.state=function(){return p(y,{})}),n?(r[s]=e,t):e})(b,v,"global"in n?n.global:this==r,n.state)}function f(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<i;)s[a]=a++;for(a=0;a<i;a++)s[a]=s[o=d&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=d&a+1],n=n*i+s[d&(s[a]=s[o=d&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(i)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=h,m(r.random(),t),e.exports){e.exports=h;try{a=n(4902)}catch(e){}}}([],Math)}));Un.alea=Bn,Un.xor128=Ln,Un.xorwow=Wn,Un.xorshift7=Gn,Un.xor4096=Hn,Un.tychei=Vn;var qn=Un.alea,Kn=function(){function e(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=a||Math.random();this.random=qn(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Xn=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var a=r||Math.random();this.randu=qn(a.toString()),this.randn=new Kn(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,a,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Zn=function(){function e(e,t,n,r){var a=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==a.dtype||"float32"===a.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=qn(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function Yn(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",fe(e),new Ce(e,t,n)}var Jn=mn({batchToSpaceND_:function(e,t,n){var r=nn(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));return O(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),O(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),O(r.shape[0]%a==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+a})),Ue.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),Qn=mn({broadcastTo_:function(e,t){var n=nn(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=n.reshape(a)}for(var o=Array.from(t),i=t.length-1;i>=0;i--)if(n.shape[i]===t[i])o[i]=1;else if(1!==n.shape[i])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=o.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));return 0===s.length?n.clone():Ue.runKernelFunc((function(e){return e.tile(n,o)}),{input:n},(function(e){return{input:function(){return e.sum(s,!0)}}}))}}),$n=mn({cast_:function(e,t){var n=nn(e,"x","cast");if(!Y(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Ue.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),er=mn({clone_:function(e){var t=nn(e,"x","clone",null);return Ue.runKernelFunc((function(){return Ue.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),tr=mn({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var a=nn(e,"x","cumsum"),o=cn([t|=0],a.rank),i=a;null!=o&&(i=a.transpose(o));var s=hn(1,a.rank)[0],u=Ue.runKernelFunc((function(e){return e.cumsum(i,s,n,r)}),{permutedX:i},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=o&&(u=u.transpose(o)),u}}),nr=mn({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=nn(e,"x","depthToSpace"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];return O(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),O(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),O(i%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+i+" for depthToSpace with input shape "+r.shape})),Ue.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),rr=mn({expandDims_:function(e,t){void 0===t&&(t=0);var n=nn(e,"x","expandDims",null);O(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(O(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),gr(n,r)}}),ar=mn({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var a=Yn([e,t],r),o=e<=t?e:t,i=0;i<o;++i)a.set(1,i,i);var s=a.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return wr(rr(s,0),[n[0],1,1]);if(2===n.length)return wr(rr(rr(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return wr(rr(rr(rr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),or=mn({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var a=nn(e,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=1===i?a.as2D(1,-1):a,u=Ue.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===i?u.as1D():u}}),ir=mn({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=nn(e,"indices","oneHot","int32"),o=a.shape.concat([t]);return a=a.flatten(),Ue.runKernelFunc((function(e){return e.oneHot(a,t,n,r)}),{$indices:a},(function(e){return{$indices:function(){return An(a.shape,"float32")}}})).reshape(o)}}),sr=mn({pad_:function(e,t,n){void 0===n&&(n=0);var r=nn(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n};return Ue.runKernelFunc((function(e){return e.pad(r,t,n)}),{x:r},(function(e){var n=t.map((function(e){return e[0]}));return{x:function(){return e.slice(n,r.shape)}}}),"PadV2",a)}}),ur=mn({pad1d_:function(e,t,n){return void 0===n&&(n=0),O(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),sr(e,[t],n)}}),lr=mn({pad2d_:function(e,t,n){return void 0===n&&(n=0),O(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),sr(e,t,n)}}),cr=mn({pad3d_:function(e,t,n){return void 0===n&&(n=0),O(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),sr(e,t,n)}}),dr=mn({pad4d_:function(e,t,n){return void 0===n&&(n=0),O(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),sr(e,t,n)}}),hr=mn({rand_:function(e,t,n){var r=F(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=t();return Ue.makeTensor(a,e,n)}}),fr=mn({randomNormal_:function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new Kn(t,n,r,!1,a),i=Yn(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),pr=mn({randomGamma_:function(e,t,n,r,a){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var o=new Xn(t,n,r,a),i=Yn(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),mr=mn({randomUniform_:function(e,t,n,r,a){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var o=Yn(e,r),i=new Zn(t,n,null,a),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),gr=mn({reshape_:function(e,t){var n=nn(e,"x","reshape",null);t=V(t,n.size),O(n.size===F(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return Ue.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),vr=mn({spaceToBatchND_:function(e,t,n){var r=nn(e,"x","spaceToBatchND");return O(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),O(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),O(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),Ue.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),yr=mn({squeeze_:function(e,t){var n=nn(e,"x","squeeze");return gr(n,q(n.shape,t).newShape)}}),br=mn({stack_:function(e,t){void 0===t&&(t=0);var n=rn(e,"tensors","stack");if(O(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,a=n[0].shape,o=n[0].dtype;O(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){D(a,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){O(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=n.map((function(e){return e.expandDims(t)}));return Nn(i,t)}}),wr=mn({tile_:function(e,t){var n=nn(e,"x","tile",null);O(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],a={reps:t};return Ue.runKernelFunc((function(e,r){var a=e.tile(n,t);return r([n]),a}),{x:n},(function(e,n){var r=n[0];return{x:function(){var n=Tn(r);if(1===r.rank)for(var a=0;a<t[0];++a)n=n.add(e.slice([a*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(a=0;a<t[0];++a)for(var o=0;o<t[1];++o)n=n.add(e.slice([a*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(a=0;a<t[0];++a)for(o=0;o<t[1];++o)for(var i=0;i<t[2];++i)n=n.add(e.slice([a*r.shape[0],o*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(a=0;a<t[0];++a)for(o=0;o<t[1];++o)for(i=0;i<t[2];++i)for(var s=0;s<t[3];++s)n=n.add(e.slice([a*r.shape[0],o*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),"Tile",a,r)}}),_r=mn({truncatedNormal_:function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new Kn(t,n,r,!0,a),i=Yn(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),xr=mn({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=nn(e,"x","unstack");O(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return Ue.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return br(e,t)}}}),"Unpack",r)}});function kr(e,t,n,r){void 0===r&&(r=!0);var a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var o=t.length,i=0;i<o;++i)a=a.concat([e[i+1]/t[i],t[i]]);a=a.concat(e.slice(o+1))}return a}function Cr(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{var o=[],i=[];for(a=1;a<e;++a)a>=2*t+1||a%2==1?i.push(a):o.push(a);r.push.apply(r,o),r.push(0),r.push.apply(r,i)}return r}function Er(e,t,n,r){void 0===r&&(r=!0);var a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function Sr(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Ar(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function Ir(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],a=1,o=0;o<n.length-1;++o)a*=n[o];var i=e.shape,s=n.slice();s.pop();var u=1;for(o=r;o<e.rank;++o)u*=i[o],s.push(i[o]);var l=se(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,a,u,l]}Object.freeze({prepareAndValidate:Ir});var Rr=30;function zr(e){return e<=Rr?e:ie(e,Math.floor(Math.sqrt(e)))}function Tr(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(o+" update.rank < "+a+". ");if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != "+(a+e.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape["+i+"] ("+n.shape[i]+") != indices.shape["+i+"] ("+t.shape[i]+").");for(i=0;i<n.rank-a;++i)if(n.shape[i+a]!==e[i+r])throw new Error(o+" updates.shape["+(i+a)+"] ("+n.shape[i+a]+") != shape["+(i+a)+"] ("+e[i+a]+")")}function Nr(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Tr(n,t,e)}function Or(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,o=n.length,i=1,s=a;s<o;++s)i*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:F(t.shape)/u,sliceSize:i,strides:se(n.slice(0,a)).concat([1]),outputSize:F(n)}}Object.freeze({validateUpdateShape:Tr,validateInput:Nr,calculateShapes:Or});function Dr(e,t,n){O(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),O(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){O(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},a=0;a<e.rank;++a)r(a)}function Mr(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Pr(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function Fr(e,t,n,r,a){var o=t[a],i=n[a]||1;(e&1<<a||null==o)&&(o=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return o<0&&(o+=s),z(0,o,s-1)}function jr(e,t,n,r,a){var o=t[a],i=n[a]||1;(e&1<<a||null==o)&&(o=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return o<0&&(o+=s),i>0?z(0,o,s):z(-1,o,s-1)}function Br(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Lr(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:Dr,maskToAxes:Mr,computeOutShape:Pr,startForAxis:Fr,stopForAxis:jr,isSliceContinous:Br,computeFlatOffset:Lr});function Wr(e){return Ue.customGrad(e)}var Gr=mn({softmax_:function(e,t){void 0===t&&(t=-1);var n=nn(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Ue.runKernelFunc((function(e,r){var a=e.softmax(n,t);return r([a]),a}),{logits:n},(function(e,n){var r=n[0],a=e.mul(r);return{logits:function(){return a.sub(a.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),Hr=mn({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=nn(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Wr((function(e,n){var r=e.max(t,!0),a=e.sub(r),o=a.toFloat().sub(a.exp().sum(t,!0).log());return n([o]),{value:o,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),Vr=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),Ur=function(){function e(){}return e.prototype.time=function(e){return qr("time")},e.prototype.read=function(e){return qr("read")},e.prototype.readSync=function(e){return qr("readSync")},e.prototype.numDataIds=function(){return qr("numDataIds")},e.prototype.disposeData=function(e){return qr("disposeData")},e.prototype.write=function(e,t,n){return qr("write")},e.prototype.move=function(e,t,n,r){return qr("move")},e.prototype.memory=function(){return qr("memory")},e.prototype.floatPrecision=function(){return qr("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return qr("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,qr("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return qr("slice")},e.prototype.stridedSlice=function(e,t,n,r){return qr("stridedSlice")},e.prototype.unstack=function(e,t){return qr("unstack")},e.prototype.reverse=function(e,t){return qr("reverse")},e.prototype.concat=function(e,t){return qr("concat")},e.prototype.neg=function(e){return qr("neg")},e.prototype.add=function(e,t){return qr("add")},e.prototype.addN=function(e){return qr("addN")},e.prototype.subtract=function(e,t){return qr("subtract")},e.prototype.multiply=function(e,t){return qr("multiply")},e.prototype.realDivide=function(e,t){return qr("realDivide")},e.prototype.floorDiv=function(e,t){return qr("floorDiv")},e.prototype.sum=function(e,t){return qr("sum")},e.prototype.prod=function(e,t){return qr("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return qr("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return qr("argMin")},e.prototype.argMax=function(e,t){return qr("argMax")},e.prototype.equal=function(e,t){return qr("equal")},e.prototype.notEqual=function(e,t){return qr("notEqual")},e.prototype.less=function(e,t){return qr("less")},e.prototype.lessEqual=function(e,t){return qr("lessEqual")},e.prototype.greater=function(e,t){return qr("greater")},e.prototype.greaterEqual=function(e,t){return qr("greaterEqual")},e.prototype.logicalNot=function(e){return qr("logicalNot")},e.prototype.logicalAnd=function(e,t){return qr("logicalAnd")},e.prototype.logicalOr=function(e,t){return qr("logicalOr")},e.prototype.where=function(e){return qr("where")},e.prototype.select=function(e,t,n){return qr("select")},e.prototype.topk=function(e,t,n){return qr("topk")},e.prototype.min=function(e,t){return qr("min")},e.prototype.minimum=function(e,t){return qr("minimum")},e.prototype.mod=function(e,t){return qr("mod")},e.prototype.max=function(e,t){return qr("max")},e.prototype.maximum=function(e,t){return qr("maximum")},e.prototype.all=function(e,t){return qr("all")},e.prototype.any=function(e,t){return qr("any")},e.prototype.squaredDifference=function(e,t){return qr("squaredDifference")},e.prototype.ceil=function(e){return qr("ceil")},e.prototype.floor=function(e){return qr("floor")},e.prototype.round=function(e){return qr("round")},e.prototype.sign=function(e){return qr("sign")},e.prototype.isNaN=function(e){return qr("isNaN")},e.prototype.isInf=function(e){return qr("isInf")},e.prototype.isFinite=function(e){return qr("isFinite")},e.prototype.pow=function(e,t){return qr("pow")},e.prototype.exp=function(e){return qr("exp")},e.prototype.expm1=function(e){return qr("expm1")},e.prototype.softmax=function(e,t){return qr("softmax")},e.prototype.log=function(e){return qr("log")},e.prototype.log1p=function(e){return qr("log1p")},e.prototype.sqrt=function(e){return qr("sqrt")},e.prototype.rsqrt=function(e){return qr("rsqrt")},e.prototype.square=function(e){return qr("square")},e.prototype.reciprocal=function(e){return qr("reciprocal")},e.prototype.relu=function(e){return qr("relu")},e.prototype.relu6=function(e){return qr("relu6")},e.prototype.prelu=function(e,t){return qr("prelu")},e.prototype.elu=function(e){return qr("elu")},e.prototype.eluDer=function(e,t){return qr("eluDer")},e.prototype.selu=function(e){return qr("selu")},e.prototype.int=function(e){return qr("int")},e.prototype.clip=function(e,t,n){return qr("clip")},e.prototype.abs=function(e){return qr("abs")},e.prototype.complexAbs=function(e){return qr("complexAbs")},e.prototype.sigmoid=function(e){return qr("sigmoid")},e.prototype.softplus=function(e){return qr("softplus")},e.prototype.sin=function(e){return qr("sin")},e.prototype.cos=function(e){return qr("cos")},e.prototype.tan=function(e){return qr("tan")},e.prototype.asin=function(e){return qr("asin")},e.prototype.acos=function(e){return qr("acos")},e.prototype.atan=function(e){return qr("atan")},e.prototype.atan2=function(e,t){return qr("atan2")},e.prototype.sinh=function(e){return qr("sinh")},e.prototype.cosh=function(e){return qr("cosh")},e.prototype.tanh=function(e){return qr("tanh")},e.prototype.asinh=function(e){return qr("asinh")},e.prototype.acosh=function(e){return qr("acosh")},e.prototype.atanh=function(e){return qr("atanh")},e.prototype.erf=function(e){return qr("erf")},e.prototype.step=function(e,t){return qr("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,qr("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return qr("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return qr("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return qr("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,qr("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return qr("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return qr("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return qr("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return qr("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return qr("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return qr("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return qr("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return qr("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return qr("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return qr("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return qr("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return qr("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return qr("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return qr("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return qr("reshape")},e.prototype.cast=function(e,t){return qr("cast")},e.prototype.tile=function(e,t){return qr("tile")},e.prototype.pad=function(e,t,n){return qr("pad")},e.prototype.transpose=function(e,t){return qr("transpose")},e.prototype.gather=function(e,t,n){return qr("gather")},e.prototype.gatherND=function(e,t){return qr("gatherND")},e.prototype.scatterND=function(e,t,n){return qr("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return qr("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return qr("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return qr("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return qr("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return qr("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return qr("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,a,o){return qr("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,a){return qr("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,a,o,i){return qr("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return qr("multinomial")},e.prototype.oneHot=function(e,t,n,r){return qr("oneHot")},e.prototype.cumsum=function(e,t,n,r){return qr("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,a){return qr("nonMaxSuppression")},e.prototype.fft=function(e){return qr("fft")},e.prototype.ifft=function(e){return qr("ifft")},e.prototype.complex=function(e,t){return qr("complex")},e.prototype.real=function(e){return qr("real")},e.prototype.imag=function(e){return qr("imag")},e.prototype.cropAndResize=function(e,t,n,r,a,o){return qr("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return qr("depthToSpace")},e.prototype.split=function(e,t,n){return qr("split")},e.prototype.sparseToDense=function(e,t,n,r){return qr("sparseToDense")},e.prototype.diag=function(e){return qr("diag")},e.prototype.fill=function(e,t,n){return qr("fill")},e.prototype.onesLike=function(e){return qr("onesLike")},e.prototype.zerosLike=function(e){return qr("zerosLike")},e.prototype.linspace=function(e,t,n){return qr("linspace")},e.prototype.dispose=function(){return qr("dispose")},e}();function qr(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Kr(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r}function Xr(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}function Zr(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var o=e[e.length-a-1];null==o&&(o=1);var i=t[t.length-a-1];if(null==i&&(i=1),1===o)n.unshift(i);else if(1===i)n.unshift(o);else{if(o!==i)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(o)}}return n}function Yr(e,t,n,r,a,o,i){void 0===i&&(i="channelsLast");var s,u=ta(t),l=u[0],c=u[1];if("channelsLast"===i)s=[l,c,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);s=[l,c,e[1],e[1]]}return Qr(e,s,n,r,a,o,!1,i)}function Jr(e,t,n,r,a,o,i){void 0===i&&(i="NDHWC");var s,u,l=na(t),c=l[0],d=l[1],h=l[2];if("NDHWC"===i)u="channelsLast",s=[c,d,h,e[4],e[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat "+i);u="channelsFirst",s=[c,d,h,e[1],e[1]]}return $r(e,s,n,r,a,!1,u,o)}function Qr(e,t,n,r,a,o,i,s){void 0===i&&(i=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],d=u[2],h=u[3];if("channelsLast"===s)l=e[0],c=e[1],d=e[2],h=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=e[0],h=e[1],c=e[2],d=e[3]}var f,p=t[0],m=t[1],g=t[3],v=ta(n),y=v[0],b=v[1],w=ta(r),_=w[0],x=w[1],k=ra(p,_),C=ra(m,x),E=function(e,t,n,r,a,o,i,s){var u,l,c;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var d=function(e,t,n,r,a){null==r&&(r=ea(e,t,n));var o=e[1],i=aa((e[0]-t+2*r)/n+1,a);O(B(i),(function(){return"The output # of rows ("+i+") must be an integer. Change the stride and/or zero pad parameters"}));var s=aa((o-t+2*r)/n+1,a);return O(B(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[i,s]}([t,n],o,r,e,s);l=d[0],c=d[1]}else if("same"===e){l=Math.ceil(t/r),c=Math.ceil(n/a);var h=Math.max(0,(l-1)*r+o-t),f=Math.max(0,(c-1)*a+i-n),p=Math.floor(h/2),m=h-p,g=Math.floor(f/2);u={top:p,bottom:m,left:g,right:f-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-o+1)/r),c=Math.ceil((n-i+1)/a)}return{padInfo:u,outHeight:l,outWidth:c}}(a,c,d,y,b,k,C,o),S=E.padInfo,A=E.outHeight,I=E.outWidth,R=i?g*h:g;return"channelsFirst"===s?f=[l,R,A,I]:"channelsLast"===s&&(f=[l,A,I,R]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:d,inChannels:h,outHeight:A,outWidth:I,outChannels:R,padInfo:S,strideHeight:y,strideWidth:b,filterHeight:p,filterWidth:m,effectiveFilterHeight:k,effectiveFilterWidth:C,dilationHeight:_,dilationWidth:x,inShape:e,outShape:f,filterShape:t}}function $r(e,t,n,r,a,o,i,s){void 0===o&&(o=!1),void 0===i&&(i="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],d=u[2],h=u[3],f=u[4];if("channelsLast"===i)l=e[0],c=e[1],d=e[2],h=e[3],f=e[4];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);l=e[0],f=e[1],c=e[2],d=e[3],h=e[4]}var p,m=t[0],g=t[1],v=t[2],y=t[4],b=na(n),w=b[0],_=b[1],x=b[2],k=na(r),C=k[0],E=k[1],S=k[2],A=ra(m,C),I=ra(g,E),R=ra(v,S),z=function(e,t,n,r,a,o,i,s,u,l,c){var d,h,f,p;if("number"==typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,o){null==a&&(a=ea(e,t,r));var i=e[1],s=e[2],u=aa((e[0]-t+2*a)/r+1,o);O(B(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var l=aa((i-t+2*a)/r+1,o);O(B(l),(function(){return"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var c=aa((s-t+2*a)/r+1,o);return O(B(c),(function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"})),[u,l,c,1]}([t,n,r,1],s,0,a,e,c);h=m[0],f=m[1],p=m[2]}else if("same"===e){var g=((h=Math.ceil(t/a))-1)*a+s-t,v=((f=Math.ceil(n/o))-1)*o+u-n,y=((p=Math.ceil(r/i))-1)*i+l-r,b=Math.floor(g/2),w=g-b,_=Math.floor(v/2),x=v-_,k=Math.floor(y/2);d={top:_,bottom:x,left:k,right:y-k,front:b,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/a),f=Math.ceil((n-u+1)/o),p=Math.ceil((r-l+1)/i)}return{padInfo:d,outDepth:h,outHeight:f,outWidth:p}}(a,c,d,h,w,_,x,A,I,R,s),T=z.padInfo,N=z.outDepth,D=z.outHeight,M=z.outWidth,P=o?y*f:y;return"channelsFirst"===i?p=[l,P,N,D,M]:"channelsLast"===i&&(p=[l,N,D,M,P]),{batchSize:l,dataFormat:i,inDepth:c,inHeight:d,inWidth:h,inChannels:f,outDepth:N,outHeight:D,outWidth:M,outChannels:P,padInfo:T,strideDepth:w,strideHeight:_,strideWidth:x,filterDepth:m,filterHeight:g,filterWidth:v,effectiveFilterDepth:A,effectiveFilterHeight:I,effectiveFilterWidth:R,dilationDepth:C,dilationHeight:E,dilationWidth:S,inShape:e,outShape:p,filterShape:t}}function ea(e,t,n,r){void 0===r&&(r=1);var a=ra(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function ta(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function na(e){return"number"==typeof e?[e,e,e]:e}function ra(e,t){return t<=1?e:e+(e-1)*(t-1)}function aa(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function oa(e){var t=ta(e),n=t[0],r=t[1],a=t[2];return 1===n&&1===r&&1===a}function ia(e,t){return oa(e)||oa(t)}function sa(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function ua(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=An(e.shape),a=e.toFloat(),o=n.complex(a,r);return r.dispose(),a.dispose(),o}if(!J(e.dtype,t))return Ue.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var i=n.real(e);return o=i.cast(t),i.dispose(),o}if("int32"===t)return n.int(e);if("bool"===t){var s=_n(0,e.dtype);return o=n.notEqual(e,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function la(e,t){return Ue.makeTensorFromDataId(e.dataId,t,e.dtype)}function ca(e,t,n){var r=(t-e)/(n-1),a=de(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return xn(a,"float32")}Object.freeze({castTensor:ua,reshapeTensor:la,linspaceImpl:ca,upcastType:Fe,axesAreInnerMostDims:an,combineLocations:on,computeOutAndReduceShapes:sn,expandShapeToKeepDim:un,assertAxesAreInnerMostDims:ln,getAxesPermutation:cn,getUndoAxesPermutation:dn,getInnerMostAxes:hn,getBroadcastDims:Kr,getReductionAxes:Xr,assertAndGetBroadcastShape:Zr,assertParamsConsistent:fn,computeOutShape:pn,computePool2DInfo:Yr,computePool3DInfo:Jr,computeConv2DInfo:Qr,computeConv3DInfo:$r,computeDefaultPad:ea,tupleValuesAreOne:oa,eitherStridesOrDilationsAreOne:ia,convertConv2DDataFormat:sa,PARALLELIZE_THRESHOLD:Rr,computeOptimalWindowSize:zr});function da(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function ha(e,t){return{real:e[2*t],imag:e[2*t+1]}}function fa(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function pa(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function ma(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,a=e.length,o=0,i=!1;r<a;){var s=n(t,e[o=r+(a-r>>>1)]);s>0?r=o+1:(a=o,i=!s)}return i?r:-r-1}(e,t,n||ga)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function ga(e,t){return e>t?1:e<t?-1:0}function va(e,t,n,r,a){return ba(e,t,n,r,a,0).selectedIndices}function ya(e,t,n,r,a,o){var i=ba(e,t,n,r,a,o,!0);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function ba(e,t,n,r,a,o,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>a})).sort(xa),l=o>0?-.5/o:0,c=[],d=[];c.length<n&&u.length>0;){var h=u.pop(),f=h.score,p=h.boxIndex,m=h.suppressBeginIndex;if(f<a)break;for(var g=!1,v=c.length-1;v>=m;--v){var y=wa(e,p,c[v]);if(y>=r){g=!0;break}if(h.score=h.score*_a(r,l,y),h.score<=a)break}h.suppressBeginIndex=c.length,g||(h.score===f?(c.push(p),d.push(h.score)):h.score>a&&ma(u,h,xa))}var b=c.length;return s&&(c.fill(0,b),d.fill(0,b)),{selectedIndices:xn(c,"int32"),selectedScores:xn(d,"float32"),numValidOutputs:_n(b,"int32")}}function wa(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),h=Math.max(a[1],a[3]),f=(s-o)*(u-i),p=(d-l)*(h-c);if(f<=0||p<=0)return 0;var m=Math.max(o,l),g=Math.max(i,c),v=Math.min(s,d),y=Math.min(u,h),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(f+p-b)}function _a(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function xa(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function ka(e,t,n){var r=new Array(e.rank).fill(0),a=e.shape.slice();return t.map((function(t){a[n]=t;var o=e.slice(r,a);return r[n]+=t,o}))}function Ca(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var a=Yn(n,e.dtype);for(r=0;r<a.values.length;++r){for(var o=a.indexToLoc(r),i=new Array(e.rank),s=0;s<i.length;s++)i[s]=o[s]%e.shape[s];var u=e.locToIndex(i);a.values[r]=e.values[u]}return a.toTensor()}function Ea(e,t,n,r,a){for(var o=t[t.length-1],i=[e.length/o,o],s=i[0],u=i[1],l=K(n,s*r),c=K("int32",s*r),d=0;d<s;d++){for(var h=d*u,f=e.subarray(h,h+u),p=[],m=0;m<f.length;m++)p.push({value:f[m],index:m});p.sort((function(e,t){return t.value-e.value}));var g=d*r,v=l.subarray(g,g+r),y=c.subarray(g,g+r);for(m=0;m<r;m++)v[m]=p[m].value,y[m]=p[m].index}var b=t.slice();return b[b.length-1]=r,[bn(l,b,n),bn(c,b,"int32")]}function Sa(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var a=Yn(e,"int32"),o=Yn([n.length,e.length],"int32");for(r=0;r<n.length;r++){var i=a.indexToLoc(n[r]),s=r*e.length;o.values.set(i,s)}return o.toTensor()}var Aa=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},Ia=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Ra=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,o=e.inSize,i=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function za(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function Ta(e,t){return 1===t?[e]:za(e,t)}function Na(){var e,t,n,r,a,o,i,s,u,l;return 2===w().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",i="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function Oa(e,t,n){void 0===n&&(n="index");var r=se(t);return r.map((function(t,a){return"int "+e[a]+" = "+n+" / "+t+"; "+(a===r.length-1?"int "+e[a+1]+" = "+n+" - "+e[a]+" * "+t:"index -= "+e[a]+" * "+t)+";"})).join("")}function Da(e){var t=se(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var Ma="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function Pa(e,t,n,r){var a=[];e.forEach((function(e){var t=F(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?a.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(a.push("uniform sampler2D "+e.name+";"),a.push("uniform int offset"+e.name+";"))}));var o,i,s=a.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?ja(e):Fa(e);var a=e.shapeInfo.logicalShape,o=t.logicalShape;return a.length<=o.length&&(r+=n?function(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=Kr(e.shapeInfo.logicalShape,t.logicalShape),l=Ua(s),c=s-i,d=["x","y","z","w","u","v"];n=0===i?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+d[e+c]+" = 0;"})).join("\n");var h;h=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+d[t+c]})).join(", ");var f="return outputValue;",p=1===F(e.shapeInfo.logicalShape),m=1===F(t.logicalShape);if(1!==i||p||m){if(p&&!m)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=i-2,v=i-1;u.indexOf(g)>-1&&u.indexOf(v)>-1?f="return vec4(outputValue.x);":u.indexOf(g)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(v)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+o+"() {\n      "+l+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+a+"("+h+");\n      "+f+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&j(i,o))return"\n      float "+a+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var l,c=Ua(u),d=Kr(e.shapeInfo.logicalShape,t.logicalShape),h=u-s,f=["x","y","z","w","u","v"];l=0===s?"":u<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords."+f[e+h]+" = 0;"})).join("\n");var p;return p=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+h]})).join(", "),"\n    float "+a+"() {\n      "+c+" coords = getOutputCoords();\n      "+l+"\n      return get"+r+"("+p+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),l=t.texShape,c=Na(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),h=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Ba+"\n    "+La+"\n    "+Wa+"\n  "}(c);return t.isPacked?(o=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(j(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=(o=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+a[0]+", "+a[1]+"));\n      int index = resTexRC.x * "+a[1]+" + resTexRC.y;\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+o+");\n      int c = imod(index, "+o+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2),o=a,i="",s="b, r, c",u=2;u<e.length-1;u++)i="\n      int b"+u+" = index / "+(o*=e[e.length-u-1])+";\n      index -= b"+u+" * "+o+";\n    "+i,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+i+"\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,a,o,i}(t.logicalShape,l),i=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(o=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return j(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Oa(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Oa(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Oa(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Oa(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,l),i=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(h+=Ga),[h,d,i,s,o,u,n].join("\n")}function Fa(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,a=r[0],o=r[1];if(1===a&&1===o)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var i=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+i[0]+", "+i[1]+", "+Ha(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Va(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,a=r[0],o=r[1];if(1===o&&1===a)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var i=Ha(t);return 1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+i+") + 0.5) / "+a+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+i+") + 0.5) / "+o+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+a+", "+o+", index + "+i+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape;if(null!=a&&j(t,a)){var o=a[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+a[1]+".0, "+o+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var i=q(t),s=i.newShape,u=i.keptDims,l=s;if(l.length<t.length)return"\n      "+Fa(qa(e,l))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+Ka(["row","col"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+Va(e)+"\n      }\n    ";var c=a[0],d=a[1],h=Ha(n);return 1===d?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+d+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+h+";\n    vec2 uv = uvFromFlat("+c+", "+d+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[1]*t[2],o=t[2],i=q(t),s=i.newShape,u=i.keptDims,l=s;if(l.length<t.length)return"\n        "+Fa(qa(e,l))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+Ka(["row","col","depth"],u)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+a+", "+o+", 1)));\n        "+Va(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,d=c[0],h=c[1],f=e.shapeInfo.flatOffset;return h===a&&null==f?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+o+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+h+".0, "+d+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":h===o&&null==f?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+".0, "+d+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+a+" + col * "+o+" + depth + "+Ha(n)+";\n        vec2 uv = uvFromFlat("+d+", "+h+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[3],o=t[2]*a,i=t[1]*o,s=q(t),u=s.newShape,l=s.keptDims;if(u.length<t.length)return"\n      "+Fa(qa(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+Ka(["row","col","depth","depth2"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+i+", "+o+", "+a+", 1)));\n        "+Va(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],f=d[1];return f===i&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+o+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===a&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+i+" + col * "+o+" +\n          depth * "+a+" + depth2;\n      vec2 uv = uvFromFlat("+h+", "+f+", index + "+Ha(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,i=t[2]*o,s=t[1]*i,u=q(t),l=u.newShape,c=u.keptDims;if(l.length<t.length)return"\n      "+Fa(qa(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+Ka(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+i+", "+o+", "+a+")) +\n          depth3;\n        "+Va(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,f=h[0],p=h[1];return p===s&&null==d?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+i+", "+o+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===a&&null==d?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+i+" + depth * "+o+" +\n          depth2 * "+a+" + depth3 + "+Ha(n)+";\n      vec2 uv = uvFromFlat("+f+", "+p+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=q(t),o=a.newShape,i=a.keptDims;if(o.length<t.length)return"\n      "+Fa(qa(e,o))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+Ka(["row","col","depth","depth2","depth3","depth4"],i)+");\n      }\n    ";var s=t[5],u=t[4]*s,l=t[3]*u,c=t[2]*l,d=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+d+", "+c+", "+l+", "+u+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+Va(e)+"\n      }\n    ";var h=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,p=f[0],m=f[1];return m===d&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+c+", "+l+", "+u+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===s&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+d+" + col * "+c+" + depth * "+l+" +\n          depth2 * "+u+" + depth3 * "+s+" + depth4 + "+Ha(n)+";\n      vec2 uv = uvFromFlat("+p+", "+m+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function ja(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+Na().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=Na();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+a[0]+", "+a[1]+", index);\n      return "+o.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=a[0],i=a[1],s=Na();if(null!=a&&j(t,a))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+i+".0, "+o+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===t[0])return"\n        "+ja(qa(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+Ka(["b","row","col"],[1,2])+");\n        }\n      ";var i=o[0],s=o[1],u=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+i+", "+s+", "+u*Math.ceil(t[1]/2)+", "+u+", b, row, col);\n      return "+Na().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],s=i[0],u=i[1],l=Math.ceil(t[n-1]/2),c=l*Math.ceil(t[n-2]/2),d="int b, int row, int col",h="b * "+c+" + (row / 2) * "+l+" + (col / 2)",f=2;f<n-1;f++)d="int b"+f+", "+d,h="b"+f+" * "+(c*=t[n-f-1])+" + "+h;return"\n    vec4 "+a+"("+d+") {\n      int index = "+h+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+Na().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var Ba="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",La="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Wa="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ga="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Ha(e){return"offset"+e}function Va(e){var t=e.name,n=F(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function Ua(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function qa(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Ka(e,t){return t.map((function(t){return e[t]})).join(", ")}var Xa=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,O(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var a=e[e.length-1],o=Math.ceil(a/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var i,s,u=this.outputShape,l=u.length,c=Ua(l),d=Ta("coords",l);if(1===o){var h=Ua(s=l+1);i="\n        "+h+" sourceLocR = "+h+"("+d.join()+", 0);\n        ++"+d[l-1]+";\n        "+h+" sourceLocG = "+h+"("+d.join()+", 0);\n        ++"+d[l-2]+";\n        "+h+" sourceLocA = "+h+"("+d.join()+", 0);\n        --"+d[l-1]+";\n        "+h+" sourceLocB = "+h+"("+d.join()+", 0);\n        --"+d[l-2]+";"}else s=l,i="\n        "+c+" sourceLocR = coords;\n        ++"+d[l-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+d[l-2]+";\n        "+c+" sourceLocA = coords;\n        --"+d[l-1]+";\n        "+c+" sourceLocB = coords;\n        --"+d[l-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),p="."+f[s-1],m=f.map((function(e){return"int "+e})),g=Ta("sourceLocR",s-1).concat("inIdx.r"),v=Ta("sourceLocG",s-1).concat("inIdx.g"),y=Ta("sourceLocB",s-1).concat("inIdx.b"),b=Ta("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",_=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",x="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+v.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",k=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+k+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+d[l-1]+" < "+(u[l-1]-1)+";\n        bool hasNextRow = "+d[l-2]+" < "+(u[l-2]-1)+";\n        "+i+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+x+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+_+"\n          vec4 candidate = "+x+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Za=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+l+", "+c+");\n      const float avgMultiplier = float("+d+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+o+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+i+") {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ya=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=c-1-e.padInfo.front,p=d-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+a+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+d+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+l+") {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ja=function(e,t,n,r,a,o){this.outputShape=[],this.variableNames=["x","mean","variance"],Zr(e,t),Zr(e,n);var i="0.0";null!=r&&(Zr(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";null!=a&&(Zr(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+i+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Qa=function(e,t,n,r,a,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Zr(e,t),Zr(e,n);var i="vec4(0.0)";null!=r&&(Zr(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=a&&(Zr(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+i+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},$a=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Zr(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},eo="return a + b;",to="return a - b;",no="return a * b;",ro="return (a < 0.) ? b * a : a;",ao=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Zr(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},oo="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",io=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Zr(t,n);var a=this.outputShape.length,o="";if(r)if(0===a||1===F(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          "+Ua(a)+" coords = getOutputCoords();\n        ",1===a)o+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var i=Ta("coords",a);o+="\n            bool nextRowOutOfBounds =\n              ("+i[a-2]+" + 1) >= "+this.outputShape[a-2]+";\n            bool nextColOutOfBounds =\n              ("+i[a-1]+" + 1) >= "+this.outputShape[a-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+o+"\n\n        setOutput(result);\n      }\n    "},so=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),uo=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),lo=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},co=function(e){this.outputShape=[],this.outputShape=pn(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var a=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var o=t.length,i=t[t.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+i+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},ho=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=pn(e,t);var n=this.outputShape,r=n.length,a=Ua(r),o=Ta("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=i[t],c=i.slice(-2),d=i.join(),h="if ("+l+" < "+s[0]+") {\n        return getChannel(\n            getT0("+d+"), vec2("+c.join()+"));\n        }";for(u=1;u<s.length;u++){var f=s[u-1];h+="\n        if ("+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+fo(i,l,f)+"),\n            vec2("+fo(c,l,f)+"));\n        }"}var p=s.length,m=s[s.length-1];h+="\n        return getChannel(\n          getT"+p+"("+fo(i,l,m)+"),\n          vec2("+fo(c,l,m)+"));",this.userCode="\n      float getValue("+i.map((function(e){return"int "+e}))+") {\n        "+h+"\n      }\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+o+"), 0., 0., 0.);\n\n        "+o[r-1]+" = "+o[r-1]+" + 1;\n        if ("+o[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+o+");\n        }\n\n        "+o[r-2]+" = "+o[r-2]+" + 1;\n        if ("+o[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+o+");\n        }\n\n        "+o[r-1]+" = "+o[r-1]+" - 1;\n        if ("+o[r-2]+" < "+n[r-2]+" &&\n            "+o[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+o+");\n        }\n        setOutput(result);\n      }\n    "};function fo(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var po=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+o+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},mo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=o?1:2,l=o?2:3,c=o?3:1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+l+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+o+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},go=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,o=e.padInfo.top,i=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+a+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+o+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+i+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},vo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+l+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+a+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},yo=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},bo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},wo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.padInfo.top,o=e.padInfo.left,i=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,p="channelsLast"===e.dataFormat,m=p?1:2,g=p?2:3,v=p?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+i+", "+s+");\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+v+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===f)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+h+") *\n                    getW(wR, wC, "+h+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+h+", xR, xC) *\n                    getW(wR, wC, "+h+", d2);\n              }\n\n            } else if ("+(2===f)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===f)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2),\n                getW(wR, wC, "+h+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1),\n                  getX(batch, xR, xC, "+h+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC),\n                  getX(batch, "+h+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},_o=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,h=e.filterWidth,f=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+a+", "+o+", "+i+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+l+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},xo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.inHeight,o=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,p=e.outChannels/e.inChannels,m="",g="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+a+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+d+";\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+v+"\n        "+g+"\n        setOutput(result);\n      }\n    "},ko=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var a=e.inHeight,o=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,p=f,m="int xR; int xC; int xCOffset;",g=0;g<h;g++)for(var v=0;v<f;v++)m+="\n          vec4 xTexelR"+g+"C"+2*v+" = vec4(0.);\n          vec4 wR"+g+"C"+v+" = vec4(0.);\n          vec4 xR"+g+"C"+v+" = vec4(0.);";for(g=0;g<h;g++)for(var y=0;y<p;y++){if(m+="\n          xR = xRCorner + "+g*c+";\n          xC = xCCorner + "+(v=2*y)*d+";\n        ",1===l){if(v<f&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    xTexelR"+g+"C"+v+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+v+" = vec4(previous.zw, xTexelR"+g+"C"+v+".xy);\n                } else {\n                  xR"+g+"C"+v+" = vec4(0, 0, xTexelR"+g+"C"+v+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+a+" && xC >= 0 && xC < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = xTexelR"+g+"C"+v+";\n              ",v+1<f)){var b=s%2==0?T(d):d;d%2==0&&s%2==1||d%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",d>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+a+" &&\n                      xCOffset >= 0 && xCOffset < "+o+") {\n                      xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+v+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(v+1)+" = xTexelR"+g+"C"+(v+2)+";\n                "}}else v<f&&(m+="\n              if(xR >= 0 && xR < "+a+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+l+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+o+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n              ",v+1<f&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+l+";\n                  if(xCOffset >= 0 && xCOffset < "+o+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(v+1)+" = vec4(xTexelR"+g+"C"+(v+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+o+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+l+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".xy, xTexelR"+g+"C"+(v+2)+".xy);\n              ",v+1<f&&(m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n                ")),m+="}");v<f&&(m+="\n            vec4 wTexelR"+g+"C"+v+" = getW("+g+", "+v+", d1, q);\n            wR"+g+"C"+v+" = vec4(wTexelR"+g+"C"+v+".xz, wTexelR"+g+"C"+v+".xz);\n          ",v+1<f&&(m+="\n              vec4 wTexelR"+g+"C"+(v+1)+" = getW("+g+", "+(v+1)+", d1, q);\n              wR"+g+"C"+(v+1)+" =\n                vec4(wTexelR"+g+"C"+(v+1)+".xz, wTexelR"+g+"C"+(v+1)+".xz);"))}for(g=0;g<h;g++)for(v=0;v<f;v++)m+="dotProd += xR"+g+"C"+v+" * wR"+g+"C"+v+";";var w="",_="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",_="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+x+"\n        "+_+"\n        setOutput(result);\n      }\n    "},Co=function(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=e[0],i=e[1],s=e[2],u=e[3],l=t[0],c=n[0],d=n[1];this.outputShape=[l,c,d,u];var h="bilinear"===r?1:0,f=[i-1+".0",s-1+".0"],p=f[0],m=f[1],g=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],v=g[0],y=g[1],b=g[2],w=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],_=w[0],x=w[1],k=w[2];this.userCode="\n      const float height_ratio = float("+v+");\n      const float width_ratio = float("+_+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+x+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n        float in_x = "+k+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+h+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},Eo=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=e[e.length-1],o=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+a+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Ua(r)+" coords = getOutputCoords();\n        int end = "+So(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+a+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+So(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function So(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Ao=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Xe.DENSE;var t=nt(e),n=Na();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Oa(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},Io=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Xe.DENSE;var t=nt(e),n=Na();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Oa(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Ro=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),zo=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},To=function(e){this.variableNames=["A"],this.outTexUsage=Ze.DOWNLOAD;var t=Na();this.outputShape=e,this.userCode="\n      "+Ma+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},No=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ze.DOWNLOAD;var t=Na();this.outputShape=e,this.userCode="\n      "+Ma+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},Oo=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Na(),a=t[0],o=t[1];this.outputShape=e;var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      "+Da(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+o+";\n        int c = imod(flatIndex, "+o+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+a+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+i+", 0., 0., 0.);\n      }\n    "},Do=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Na(),a=t[0],o=t[1];this.outputShape=e;var i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;i+="\n          localCoords = coords;\n          if(localCoords[2] + "+l+" < "+e[2]+") {\n            localCoords[2] += "+l+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+o+";\n              c = imod(flatIndex, "+o+");\n              uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+a+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Da(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+i+"\n\n        "+r.output+" = "+s+";\n      }\n    "},Mo=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+a+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+o+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Po=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Fo=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var a=Ua(this.rank),o=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],o=0;o<e.length;o++)o===t?a.push("int(getIndices("+r[o]+"))"):a.push(""+r[o]);return a.join()}(e,n);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},jo=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Ua(t.length),a=Ua(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+a+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+o+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Bo(e,t){var n=Na();return lt(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Lo(e,t){return vt(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Wo(e,t){return yt(e,t,new Uint16Array([0,1,2,2,1,3]))}function Go(e,t,n,r,a,o,i){wt(n,r);var s=bt(e,t),u=e.TEXTURE_2D;return ot(e,t,(function(){return e.bindTexture(u,s)})),ot(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),ot(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),ot(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),ot(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),ot(e,t,(function(){return e.texImage2D(u,0,a,n,r,0,o,i,null)})),ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function Ho(e,t,n,r,a){var o=tt(n,r);return Go(e,t,o[0],o[1],a.internalFormatFloat,a.textureFormatFloat,e.FLOAT)}function Vo(e,t,n,r,a){var o=tt(n,r);return Go(e,t,o[0],o[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function Uo(e,t,n,r,a){var o=tt(n,r);return Go(e,t,o[0],o[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function qo(e,t,n,r,a){var o=rt(n,r);return Go(e,t,o[0],o[1],a.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Ko(e,t,n,r,a){var o=rt(n,r);return Go(e,t,o[0],o[1],a.internalFormatPackedHalfFloat,e.RGBA,a.textureTypeHalfFloat)}function Xo(e,t,n,r){return ot(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),xt(e,t,n,"clipSpacePos",r,3,20,0)&&xt(e,t,n,"uv",r,2,20,12)}function Zo(e,t,n,r,a,o,i){var s,u,l;ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),o instanceof Uint8Array?(s=new Uint8Array(r*a*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*a*4),u=e.FLOAT,l=i.internalFormatPackedFloat),s.set(o),ot(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,a,0,e.RGBA,u,s)})),ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Yo(e,t,n,r){ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?ot(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):ot(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),ot(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Jo(e,t,n,r,a){var o=e.createBuffer();ot(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,o)}));var i=16*n*r;return ot(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),ot(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),ot(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),o}function Qo(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function $o(e,t,n,r,a){var o=tt(n,r),i=o[0],s=o[1],u=new Uint8Array(n*r*4);return ot(e,t,(function(){return e.readPixels(0,0,i,s,a.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function ei(e,t,n,r,a,o,i,s){var u=e,l=new Float32Array(function(e,t){var n=rt(e,t);return n[0]*n[1]*4}(o,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function ti(e,t,n,r){var a=new Float32Array(n*r*4);return ot(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,a)})),a}var ni=Object.freeze({createVertexShader:Bo,createVertexBuffer:Lo,createIndexBuffer:Wo,createFloat32MatrixTexture:Ho,createFloat16MatrixTexture:Vo,createUnsignedBytesMatrixTexture:Uo,createPackedMatrixTexture:qo,createFloat16PackedMatrixTexture:Ko,bindVertexProgramAttributeStreams:Xo,uploadDenseMatrixToTexture:Zo,uploadPixelDataToTexture:Yo,createBufferFromOutputTexture:Jo,downloadFloat32MatrixFromBuffer:Qo,downloadByteEncodedFloatMatrixFromOutputTexture:$o,downloadPackedMatrixFromBuffer:ei,downloadMatrixFromPackedOutputTexture:ti}),ri=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=w().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,$e(t,e)):this.gl=et(t);var n="WEBGL_color_buffer_float";if(1===w().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=ut(this.gl,this.debug,"OES_texture_float"),Gt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=ut(this.gl,this.debug,"OES_texture_half_float");else if(w().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Gt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=ut(this.gl,this.debug,"EXT_color_buffer_half_float");else if(w().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Gt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Gt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Lo(this.gl,this.debug),this.indexBuffer=Wo(this.gl,this.debug),this.framebuffer=_t(this.gl,this.debug),this.textureConfig=at(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return w().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;ot(t,this.debug,(function(){return t.finish()})),ot(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),ot(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),ot(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),ot(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),ot(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Ho(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Vo(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Uo(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Yo(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Zo(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Ko(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),qo(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(It(this.gl,this.debug,this.framebuffer),this.outputTexture=null),ot(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return $o(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,a,o){return ei(this.gl,e,0,0,0,a,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return Qo(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Jo(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(w().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=o}else w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return ti(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=ct(t,this.debug,e),r=Bo(t,this.debug),a=pt(t,this.debug);return ot(t,this.debug,(function(){return t.attachShader(a,r)})),ot(t,this.debug,(function(){return t.attachShader(a,n)})),mt(t,this.debug,a),this.debug&&gt(t,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=Xo(t,this.debug,this.program,this.vertexBuffer)),a},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&ot(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&gt(this.gl,this.debug,this.program),ot(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?Ct(this.gl,this.debug,e,t):Et(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),ot(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),St(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=rt(t,n),a=r[0],o=r[1];this.setOutputMatrixTextureDriver(e,a,o)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&gt(this.gl,this.debug,this.program),Rt(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),ot(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),ot(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=ut(this.gl,this.debug,2===w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a},e.prototype.endQuery=function(){if(2!==w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return v(this,void 0,void 0,(function(){var t=this;return y(this,(function(n){switch(n.label){case 0:return[4,H((function(){return t.disposed||t.isQueryAvailable(e,w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}return a=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||H((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),At(this.gl,this.debug,e,this.framebuffer),this.debug&&Rt(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(At(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Rt(this.gl)):It(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;At(r,this.debug,e,this.framebuffer),this.debug&&Rt(r),this.outputTexture=e,ot(r,this.debug,(function(){return r.viewport(0,0,t,n)})),ot(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var a=this;this.throwIfDisposed(),ot(this.gl,this.debug,(function(){return a.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function ai(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,a=t[n],o=a.shape;if(!j(r,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+o+" must match");if(!e.isUniform||!a.isUniform){var i=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!j(i,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+i+" and "+s+" must match")}}))}var oi=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,a=n.inChannels,o=n.strideWidth,i=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,c=n.dilationHeight,d=n.dataFormat,h=s.left,f=s.top,p=a*r,m=Na(),g="channelsLast"===d,v=g?0:1,y=g?1:2,b="",w=0;w<=1;w++)for(var _=0;_<=1;_++)b+="\n          blockIndex = rc.y + "+_+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+i+" - "+f+";\n            d0 = offsetY + "+c+" * (pos / "+p+");\n\n            if(d0 < "+t[v]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+o+". - "+h+".);\n              d1 = offsetX + "+l+" * (int(mod(float(pos), "+p+".) / "+a+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+a+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+_)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+_)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},ii=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];var o,i=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";o=.5===a?"inversesqrt("+u+")":1===a?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+i+"; j <= "+i+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+o+";\n        setOutput(val);\n      }\n    "},si=function(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+a+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+a+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},ui=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,i=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";o=.5===a?"inversesqrt("+u+")":1===a?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+i+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+i+"; j <= "+i+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+o+";\n        setOutput(result);\n      }\n    "},li=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,o=e.effectiveFilterWidth,i=a-1-e.padInfo.top,s=o-1-e.padInfo.left,u=a*o-1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+a+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+o+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+o+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ci=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,o=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=u-1-e.padInfo.top,h=l-1-e.padInfo.left,f=s*u*l-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+d+", "+h+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+a+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+o+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+i+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+l+" +\n                  wR * "+l+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},di=function(e,t,n,r,a,o,i){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===o&&(o=null),void 0===i&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",d=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",p="";o&&(f=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+o+"\n        }":"vec4 activation(vec4 x) {\n          "+o+"\n        }",p="result = activation(result);");var m=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+l+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+d[0]+" * "+h[0]+");\n          result += ("+d[1]+" * "+h[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},hi=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),fi=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},pi=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Ta("rc",t),r=Ua(t),a=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",a=e-2;a<e;a++)r+=n[a]+" >= "+t[a],a<e-1&&(r+="||");return r}(t,e,n),o=function(e,t,n,r){if(1===e)return"";var a=r.slice(-2);return"\n    int r = "+a[0]+";\n    int c = "+a[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),i=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var a=0;a<=1;a++){for(var o=(0===r?"r":"rp1")+", "+(0===a?"c":"cp1"),i=2;i<e;i++)o=t[t.length-1-i]+","+o;n.push(o)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+a+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+i+"));\n          }\n        }\n      "}},mi=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,a=Ua(r),o=t.map((function(e){return e[0]})).join(","),i=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+a+" start = "+a+"("+o+");\n      "+a+" end = "+a+"("+i+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+i+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},gi=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,a=Ua(r),o=t.map((function(e){return e[0]})).join(","),i=t.map((function(t,n){return t[0]+e[n]})).join(","),s=Ta("rc",r),u=Ta("source",r),l=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+u.slice(-2).join()+")",d=[a+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+l+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+l+") {"],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",p=0,m=1===r?2:4;p<m;p++)f+="\n        "+d[p]+"\n        if ("+h+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+a+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+c+");\n        }\n      ";f+=1===r?"} ":"}}",this.userCode="\n      const "+a+" start = "+a+"("+o+");\n      const "+a+" end = "+a+"("+i+");\n\n      void main() {\n        "+a+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},vi=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;var h="avg"===t,f="0.0";if(h||(f="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+a+", "+o+");\n        const ivec2 pads = ivec2("+c+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+i+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+l+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(p="avgValue / count");var m=4*Math.floor(r/4),g=r%4,v="\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+o+");\n      const ivec2 pads = ivec2("+c+", "+d+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+i+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+v+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+v+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},yi=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.front,p=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var g="avg"===t,v="0.0";if(g||(v="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+a+", "+o+", "+i+");\n        const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+h+";\n                  wC += "+l+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+d+" * "+h+" +\n                      wR * "+h+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),w=r%4,_="\n      if ("+g+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+a+", "+o+", "+i+");\n      const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n      const float initializationValue = "+v+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+v+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+l+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+l+", ch)\n              );\n\n              "+_+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+_+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+_+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                initializationValue\n              );\n\n              "+_+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},bi=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,o=Math.ceil(a/n);this.outputShape=[r,o];var i="0.0",s="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",s="min"):"max"===t&&(i="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,d="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";"all"===t?(i="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(i="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var f="";a%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+i+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+i+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+d+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(2===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(3===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+d+"\n        }\n        setOutput("+u+");\n      }\n    "},wi=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+="\n        "+a+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Oa(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Da(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},_i=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],o=r[2],i=e.shape,s=i[1],u=i[2],l=[n&&s>1?a-1:a,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],d=l[0]/c[0],h=l[1]/c[1],f=1/d,p=1/h,m=2*Math.ceil(f)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(a-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},xi=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],o=e[1],i=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?o-1:o,r&&n>1?i-1:i],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ki=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=e[0],o=e[1],i=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?o-1:o,r&&n>1?i-1:i],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+",\n          "+u[1]/l[1]+");\n      const vec3 inputShapeRC = vec3("+o+".0, "+i+".0,\n                                     "+i+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},Ci=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],o=r[2],i=e.shape,s=i[1],u=i[2],l=[n&&s>1?a-1:a,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],d=l[0]/c[0],h=l[1]/c[1],f=1/d,p=1/h,m=2*Math.ceil(f)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Ei=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],o=e[1],i=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?o-1:o,r&&n>1?i-1:i],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},Si=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),a=Ua(n);this.userCode="\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},Ai=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Ta("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],o=r[n-2]+" + 1 < "+this.outputShape[n-2],i=Ua(n);function s(n){var r=e.map((function(r,a){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(a,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+a+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+i+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+a+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+o+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+a+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},Ii=function(e,t,n,r,a,o,i){void 0===i&&(i=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Ua(a.length),u=Ua(o.length),l="";1===n?l="i":2===n&&(l="i, j");var c="getIndices("+l+")",d="";1===r?d="i":2===r&&(d="i, coords[1]");var h="getUpdates("+d+")",f=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+a+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+h+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Ri=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,a=e.inSize,o=e.numSegments,i=o*Math.ceil(a/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, segFilter);\n    ",c="";a%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      ");var d="";a%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "},zi=function(e,t,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)a="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],u=0;u<t.length;u++)s.push(""+o[u]),u<e&&i.push(""+o[u]);r=i.join(),a=s.join()}var l=Ua(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "},Ti=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Ua(this.rank),r="uniform int start["+this.rank+"];",a=function(e){if(1===e)return"sourceLoc";if(e<=6)return Ni.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+Ni[t]+" = start["+t+"] + coords."+Ni[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+a+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Ni=["x","y","z","w","u","v"],Oi=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Ua(this.rank),n=Ta("coords",this.rank),r=Ta("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",o="getChannel(getSource("+r.join()+"), "+a+")",i="\n      result.x = "+o+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+o+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+o+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+o+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+i+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Di=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=Ua(n.length),o=Ua(n.length),i="";if(1===r)i="coords * strides + begin";else{var s=0;i=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+a+" begin = "+a+"("+e+");\n      "+a+" strides = "+a+"("+t+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+i+"));\n      }\n    "},Mi=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,a=Pi(t,n),o=Fi(e,a,n);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var i=this.freeTextures[o].shift();return this.usedTextures[o].push(i),i}return this.numUsedTextures++,this.log(),a===Ye.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===Ye.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===Ye.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===Ye.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===Ye.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var a=Fi(t,Pi(n,r),r);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(e),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[a],i=o.indexOf(e);if(i<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(i,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function Pi(e,t){if(e===Ze.UPLOAD)return Ye.PACKED_2X2_FLOAT32;if(e===Ze.RENDER||null==e)return function(e){return w().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Ye.PACKED_2X2_FLOAT32:Ye.UNPACKED_FLOAT32:e?Ye.PACKED_2X2_FLOAT16:Ye.UNPACKED_FLOAT16}(t);if(e===Ze.DOWNLOAD||e===Ze.PIXELS)return Ye.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Fi(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var ji=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var a=Ua(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod("+n[a]+", "+e[a]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Bi=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var a=Ua(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(t);this.userCode="\n    void main() {\n      "+a+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},Li=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=Ua(this.rank),o=za("rc",this.rank),i=new Array(this.rank);for(r=0;r<t.length;r++)i[t[r]]=o[r];var s="vec2("+i.slice(-2).join()+")",u="++"+o[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+i.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+a+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+l+";\n      if("+u+") {\n        result[1] = "+l+";\n      }\n      --"+o[this.rank-1]+";\n      if(++"+o[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+l+";\n        if("+u+") {\n          result[3] = "+l+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Wi=1.7580993408473768,Gi=1.0507009873554805,Hi=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Vi="if (isnan(x)) return x;",Ui="return abs(x);",qi=Vi+"\n  return (x < 0.0) ? 0.0 : x;\n",Ki=Vi+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Xi="return (x >= 0.0) ? x : (exp(x) - 1.0);",Zi="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Wi+";\n  float scale = "+Gi+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",Yi="return -x;",Ji="return ceil(x);",Qi="return floor(x);",$i="return exp(x);",es="return exp(x) - 1.0;",ts=Vi+"\n  return sin(x);\n",ns=Vi+"\n  return cos(x);\n",rs=Vi+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",as=Vi+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",os=Vi+"\n  return atan(x);\n",is=Vi+"return log(x + sqrt(x * x + 1.0));",ss=Vi+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",us=Vi+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",ls="return x;",cs="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",ds="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",hs="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",fs=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},ps=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Ta("rc",t),r=Ua(t),a=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),i=t<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+a+");\n\n        setOutput(getChannel(packedInput, "+i+"));\n      }\n    "},ms={};function gs(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?cs:qi;if("elu"===e)return t?hs:Xi;if("relu6"===e)return t?ds:Ki;if("prelu"===e)return t?oo:ro;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var vs=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!w().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var a=et(w().getNumber("WEBGL_VERSION"));r.binaryCache=((n=w().getNumber("WEBGL_VERSION"))in ms||(ms[n]={}),ms[n]),r.gpgpu=new ri(a),r.canvas=a.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Mi(r.gpgpu),r.numMBBeforeWarning=null==w().global.screen?1024:w().global.screen.height*w().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Vr(r,Ue),r}return g(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(w().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Ze.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(w().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Ze.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensors,o=t.slice,i=t.shape,s=t.isPacked;if(null!=o){var u;u=s?new fs(i,ls):new Hi(i,ls);var l=this.runWebGLProgram(u,[{dataId:e,shape:i,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeData(l.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,h,f=null!=this.activeTimers;return f&&(d=he()),h="complex64"===r?da(a.real.dataSync(),a.imag.dataSync()):this.getValuesFromTexture(e),f&&(this.downloadWaitMs+=he()-d),this.convertAndCacheOnCPU(e,h)},t.prototype.read=function(e){return v(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,b,_,x,k,C;return y(this,(function(y){switch(y.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,a=n.shape,o=n.slice,i=n.dtype,s=n.complexTensors,u=n.isPacked,null!=o)return void 0,l=u?new fs(a,ls):new Hi(a,ls),c=this.runWebGLProgram(l,[{dataId:e,shape:a,dtype:i}],i),d=this.read(c.dataId),this.disposeData(c.dataId),[2,d];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!w().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===w().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,"complex64"!==i&&w().get("WEBGL_BUFFER_SUPPORTED")&&(f=this.decode(e),p=this.texData.get(f.dataId),h=(C=this.gpgpu).createBufferFromTexture.apply(C,[p.texture].concat(nt(a)))),this.pendingRead.set(e,[]),"complex64"===i?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:y.sent(),y.label=2;case 2:return"complex64"!==i?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return g=y.sent(),v=g[0],b=g[1],m=da(v,b),[3,5];case 4:null==h?m=this.getValuesFromTexture(e):(_=F(a),m=this.gpgpu.downloadFloat32MatrixFromBuffer(h,_)),y.label=5;case 5:return null!=f&&this.disposeData(f.dataId),x=this.convertAndCacheOnCPU(e,m),k=this.pendingRead.get(e),this.pendingRead.delete(e),k.forEach((function(e){return e(x)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,x]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!it(n)){if(w().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,a=n.dtype,o=n.isPacked,i=F(r);if(w().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),l=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(nt(r))).subarray(0,i);return this.disposeData(s.dataId),l}var c=w().getBool("WEBGL_PACK")&&!0===o,d=c?Mt(r):r,h=c?new No(d):new To(d),f=this.runWebGLProgram(h,[{shape:d,dtype:a,dataId:e}],"float32"),p=this.texData.get(f.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture,p.texShape[0],p.texShape[1]).subarray(0,i);return this.disposeData(f.dataId),m},t.prototype.time=function(e){return v(this,void 0,void 0,(function(){var t,n,r,a,o,i,s;return y(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),a=P(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=P(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(a)]:[3,2];case 1:return s=u.sent(),i.kernelMs=N(s),i.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:i.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,i]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:he(),endMs:null}},t.prototype.endTimer=function(e){return w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=he(),e)},t.prototype.getQueryTime=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){return w().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,o=t.usage,i=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,o,i)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return w().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Ue.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Ue.keep(e.clone()),imag:Ue.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===F(n))return bn([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,a=Br(e.shape,t,n);if(r||!a){var o=w().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Oi(n):new Ti(n),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[e],null,i)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),a=this.makeOutput(n,e.dtype),o=this.texData.get(a.dataId);Object.assign(o,r),o.shape=n,o.dtype=e.dtype;var i=Lr(t,e.strides);r.slice&&(i+=r.slice.flatOffset),o.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,s+1),a},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var a=Pr(t,n,r);if(a.some((function(e){return 0===e})))return bn([],a);var o=new Di(t,r,a);return this.compileAndRun(o,[e])},t.prototype.reverse=function(e,t){var n=w().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ai(e.shape,t):new Si(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return vn(e)})),r=e.map((function(e){return yn(e)}));return gn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>w().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(e.length/2),o=this.concat(e.slice(0,a),t),i=this.concat(e.slice(a),t);return this.concat([o,i],t)}if(w().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new ho(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=pn(e.map((function(e){return e.shape})),t),l=e.map((function(e){return e.as2D(-1,F(e.shape.slice(t)))})),c=new co(l.map((function(e){return e.shape})));return this.compileAndRun(c,l).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Yi,e.dtype);var t=new Hi(e.shape,Yi);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],i=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===a||1===o)&&i>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===o?e:e.as3D(s,i,1),l=1===o?2:1,c=1===o?t.as3D(s,1,i):t;return this.multiply(u,c).sum(l,!0)}var d=Fe(e.dtype,t.dtype),h=new di(e.shape,[s,a,o],n,r);return this.compileAndRun(h,[e,t],d)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.bias,i=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],l=a?n.shape[1]:n.shape[2],c=t.shape[0],d=Fe(t.dtype,n.dtype),h=null!=o,f=null!=s,p=i?gs(i,!0):null,m=new di(t.shape,[c,u,l],r,a,h,p,f),g=[t,n];return o&&g.push(o),s&&g.push(s),this.compileAndRun(m,g,d)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),a=new $a("return areal * breal - aimag * bimag;",e.shape,t.shape),o=new $a("return areal * bimag + aimag * breal;",e.shape,t.shape),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(a,i),u=this.compileAndRun(o,i),l=this.complex(s,u);return s.dispose(),u.dispose(),l}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,no,e.dtype);var c=new ao(no,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,a,o){var i=[e,t,n],s=null;null!=o&&(s=o.shape,i.push(o));var u=null;if(null!=a&&(u=a.shape,i.push(a)),w().getBool("WEBGL_PACK_NORMALIZATION")){var l=new Qa(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,i)}var c=new Ja(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,i)},t.prototype.localResponseNormalization4D=function(e,t,n,r,a){var o=w().getBool("WEBGL_PACK_NORMALIZATION")?new ui(e.shape,t,n,r,a):new ii(e.shape,t,n,r,a);return this.compileAndRun(o,[e])},t.prototype.LRNGrad=function(e,t,n,r,a,o,i){var s=new si(t.shape,r,a,o,i);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return me(e)}));return Ca(Yn(e.shape,e.dtype,n),t)}var r=new ji(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=w().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gi(e.shape,t,n):new mi(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=w().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Li(e.shape,t):new Bi(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Fo(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){O(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),a=kr(e.shape,t,r),o=Cr(a.length,t.length),i=Er(e.shape,t,r),s=Sr(n,t.length),u=Ar(i,n,t.length);return e.reshape(a).transpose(o).reshape(i).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){O(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),a=[[0,0]];a.push.apply(a,n);for(var o=1+t.length;o<e.shape.length;++o)a.push([0,0]);var i=e.pad(a),s=kr(i.shape,t,r,!1),u=Cr(s.length,t.length,!1),l=Er(i.shape,t,r,!1);return i.reshape(s).transpose(u).reshape(l)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],a=e.shape[1],o=zr(a),i=new bi({windowSize:o,inSize:a,batchSize:r},t),s=this.compileAndRun(i,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],a=e.shape[1];null!=n&&(r=n.shape[0],a=n.shape[1]);var o=zr(a),i=new Ra({windowSize:o,inSize:a,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(i,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,a=zr(r[r.length-1]),o=new Xa(r,a,t,null==n),i=null==n?[e]:[e,n],s=this.compileAndRun(o,i,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){ln("sum",t,e.rank);var n=sn(e.shape,t),r=n[0],a=F(n[1]),o=e.as2D(-1,a),i=je(e.dtype);return this.reduce(o,"sum",i).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=sn(e.shape,t),r=n[0],a=F(n[1]),o=e.as2D(-1,a),i=je(e.dtype);return this.reduce(o,"prod",i).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,a=cn([r],e.rank),o=e;null!=a&&(o=e.transpose(a),r=hn(1,e.rank)[0]);var i=function(e,t,n){for(var r=[],a=e.length,o=0;o<a;o++)o!==t?r.push(e[o]):r.push(n);return r}(o.shape,r,n),s=F([o.shape[r]]),u=o.as2D(-1,s),l=je(e.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",t,l,n).reshape(i);return null!=a&&(c=c.transpose(dn(a))),c},t.prototype.segOpCompute=function(e,t,n,r,a){var o=e.shape[0],i=e.shape[1],s=function(e,t){var n,r=!1;for(e<=Rr?(n=e,r=!0):n=ie(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=ie(e,n+1);return n}(i,a),u=new Ri({windowSize:s,inSize:i,batchSize:o,numSegments:a},t),l=this.compileAndRun(u,[e,n],r);return l.shape[1]===a?l:(n=Rn(0,a).tile([i/s]),this.segOpCompute(l,t,n,r,a))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(ln("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!w().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var a=sn(e.shape,r),o=a[0],i=F(a[1]),s=e.as2D(-1,i);return this.argReduce(s,n).reshape(o)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var a=new Eo(e.shape,n,r);return this.compileAndRun(a,[e])},t.prototype.equal=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new ao("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new ao("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new ao("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new ao("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new ao("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new ao("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new Hi(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new ao("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new ao("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new zi(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Fe(t.dtype,n.dtype))},t.prototype.where=function(e){$t("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Sa(e.shape,t)},t.prototype.topk=function(e,t,n){return Ea(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){ln("min",t,e.rank);var n=sn(e.shape,t),r=n[0],a=F(n[1]),o=e.as2D(-1,a);return this.reduce(o,"min",o.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ao("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ao("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);ln("max",t,e.rank);var n=sn(e.shape,t),r=n[0],a=F(n[1]),o=e.as2D(-1,a);return this.reduce(o,"max",o.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ao("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){ln("all",t,e.rank);var n=sn(e.shape,t),r=n[0],a=F(n[1]),o=e.as2D(-1,a);return this.reduce(o,"all",o.dtype).reshape(r)},t.prototype.any=function(e,t){ln("any",t,e.rank);var n=sn(e.shape,t),r=n[0],a=F(n[1]),o=e.as2D(-1,a);return this.reduce(o,"any",o.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new ao("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new ao("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,eo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Fe(e.dtype,t.dtype);if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,eo,n);var r=new ao(eo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new fs(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,a){void 0===a&&(a=!1);var o=new io(n,e.shape,t.shape,a);return this.compileAndRun(o,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,a=this.texData.get(e.dataId),o=this.texData.get(t.dataId),i=[[a.complexTensors.real,o.complexTensors.real],[a.complexTensors.imag,o.complexTensors.imag]].map((function(a){var o=a[0],i=a[1],s=r.makeComplexComponentTensorInfo(e,o),u=r.makeComplexComponentTensorInfo(t,i),l=new ao(n,e.shape,t.shape);return r.compileAndRun(l,[s,u],Fe(o.dtype,i.dtype))})),s=i[0],u=i[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>w().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var a=e.map((function(e){return e.dtype})).reduce((function(e,t){return Fe(e,t)})),o=e.map((function(e){return e.shape})),i=w().getBool("WEBGL_PACK")?new Ia(e[0].shape,o):new Aa(e[0].shape,o);return this.compileAndRun(i,e,a)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,to);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Fe(e.dtype,t.dtype);if(w().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,to,e.dtype);var r=new ao(to,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ao("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Fe(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ji,e.dtype);var t=new Hi(e.shape,Ji);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Qi,e.dtype);var t=new Hi(e.shape,Qi);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new Hi(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new Hi(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new Hi(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new Hi(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new Hi(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,$i,e.dtype);var t=new Hi(e.shape,$i);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,es,e.dtype);var t=new Hi(e.shape,es);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=U([t],e.shape),r=this.max(e,n),a=un(r.shape,n),o=this.subtract(e,r.reshape(a)),i=this.exp(o),s=this.sum(i,n).reshape(a);return this.realDivide(i,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new Hi(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new Hi(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new Hi(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new Hi(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new Hi(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=w().getBool("WEBGL_PACK")?new fs(e.shape,cs):new Hi(e.shape,qi),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=w().getBool("WEBGL_PACK")?new fs(e.shape,ds):new Hi(e.shape,Ki),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io(oo,e.shape,t.shape):new ao(ro,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,hs,e.dtype);var t=new Hi(e.shape,Xi);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new ao("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new Hi(e.shape,Zi);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new Hi(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,a=(r=w().getBool("WEBGL_PACK_CLIP")?new uo(e.shape):new so(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,a)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(w().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ui,e.dtype);var t=new Hi(e.shape,Ui);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new lo(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new Hi(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new Hi(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new Hi(e.shape,ts);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new Hi(e.shape,ns);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new Hi(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new Hi(e.shape,rs);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new Hi(e.shape,as);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new Hi(e.shape,os);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ao("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new Hi(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new Hi(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new Hi(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new Hi(e.shape,is);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new Hi(e.shape,ss);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new Hi(e.shape,us);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new Hi(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new Hi(e.shape,function(e){return void 0===e&&(e=0),Vi+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,a,o){var i=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,l=i[0]*i[1]*i[2],c=n.outChannels,d="channelsLast"===n.dataFormat,h=(1===l||1===c)&&u>1e3,f=i[2]%2!=0&&!!s.isPacked;if(h||!w().getBool("WEBGL_LAZILY_UNPACK")||!w().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!f){var p=d?i[0]*i[1]*i[2]:i[0]*i[2]*i[3],m=this.reshape(e,[1,p,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:g,transposeA:!1,transposeB:!1,bias:r,activation:a,preluActivationWeights:o}),n.outShape)}var v=d?i[0]*i[1]*(i[2]+1):i[0]*i[2]*(i[3]+1),y={dataId:e.dataId,shape:[1,v,n.inChannels],dtype:e.dtype},b=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,O(jt(s.shape,y.shape),(function(){return"packed reshape "+s.shape+" to "+y.shape+" isn't free"}));var _=this.reshape(t,[1,n.inChannels,n.outChannels]),x=this.fusedBatchMatMul({a:y,b:_,transposeA:!1,transposeB:!1,bias:r,activation:a,preluActivationWeights:o}),k=this.texData.get(x.dataId);return O(k.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=b,k.shape=n.outShape,Ue.makeTensorFromDataId(x.dataId,n.outShape,x.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,a,o){var i=n.filterWidth,s=n.filterHeight,u=n.inChannels,l=n.outWidth,c=n.outHeight,d="channelsLast"===n.dataFormat,h=i*s*u,f=c*l,p=[h,f],m=e.squeeze([0]),g=t.reshape([1,h,-1]),v=new oi(p,m.shape,n),y=this.compileAndRun(v,[m]).reshape([1,p[0],p[1]]),b=null!=r,w=null!=o,_=a?gs(a,!0):null,x=new di(y.shape,[1,f,n.outChannels],!0,!1,b,_,w),k=[y,g];r&&k.push(r),w&&k.push(o);var C=this.compileAndRun(x,k);return d?C.reshape([1,c,l,n.outChannels]):C.reshape([1,n.outChannels,c,l])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,a=e.bias,o=e.activation,i=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,a,o,i);if(w().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,a,o,i);var s=null!=a,u=null!=i,l=o?gs(o,!1):null,c=new wo(r,s,l,u),d=[t,n];return a&&d.push(a),i&&d.push(i),this.compileAndRun(c,d)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(w().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new wo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new mo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new po(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,a=e.convInfo,o=e.bias,i=e.activation,s=e.preluActivationWeights,u=w().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1,l=i?gs(i,u):null,c=[n,r],d=null!=o,h=null!=s;return d&&c.push(o),h&&c.push(s),u?(t=new ko(a,d,l,h),this.compileAndRun(t,c)):(t=new xo(a,d,l,h),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return w().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new ko(n),this.compileAndRun(r,[e,t])):(r=new xo(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new bo(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new yo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new _o(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new vo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new go(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new vi(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new vi(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var a=new vi(r,"max",!0),o=this.compileAndRun(a,[t]),i=new li(r),s=this.compileAndRun(i,[e,o],t.dtype);return o.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Za(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return ua(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),a=0,o=0;o<e.rank;o++)o!==t&&(r[a++]=e.shape[o]);var i=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(o=0;o<u.length;o++)i[t]=o,u[o]=this.slice(e,i,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new yi(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Ya(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new yi(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var a=new yi(r,"max",!0),o=this.compileAndRun(a,[t]),i=new ci(r),s=this.compileAndRun(i,[e,o],t.dtype);return o.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!jt(e.shape,t)&&(null===n.texture||!jt(n.shape,t))){var r=this.packedReshape(e,t);return Ue.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return la(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var a=w().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ki(e.shape,t,n,r):new xi(e.shape,t,n,r);return this.compileAndRun(a,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new _i(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var a=new Ei(e.shape,t,n,r);return this.compileAndRun(a,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new Ci(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var a=t?e:Gr(e),o=a.shape[0],i=a.shape[1],s=new hi(o,i,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[a],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var a=new fi(e.size,t,n,r);return this.compileAndRun(a,[e])},t.prototype.diag=function(e){var t=new zo(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,a){return $t("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),va(e.dataSync(),t.dataSync(),n,r,a)},t.prototype.cropAndResize=function(e,t,n,r,a,o){var i=new Co(e.shape,t.shape,r,a,o);return this.compileAndRun(i,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){O(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],a="NHWC"===n?e.shape[1]:e.shape[2],o="NHWC"===n?e.shape[2]:e.shape[3],i="NHWC"===n?e.shape[3]:e.shape[1],s=a*t,u=o*t,l=i/(t*t),c=new Ro("NHWC"===n?[r,s,u,l]:[r,l,s,u],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return ka(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Or(0,e,n),a=r.sliceRank,o=r.numUpdates,i=r.sliceSize,s=r.strides,u=r.outputSize,l=[u/i,i],c=e.reshape([o,a]),d=t.reshape([o,i]);if(0===u)return la(bn([]),n);var h=_n(0),f=new Ii(o,a,c.rank,d.rank,s,l);return this.compileAndRun(f,[d,c,h]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var a=Or(0,e,n),o=a.sliceRank,i=a.numUpdates,s=a.strides,u=a.outputSize,l=new Ii(i,o,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(l,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Mo("return real * expR - imag * expI;",e.shape,t),a=new Mo("return real * expI + imag * expR;",e.shape,t),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],i=this.compileAndRun(r,o),s=this.compileAndRun(a,o),u=this.complex(i,s).as2D(e.shape[0],e.shape[1]);return i.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],a=Ir(e,t),o=a[0],i=a[1],s=a[2],u=a[3],l=t.reshape([i,r]),c=e.reshape([e.size/s,s]),d=new jo(r,u,[i,s]);return this.compileAndRun(d,[c,l]).reshape(o)},t.prototype.fill=function(e,t,n){if("string"===(n=n||ae(t))){var r=X(n,F(e));return r.fill(t),Ue.makeTensor(r,e,n,this)}var a=new Po(e,t),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[],n,o)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return ca(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Ue.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new ps(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new pi(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[Ot(e.shape)].concat(Dt(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[Ot(t)].concat(Dt(t)),o=new wi(a,n),i=this.runWebGLProgram(o,[r],e.dtype,null,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,a=n.shape,o=n.dtype,i=Mt(a);return t=r?new Io(i):new Ao(i),{dtype:o,shape:a,dataId:this.runWebGLProgram(t,[{shape:i,dtype:o,dataId:e}],o,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,a){var o=this;void 0===a&&(a=!1);var i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Xe.DENSE){var u=nt(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===F(i.shape))return s.values=K(i.dtype,0),i;var l=[],c=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=o.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&F(t.shape)<=w().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?o.unpackTensor(t):o.packTensor(t),l.push(t),n=o.texData.get(t.dataId);else if(n.isPacked&&!jt(n.shape,t.shape)){var r=t,a=t.shape;t.shape=n.shape,t=o.packedReshape(t,a),l.push(t),n=o.texData.get(t.dataId),r.shape=a}return o.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);var d,h={shape:i.shape,texData:s,isUniform:!1},f=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var a=e.userCode;return e.constructor.name+"_"+r+"_"+a}(e,c,h),p=this.getAndSaveBinary(f,(function(){return function(e,t,n,r){var a=t.userCode,o=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=o.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=Pa(o,s,a,t.packedInputs),l=e.createProgram(u),c=null,d=e.getUniformLocation(l,"NAN",!1);1===w().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(l,"INFINITY",!1));for(var h={},f=0;f<t.variableNames.length;f++){var p=t.variableNames[f];h[p]=e.getUniformLocation(l,p,!1),h["offset"+p]=e.getUniformLocation(l,"offset"+p,!1)}return{program:t,source:u,webGLProgram:l,uniformLocations:h,inShapeInfos:i,outShapeInfo:s,infLoc:c,nanLoc:d}}(o.gpgpu,e,c,h)})),m=null!=this.activeTimers;if(m&&(d=this.startTimer()),function(e,t,n,r,a){ai(t.inShapeInfos,n),ai([t.outShapeInfo],[r]);var o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o,i[0],i[1]):e.setOutputMatrixTexture(o,i[0],i[1]),e.setProgram(t.webGLProgram),1===w().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],o=t.uniformLocations[a],i=t.uniformLocations["offset"+a];if(null!=o)if(n.isUniform)if(F(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(o,s)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,o,r)})),null!=a&&a(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,p,c,h,r),l.forEach((function(e){return o.disposeData(e.dataId)})),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!w().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===a){var g=this.unpackTensor(i);return this.disposeData(i.dataId),g}return i},t.prototype.compileAndRun=function(e,t,n,r,a){void 0===a&&(a=!1),n=n||t[0].dtype;var o=this.runWebGLProgram(e,t,n,r,a);return Ue.makeTensorFromDataId(o.dataId,o.shape,o.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(w().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Jt((function(){if(!w().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=w().getBool("DEBUG");w().set("DEBUG",!1);var n=e.abs(_n(1e-8)).dataSync()[0];if(w().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,a=n.dtype,o=n.values,i=n.texture,s=n.usage,u=n.isPacked;if(null==i){var l,c=null!=this.activeTimers;c&&(l=he());var d=n.texShape;if(null==d&&(d=Pt(r,u),n.texShape=d),null!=o){var h=Mt(r),f=void 0,p=d[1],m=d[0],g=o instanceof Uint8Array;u?(p=(t=rt(d[0],d[1]))[0],m=t[1],f=new Do(h,[m,p],g)):f=new Oo(h,[m,p],g);var v=this.makeTensorInfo([m,p],a);this.texData.get(v.dataId).usage=g?Ze.PIXELS:Ze.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),p,m,o);var y=this.runWebGLProgram(f,[v],a,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(v.dataId),this.texData.delete(y.dataId),n.values=null,c&&(this.uploadWaitMs+=he()-l)}else{var w=this.acquireTexture(d,s,a,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+a+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*$(t)},t}(Ur);qe()&&Ue.registerBackend("webgl",(function(){return new vs}),2);var ys=mn({square_:function(e){var t=nn(e,"x","square"),n=[t];return Ue.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),bs="SquaredDifference",ws=mn({squaredDifference_:function(e,t){var n,r=nn(e,"a","squaredDifference"),a=nn(t,"b","squaredDifference");n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape);var o={a:r,b:a},i=[r,a];return Ue.runKernelFunc((function(e,t){var n=e.squaredDifference(r,a);return t([r,a]),n}),o,(function(e,t){var n=t[0],r=t[1],a=_n(2);return{a:function(){return e.mul(n.sub(r).mul(a))},b:function(){return e.mul(r.sub(n).mul(a))}}}),bs,{},i,[])}}),_s=mn({abs_:function(e){var t=nn(e,"x","abs");return"complex64"===t.dtype?Ue.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):Ue.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),xs=mn({acos_:function(e){var t=nn(e,"x","acos");return Ue.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(_n(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),ks=mn({acosh_:function(e){var t=nn(e,"x","acosh");return Ue.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),Cs=mn({asin_:function(e){var t=nn(e,"x","asin");return Ue.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(_n(1).sub(n.toFloat().square()).sqrt())}}}))}}),Es=mn({asinh_:function(e){var t=nn(e,"x","asinh");return Ue.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(_n(1).add(n.toFloat().square()).sqrt())}}}))}}),Ss=mn({atan_:function(e){var t=nn(e,"x","atan");return Ue.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),As=mn({atanh_:function(e){var t=nn(e,"x","atanh");return Ue.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(_n(1).sub(n.toFloat().square()))}}}))}}),Is=mn({ceil_:function(e){var t=nn(e,"x","ceil");return Ue.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),Rs=mn({clipByValue_:function(e,t,n){var r=nn(e,"x","clipByValue");O(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var a=[r],o={min:t,max:n};return Ue.runKernelFunc((function(e,a){var o=e.clip(r,t,n);return a([r]),o}),{x:r},(function(e,r){var a=r[0];return{x:function(){return e.where(a.greaterEqual(t).logicalAnd(a.lessEqual(n)),Tn(e))}}}),"ClipByValue",o,a)}}),zs=mn({cos_:function(e){var t=nn(e,"x","cos"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),Ts=mn({cosh_:function(e){var t=nn(e,"x","cosh");return Ue.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),Ns=mn({erf_:function(e){var t=nn(e,"x","erf");return O("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),Ue.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Os=mn({exp_:function(e){var t=nn(e,"x","exp");return Ue.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Ds=mn({expm1_:function(e){var t=nn(e,"x","expm1");return Ue.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Ms=mn({floor_:function(e){var t=nn(e,"x","floor");return Ue.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),Ps=mn({log_:function(e){var t=nn(e,"x","log"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),Fs=mn({log1p_:function(e){var t=nn(e,"x","log1p");return Ue.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),js=mn({logSigmoid_:function(e){var t=nn(e,"x","logSigmoid");return Ue.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),Bs=mn({neg_:function(e){var t=nn(e,"x","neg"),n=[t];return Ue.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),Ls=mn({reciprocal_:function(e){var t=nn(e,"x","reciprocal");return Ue.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Ws=mn({round_:function(e){var t=nn(e,"x","round");return Ue.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),Gs=mn({rsqrt_:function(e){var t=nn(e,"x","rsqrt"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),Hs=mn({sigmoid_:function(e){var t=nn(e,"x","sigmoid");return Ue.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(_n(1).sub(n)))}}}),"Sigmoid")}}),Vs=mn({sign_:function(e){var t=nn(e,"x","sign");return Ue.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),Us=mn({isNaN_:function(e){var t=nn(e,"x","isNaN");return Ue.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),qs=mn({isInf_:function(e){var t=nn(e,"x","isInf");return Ue.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),Ks=mn({isFinite_:function(e){var t=nn(e,"x","isFinite");return Ue.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return Tn(e)}}}))}}),Xs=mn({sin_:function(e){var t=nn(e,"x","sin"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),Zs=mn({sinh_:function(e){var t=nn(e,"x","sinh");return Ue.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Ys=mn({softplus_:function(e){var t=nn(e,"x","softplus");return Ue.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),Js=mn({sqrt_:function(e){var t=nn(e,"x","sqrt");return Ue.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),Qs=mn({step_:function(e,t){void 0===t&&(t=0);var n=nn(e,"x","step");return Ue.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return Tn(e)}}}))}}),$s=mn({tan_:function(e){var t=nn(e,"x","tan");return Ue.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),eu=mn({tanh_:function(e){var t=nn(e,"x","tanh");return Ue.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return _n(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function tu(e,t,n,r,a,o){var i,s,u=nn(e,"x","batchNorm"),l=nn(t,"mean","batchNorm"),c=nn(n,"variance","batchNorm");return null!=a&&(i=nn(a,"scale","batchNorm")),null!=r&&(s=nn(r,"offset","batchNorm")),O(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),O(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."})),O(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),null!=i&&O(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),null!=s&&O(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),au(u,l,c,s,i,o)}function nu(e,t,n,r,a,o){var i,s,u=nn(e,"x","batchNorm"),l=nn(t,"mean","batchNorm"),c=nn(n,"variance","batchNorm");return null!=a&&(i=nn(a,"scale","batchNorm")),null!=r&&(s=nn(r,"offset","batchNorm")),O(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),O(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."})),O(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),null!=i&&O(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),null!=s&&O(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),au(u,l,c,s,i,o)}function ru(e,t,n,r,a,o){var i,s,u=nn(e,"x","batchNorm"),l=nn(t,"mean","batchNorm"),c=nn(n,"variance","batchNorm");return null!=a&&(i=nn(a,"scale","batchNorm")),null!=r&&(s=nn(r,"offset","batchNorm")),O(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),O(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."})),O(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),null!=i&&O(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),null!=s&&O(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),au(u,l,c,s,i,o)}function au(e,t,n,r,a,o){null==o&&(o=.001);var i,s,u,l=nn(e,"x","batchNorm"),c=nn(t,"mean","batchNorm"),d=nn(n,"variance","batchNorm");null!=a&&(i=nn(a,"scale","batchNorm")),null!=r&&(s=nn(r,"offset","batchNorm")),O(c.rank===d.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),O(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),O(null==i||c.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=0===l.rank||1===l.rank?l.as4D(1,1,1,l.size):2===l.rank?l.as4D(1,1,l.shape[0],l.shape[1]):3===l.rank?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var h=[l,c,d,i];return Ue.runKernelFunc((function(e,t){var n=e.batchNormalization(u,ou(c),ou(d),o,ou(i),ou(s));return t([l,c,d,i]),n}),{x:l,mean:c,variance:d,scale:i,offset:s},(function(e,t){var n=t,r=n[0],a=n[1],i=n[2],s=n[3],l=null==s?_n(1):s,c=Xr(a.shape,u.shape),d=[];if(1===a.rank){for(var h=0;h<u.shape.length-1;++h)d.push(u.shape[h]);d.push(1)}var f=r.sub(a),p=e.mul(l),m=Gs(i.add(_n(o))),g=m.mul(m).mul(m).mul(_n(-.5));return{x:function(){return 1===a.rank?e.mul(wr(m.as4D(1,1,1,a.shape[0]),d)).mul(l).reshape(r.shape):e.mul(m).mul(l).reshape(r.shape)},mean:function(){var e=m.mul(_n(-1)).mul(p);return 1===a.rank&&(e=e.sum(c)),e.reshape(a.shape)},variance:function(){var e=g.mul(f).mul(p);return 1===a.rank&&(e=e.sum(c)),e.reshape(a.shape)},scale:function(){var t=f.mul(m),n=e.mul(t);return 1===a.rank&&(n=n.sum(c)),n.reshape(a.shape)},offset:function(){var t=e;return 1===a.rank&&(t=t.sum(c)),t.reshape(a.shape)}}}),"BatchNormalization",{varianceEpsilon:o},h).reshape(l.shape)}function ou(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function iu(){Yt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var su=mn({batchNormalization2d_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),iu(),tu(e,t,n,o,a,r)}}),uu=mn({batchNormalization3d_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),iu(),nu(e,t,n,o,a,r)}}),lu=mn({batchNormalization4d_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),iu(),ru(e,t,n,o,a,r)}}),cu=mn({batchNormalization_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),iu(),au(e,t,n,o,a,r)}}),du=mn({batchNorm_:au}),hu=mn({batchNorm2d_:tu}),fu=mn({batchNorm3d_:nu}),pu=mn({batchNorm4d_:ru}),mu=mn({logicalAnd_:function(e,t){var n=nn(e,"a","logicalAnd","bool"),r=nn(t,"b","logicalAnd","bool");return Zr(n.shape,r.shape),Ue.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),gu=mn({logicalNot_:function(e){var t=nn(e,"x","logicalNot","bool");return Ue.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),vu=mn({logicalOr_:function(e,t){var n=nn(e,"a","logicalOr","bool"),r=nn(t,"b","logicalOr","bool");return Zr(n.shape,r.shape),Ue.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),yu=mn({logicalXor_:function(e,t){var n=nn(e,"a","logicalXor","bool"),r=nn(t,"b","logicalXor","bool");return Zr(n.shape,r.shape),vu(e,t).logicalAnd(mu(e,t).logicalNot())}}),bu=mn({where_:function(e,t,n){var r=nn(t,"a","where"),a=nn(n,"b","where"),o=nn(e,"condition","where","bool");return D(r.shape,a.shape,"Error in where: "),1===o.rank?O(o.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):D(o.shape,a.shape,"Error in where: "),Ue.runKernelFunc((function(e,t){var n=e.select(o,r,a);return t([o]),n}),{$condition:o,$a:r,$b:a},(function(e,t){var n=t[0];return{$condition:function(){return Tn(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),wu=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(a){switch(a.label){case 0:return[4,(t=nn(e,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=Sa(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},_u=mn({add_:function(e,t){var n,r=nn(e,"a","add"),a=nn(t,"b","add");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e){return e.add(r,a)}),{a:r,b:a},(function(e){return{a:function(){var t=e,n=Xr(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Xr(a.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(a.shape)}}}),"Add")}}),xu=mn({addN_:function(e){O(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),O(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return nn(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!j(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Ue.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}),"AddN")}}),ku=mn({addStrict_:function(e,t){var n=nn(e,"a","addStrict"),r=nn(t,"b","addStrict");return D(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Cu=mn({atan2_:function(e,t){var n,r=nn(e,"a","atan2"),a=nn(t,"b","atan2");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e,t){var n=e.atan2(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=_u(n.square(),r.square()),a=e.mul(r.div(t)),i=Xr(n.shape,o);return i.length>0&&(a=a.sum(i)),a.reshape(n.shape)},$b:function(){var t=_u(n.square(),r.square()),a=Bs(e.mul(n.div(t))),i=Xr(r.shape,o);return i.length>0&&(a=a.sum(i)),a.reshape(r.shape)}}}))}}),Eu=mn({div_:function(e,t){var n,r=nn(e,"a","div"),a=nn(t,"b","div");if(n=Be(r,a),r=n[0],a=n[1],"int32"===r.dtype&&"int32"===a.dtype)return Iu(r,a);var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e,t){var n=e.realDivide(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),a=Xr(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=Xr(r.shape,o);a.length>0&&(t=t.sum(a).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()}}}),"Div")}}),Su=mn({divNoNan_:function(e,t){var n,r=nn(e,"a","div"),a=nn(t,"b","div");r=(n=Be(r,a))[0],a=n[1];var o=Eu(r,a),i=Tn(o),s=a.equal(i);return bu(s,i,o)}}),Au=mn({divStrict_:function(e,t){var n=nn(e,"a","div"),r=nn(t,"b","div");return D(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Iu=mn({floorDiv_:function(e,t){var n,r=nn(e,"a","floorDiv"),a=nn(t,"b","floorDiv");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e,t){var n=e.floorDiv(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),a=Xr(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=Xr(r.shape,o);a.length>0&&(t=t.sum(a).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()}}}),"FloorDiv")}}),Ru=mn({maximum_:function(e,t){var n,r=nn(e,"a","maximum"),a=nn(t,"b","maximum");return n=Be(r,a),r=n[0],a=n[1],"bool"===r.dtype&&(r=r.toInt(),a=a.toInt()),Zr(r.shape,a.shape),Ue.runKernelFunc((function(e,t){var n=e.maximum(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),zu=mn({maximumStrict_:function(e,t){var n=nn(e,"a","maximumStrict"),r=nn(t,"b","maximumStrict");return D(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Tu=mn({minimum_:function(e,t){var n,r=nn(e,"a","minimum"),a=nn(t,"b","minimum");return n=Be(r,a),r=n[0],a=n[1],"bool"===r.dtype&&(r=r.toInt(),a=a.toInt()),Zr(r.shape,a.shape),Ue.runKernelFunc((function(e,t){var n=e.minimum(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),Nu=mn({minimumStrict_:function(e,t){var n=nn(e,"a","minimumStrict"),r=nn(t,"b","minimumStrict");return D(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Ou=mn({mod_:function(e,t){var n,r=nn(e,"a","mod"),a=nn(t,"b","mod");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e,t){var n=e.mod(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Xr(n.shape,o);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),a=Xr(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t}}}))}}),Du=mn({modStrict_:function(e,t){var n=nn(e,"a","modStrict"),r=nn(t,"b","modStrict");return D(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Mu=mn({mul_:function(e,t){var n,r=nn(e,"a","mul"),a=nn(t,"b","mul");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e,t){var n=e.multiply(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),a=Xr(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=Xr(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t}}}),"Mul")}}),Pu=mn({mulStrict_:function(e,t){var n=nn(e,"a","mul"),r=nn(t,"b","mul");return D(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Fu=mn({pow_:function(e,t){var n,r=nn(e,"base","pow"),a=nn(t,"exp","pow");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape),i=[r,a];return Ue.runKernelFunc((function(e,t){var n=e.pow(r,a);return t([r,a,n]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1],a=t[2];return{a:function(){var t=r.toFloat(),a=e.mul(t.mul(n.pow(t.sub(_n(1))))),i=Xr(n.shape,o);return i.length>0&&(a=a.sum(i)),a.reshape(n.shape)},b:function(){var t=n.greater(0),i=n.log().where(t,Tn(n)),s=e.mul(a.mul(i)),u=Xr(r.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},i,[!0])}}),ju=mn({powStrict_:function(e,t){return D(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Bu=mn({squaredDifferenceStrict_:function(e,t){var n=nn(e,"a","squaredDifferenceStrict"),r=nn(t,"b","squaredDifferenceStrict");return D(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Lu=mn({sub_:function(e,t){var n,r=nn(e,"a","sub"),a=nn(t,"b","sub");n=Be(r,a),r=n[0],a=n[1];var o=Zr(r.shape,a.shape);return Ue.runKernelFunc((function(e){return e.subtract(r,a)}),{a:r,b:a},(function(e){return{a:function(){var t=e,n=Xr(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Xr(a.shape,o);return n.length>0&&(t=t.sum(n)),t.neg().reshape(a.shape)}}}),"Sub")}}),Wu=mn({subStrict_:function(e,t){var n=nn(e,"a","subStrict"),r=nn(t,"b","subStrict");return D(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Gu=mn({equal_:function(e,t){var n,r=nn(e,"a","equal"),a=nn(t,"b","equal");return n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape),Ue.runKernelFunc((function(e){return e.equal(r,a)}),{$a:r,$b:a})}}),Hu=mn({equalStrict_:function(e,t){var n=nn(e,"a","equalStrict"),r=nn(t,"b","equalStrict");return D(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Vu=mn({greater_:function(e,t){var n,r=nn(e,"a","greater"),a=nn(t,"b","greater");return n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape),Ue.runKernelFunc((function(e){return e.greater(r,a)}),{a:r,b:a},null,"Greater")}}),Uu=mn({greaterEqual_:function(e,t){var n,r=nn(e,"a","greaterEqual"),a=nn(t,"b","greaterEqual");return n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape),Ue.runKernelFunc((function(e,t){var n=e.greaterEqual(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){return Tn(n)},b:function(){return Tn(r)}}}),"GreaterEqual")}}),qu=mn({greaterEqualStrict_:function(e,t){var n=nn(e,"a","greaterEqualStrict"),r=nn(t,"b","greaterEqualStrict");return D(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Ku=mn({greaterStrict_:function(e,t){var n=nn(e,"a","greaterStrict"),r=nn(t,"b","greaterStrict");return D(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Xu=mn({less_:function(e,t){var n,r=nn(e,"a","less"),a=nn(t,"b","less");return n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape),Ue.runKernelFunc((function(e){return e.less(r,a)}),{a:r,b:a},null,"Less")}}),Zu=mn({lessEqual_:function(e,t){var n,r=nn(e,"a","lessEqual"),a=nn(t,"b","lessEqual");return n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape),Ue.runKernelFunc((function(e,t){var n=e.lessEqual(r,a);return t([r,a]),n}),{a:r,b:a},null,"LessEqual")}}),Yu=mn({lessEqualStrict_:function(e,t){var n=nn(e,"a","lessEqualStrict"),r=nn(t,"b","lessEqualStrict");return D(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Ju=mn({lessStrict_:function(e,t){var n=nn(e,"a","lessStrict"),r=nn(t,"b","lessStrict");return D(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Qu=mn({notEqual_:function(e,t){var n,r=nn(e,"a","notEqual"),a=nn(t,"b","notEqual");return n=Be(r,a),r=n[0],a=n[1],Zr(r.shape,a.shape),Ue.runKernelFunc((function(e){return e.notEqual(r,a)}),{a:r,b:a},null,"NotEqual")}}),$u=mn({notEqualStrict_:function(e,t){var n=nn(e,"a","notEqualStrict"),r=nn(t,"b","notEqualStrict");return D(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function el(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function tl(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var nl=mn({gather_:function(e,t,n){void 0===n&&(n=0);var r=nn(e,"x","gather"),a=nn(t,"indices","gather","int32");n=U(n,r.shape)[0];var o=function(e,t,n){for(var r=e.shape[n],a=[],o=1,i=1,s=0;s<n;s++)a.push(e.shape[s]),o*=e.shape[s];for(s=0;s<t.rank;s++)a.push(t.shape[s]);for(s=n+1;s<e.rank;s++)a.push(e.shape[s]),i*=e.shape[s];return{batchSize:o,sliceSize:i,dimSize:r,outputShape:a}}(r,a,n);return Ue.runKernelFunc((function(e,t){var o=e.gather(r,a.flatten(),n);return t([a]),o}),{x:r,indices:a},(function(e,t){var a=t[0];return{x:function(){var t=r.shape,o=a.size,i=t.slice(0,n),s=i.length,u=t.slice(n,t.length).slice(1),l=u.length,c=el(0,s),d=el(s+1,s+1+l),h=tl([i,[o],u]),f=e.reshape(h),p=a.reshape([o]),m=tl([[s],c,d]),g=f.transpose(m),v=rl(g,p,r.shape[n]),y=dn(m);return v.transpose(y)},indices:function(){return a}}}),"Gather",{axis:n}).reshape(o.outputShape)}}),rl=mn({unsortedSegmentSum_:function(e,t,n){var r=nn(e,"x","unsortedSegmentSum"),a=nn(t,"segmentIds","unsortedSegmentSum","int32");return O(B(n),(function(){return"numSegments must be of dtype int"})),Ue.runKernelFunc((function(e,t){var o=e.unsortedSegmentSum(r,a,n);return t([a]),o}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=Ru(t,Tn(t)),r=nl(e,n),a=Uu(t,_n(0,"int32")),o=r.rank-a.rank,i=0;i<o;++i)a=rr(a,i+1);a=mu(a,Sn(r.shape,"bool"));var s=Tn(r);return bu(a,r,s)}(e,n)}}}))}});function al(e,t,n,r,a,o,i){void 0===o&&(o="NHWC"),O(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),O(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),O(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),O(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var c="NHWC"===o?s[3]:s[1],d="NHWC"===o?u.shape[3]:u.shape[1];O(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."})),O(d===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+n.shape[3]+"."})),null!=i&&O(B(a),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var h=sa(o),f=Qr(s,n.shape,r,1,a,i,!1,h),p=Ue.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,f);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return ul(e,n,r,a,o,1,i)},filter:function(){return cl(e,s,n.shape,r,a,o,i)}}}));return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function ol(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],a=t[2];return 1===n&&1===r&&1===a}function il(e,t,n,r,a){O(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var o=e,i=t,s=!1;4===t.rank&&(s=!0,i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),o=[1,e[0],e[1],e[2],e[3]]);var u=o[4],l=i.shape[4];O(5===o.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."})),O(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),O(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),O(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),O(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."}));var c=$r(o,n.shape,r,1,a),d=Ue.runKernelFunc((function(e){return e.conv3dDerInput(i,n,c)}),{dy5D:i});return s?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var sl=mn({conv1d_:function(e,t,n,r,a,o,i){void 0===a&&(a="NWC"),void 0===o&&(o=1);var s=nn(e,"x","conv1d"),u=nn(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),O(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."})),O(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=i&&O(B(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."})),O(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),O(ia(n,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+o+"'"})),O("NWC"===a,(function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."}));var d=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),h=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),f=ul(h,d,[1,n],r,"NHWC",[1,o],i);return c?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),ul=mn({conv2d_:function(e,t,n,r,a,o,i){void 0===a&&(a="NHWC"),void 0===o&&(o=[1,1]);var s=nn(e,"x","conv2d"),u=nn(t,"filter","conv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),O(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."})),O(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=i&&O(B(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var d="NHWC"===a?l.shape[3]:l.shape[1];O(d===u.shape[2],(function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+u.shape[2]+"."})),O(ia(n,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}));var h=sa(a),f=Qr(l.shape,u.shape,n,o,r,i,!1,h),p=[u,l],m=Ue.runKernelFunc((function(e,t){var n=e.conv2d(l,u,f);return t([u,l]),n}),{x:l,filter:u},(function(e,t){var i=t,s=i[0],u=i[1];return O(oa(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"})),{x:function(){return dl(u.shape,e,s,n,r,a)},filter:function(){return cl(u,e,s.shape,n,r,a)}}}),"Conv2D",f,p);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),ll=mn({conv3d_:function(e,t,n,r,a,o){void 0===a&&(a="NDHWC"),void 0===o&&(o=[1,1,1]);var i=nn(e,"x","conv3d"),s=nn(t,"filter","conv3d"),u=i,l=!1;4===i.rank&&(l=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),O(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),O(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),O(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),O(function(e,t){return ol(e)||ol(t)}(n,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),O("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."}));var c=$r(u.shape,s.shape,n,o,r),d=Ue.runKernelFunc((function(e,t){var n=e.conv3d(u,s,c);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){O(ol(o),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}));var a=t[0],i=t[1];return{x:function(){return il(a.shape,e,i,n,r)},$filter:function(){return function(e,t,n,r,a){var o=e;4===e.rank&&(o=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var i=t;4===i.rank&&(i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),O(5===o.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+o.shape+"."})),O(5===i.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+i.shape+"."})),O(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),O(o.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+o.shape[4]+") must match input depth in filter ("+n[3]+"."})),O(i.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+i.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=$r(o.shape,n,r,1,a);return Ue.runKernelFunc((function(e){return e.conv3dDerFilter(o,i,s)}),{x5D:o,dy5D:i})}(a,e,i.shape,n,r)}}}));return l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),cl=mn({conv2dDerFilter_:function(e,t,n,r,a,o,i){void 0===o&&(o="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),O(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),O(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),O(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var l="NHWC"===o?s.shape[3]:s.shape[1],c="NHWC"===o?u.shape[3]:u.shape[1];O(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."})),O(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."})),null!=i&&O(B(a),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var d=sa(o),h=Qr(s.shape,n,r,1,a,i,!1,d);return Ue.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,h)}),{x4D:s,dy4D:u})}}),dl=mn({conv2dDerInput_:al}),hl=mn({depthwiseConv2d_:function(e,t,n,r,a,o,i){void 0===a&&(a="NHWC"),void 0===o&&(o=[1,1]);var s=nn(e,"x","depthwiseConv2d"),u=nn(t,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),O(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."})),O(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),O(l.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==o&&(o=[1,1]),O(ia(n,o),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&O(B(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var d=Qr(l.shape,u.shape,n,o,r,i,!0),h=[l,u],f=Ue.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(l,u,d);return t([l,u]),n}),{x:l,filter:u},(function(e,t){O(oa(o),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"}));var n=t[0],r=t[1];return{x:function(){return fl(n.shape,e,r,d)},filter:function(){return pl(n,e,r.shape,d)}}}),"DepthwiseConv2dNative",d,h);return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),fl=mn({depthwiseConv2dDerInput_:function(e,t,n,r){var a=t,o=!1;3===t.rank&&(o=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=Ue.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(a,n,r)}),{dy4D:a});return o?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),pl=mn({depthwiseConv2dDerFilter_:function(e,t,n,r){var a=e;3===e.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=t;return 3===o.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Ue.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(a,o,r)}),{x4D:a,dy4D:o})}}),ml=mn({separableConv2d_:function(e,t,n,r,a,o,i){void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC");var s=nn(e,"x","separableConv2d"),u=nn(t,"depthwiseFilter","separableConv2d"),l=nn(n,"pointwiseFilter","separableConv2d"),c=s,d=!1;if(3===s.rank&&(d=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");O(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),O(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),O(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),O(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."})),O(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."}));var h=u.shape[2],f=u.shape[3];O(l.shape[2]===h*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*f+", but got "+l.shape[2]+"."}));var p=hl(c,u,r,a,i,o),m=ul(p,l,1,"valid",i);return d?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),gl=mn({conv2dTranspose_:function(e,t,n,r,a,o){return al(n,nn(e,"x","conv2dTranspose"),nn(t,"filter","conv2dTranspose"),r,a,"NHWC",o)}}),vl=mn({conv3dTranspose_:function(e,t,n,r,a){return il(n,nn(e,"x","conv3dTranspose"),nn(t,"filter","conv3dTranspose"),r,a)}}),yl=mn({matMul_:function(e,t,n,r){var a;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=nn(e,"a","matMul"),i=nn(t,"b","matMul");a=Be(o,i),o=a[0],i=a[1];var s=n?o.shape[o.rank-2]:o.shape[o.rank-1],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],l=n?o.shape[o.rank-1]:o.shape[o.rank-2],c=r?i.shape[i.rank-2]:i.shape[i.rank-1],d=o.shape.slice(0,-2),h=i.shape.slice(0,-2),f=F(d),p=F(h);O(o.rank>=2&&i.rank>=2&&o.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+i.rank+"."})),O(j(d,h),(function(){return"Error in matMul: outer dimensions ("+d+") and ("+h+") of Tensors with shapes "+o.shape+" and "+i.shape+" must match."})),O(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+o.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var m=o.shape.slice(0,-2).concat([l,c]),g=n?o.as3D(f,s,l):o.as3D(f,l,s),v=r?i.as3D(p,c,u):i.as3D(p,u,c),y={transposeA:n,transposeB:r};return Ue.runKernelFunc((function(e,t){var a=e.batchMatMul(g,v,n,r);return t([g,v]),a}),{a:g,b:v},(function(e,t){var a=t,o=a[0],i=a[1];return n||r?!n&&r?{a:function(){return e.matMul(i,!1,!1)},b:function(){return e.matMul(o,!0,!1)}}:n&&!r?{a:function(){return i.matMul(e,!1,!0)},b:function(){return o.matMul(e,!1,!1)}}:{a:function(){return i.matMul(e,!0,!0)},b:function(){return e.matMul(o,!0,!0)}}:{a:function(){return e.matMul(i,!1,!0)},b:function(){return o.matMul(e,!0,!1)}}}),"BatchMatMul",y).reshape(m)}}),bl=mn({dot_:function(e,t){var n=nn(e,"t1","dot"),r=nn(t,"t2","dot");O(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];return O(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+o+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),wl=mn({outerProduct_:function(e,t){var n=nn(e,"v1","outerProduct"),r=nn(t,"v2","outerProduct");return O(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),_l=mn({reverse_:function(e,t){var n=nn(e,"x","reverse");if(0===n.rank)return n.clone();var r=U(t,n.shape);return Ue.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),xl=mn({reverse1d_:function(e){var t=nn(e,"x","reverse");return O(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),_l(t,0)}}),kl=mn({reverse2d_:function(e,t){var n=nn(e,"x","reverse");return O(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),_l(n,t)}}),Cl=mn({reverse3d_:function(e,t){var n=nn(e,"x","reverse");return O(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),_l(n,t)}}),El=mn({reverse4d_:function(e,t){var n=nn(e,"x","reverse");return O(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),_l(n,t)}});function Sl(e,t,n,r,a,o){var i=nn(e,"x","maxPool"),s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),null==r&&(r=[1,1]),O(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),O(ia(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=o&&O(B(a),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var l=Yr(s.shape,t,n,r,a,o);if(1===l.filterWidth&&1===l.filterHeight&&j(l.inShape,l.outShape))return i.clone();var c=[s],d=Ue.runKernelFunc((function(e,t){var n=e.maxPool(s,l);return t([s,n]),n}),{x:s},(function(e,o){var i=o[0],s=o[1];return{x:function(){return function(e,t,n,r,a,o,i,s){var u=nn(e,"dy","maxPoolBackprop"),l=nn(t,"input","maxPoolBackprop"),c=nn(n,"output","maxPoolBackprop");O(l.rank===u.rank,(function(){return"Rank of input ("+l.rank+") does not match rank of dy ("+u.rank+")"})),null==o&&(o=[1,1]),O(ia(a,o),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"})),O(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),O(4===l.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+l.rank+"."}));var d=Yr(l.shape,r,a,o,i,s);return Ue.runKernelFunc((function(e){return e.maxPoolBackprop(u,l,c,d)}),{$dy:u,$input:l})}(e,i,s,t,n,r,a)}}}),"MaxPool",l,c);return u?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function Al(e,t,n,r,a,o){var i=nn(e,"x","avgPool","float32");null==r&&(r=[1,1]),O(ia(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),O(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=o&&O(B(a),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var l=Yr(s.shape,t,n,r,a,o);if(1===l.filterWidth&&1===l.filterHeight&&j(l.inShape,l.outShape))return i.clone();var c=Ue.runKernelFunc((function(e){return e.avgPool(s,l)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,a,o){var i=nn(e,"dy","avgPoolBackprop"),s=nn(t,"input","avgPoolBackprop");O(s.rank===i.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+i.rank+")"})),null==a&&(a=[1,1]),O(ia(r,a),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"}));var u=s,l=i,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),l=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),O(4===l.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."})),O(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var d=Yr(u.shape,n,r,a,o),h=Ue.runKernelFunc((function(e){return e.avgPoolBackprop(l,u,d)}),{dy4D:l,input4D:u});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}(e,s,t,n,r,a)}}}),"AvgPool",l);return c=c.cast(i.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Il=mn({maxPool_:function(e,t,n,r,a){return Sl(e,t,n,1,r,a)}}),Rl=mn({avgPool_:function(e,t,n,r,a){return Al(e,t,n,1,r,a)}}),zl=mn({pool_:function(e,t,n,r,a,o){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");var i=nn(e,"x","maxPool"),s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),O(ia(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"}));var l,c=Yr(s.shape,t,o,a,r),d=[c.dilationHeight,c.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];var h=1===d[0]&&1===d[1],f=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),o=e.concat(r,a),i=t.map((function(e,t){return(e-o[t]%e)%e})),s=a.map((function(e,t){return e+i[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,i[t]]}))]}([c.inHeight,c.inWidth],d,l),p=f[0],m=f[1],g=h?r:"valid",v=h?s:vr(s,d,p),y=("avg"===n?function(){return Al(v,t,o,1,g)}:function(){return Sl(v,t,o,1,g)})(),b=h?y:Jn(y,d,m);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Tl=mn({maxPool3d_:function(e,t,n,r,a,o,i){void 0===o&&(o="NDHWC");var s=nn(e,"x","maxPool3d"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),O(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),O("NDHWC"===o,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),O(ia(n,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&O(B(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var c=Jr(u.shape,t,n,i,r,a,o),d=Ue.runKernelFunc((function(e,t){var n=e.maxPool3d(u,c);return t([u,n]),n}),{x:u},(function(e,o){var s=o[0],u=o[1];return{x:function(){return function(e,t,n,r,a,o,i,s){var u=nn(e,"dy","maxPool3dBackprop"),l=nn(t,"input","maxPool3dBackprop"),c=nn(n,"output","maxPool3dBackprop"),d=u,h=l,f=c,p=!1;4===l.rank&&(p=!0,d=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),h=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),O(5===d.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+d.rank+"."})),O(5===h.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+h.rank+"."})),O(5===f.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+f.rank+"."})),null==o&&(o=[1,1,1]),O(ia(a,o),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"})),null!=s&&O(B(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."}));var m=Jr(h.shape,r,a,o,i,s),g=Ue.runKernelFunc((function(e){return e.maxPool3dBackprop(d,h,f,m)}),{dy5D:d,input5D:h});return p?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(e,s,u,t,n,i,r,a)}}}));return l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Nl=mn({avgPool3d_:function(e,t,n,r,a,o,i){void 0===o&&(o="NDHWC");var s=nn(e,"x","avgPool3d","float32"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),O(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),O("NDHWC"===o,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),O(ia(n,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&O(B(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var c=Jr(u.shape,t,n,i,r,a,o),d=Ue.runKernelFunc((function(e){return e.avgPool3d(u,c)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,a,o,i){var s=nn(e,"dy","avgPool3dBackprop"),u=nn(t,"input","avgPool3dBackprop"),l=s,c=u,d=!1;4===u.rank&&(d=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),O(5===l.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+l.rank+"."})),O(5===c.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."})),null==a&&(a=[1,1,1]),O(ia(r,a),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"})),null!=i&&O(B(o),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var h=Jr(c.shape,n,r,a,o,i),f=Ue.runKernelFunc((function(e){return e.avgPool3dBackprop(l,c,h)}),{dy5D:l,input5D:c});return d?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}(e,u,t,n,i,r,a)}}}));return d=d.cast(u.dtype),l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Ol=mn({slice_:function(e,t,n){var r,a,o=nn(e,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(o.rank-1).fill(0)):t.length<o.rank?t.concat(new Array(o.rank-t.length).fill(0)):t.slice()).forEach((function(e){O(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(o.rank).fill(-1):"number"==typeof n?[n].concat(new Array(o.rank-1).fill(-1)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(O(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),o.shape[t]-r[t])})),Dr(o,r,a);var i=o.shape,s={begin:r,size:a};return Ue.runKernelFunc((function(e){return e.slice(o,r,a)}),{x:o},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],i[n]-r[n]-a[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),Dl=mn({slice1d_:function(e,t,n){var r=nn(e,"x","slice1d");return O(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Ol(r,[t],[n])}}),Ml=mn({slice2d_:function(e,t,n){var r=nn(e,"x","slice2d");return O(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Ol(r,t,n)}}),Pl=mn({slice3d_:function(e,t,n){var r=nn(e,"x","slice3d");return O(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Ol(r,t,n)}}),Fl=mn({slice4d_:function(e,t,n){var r=nn(e,"x","slice4d");return O(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Ol(r,t,n)}});function jl(e,t,n,r,a){return t.rank<n.rank&&(t=t.reshape(un(t.shape,r))),e.rank<n.rank&&(e=e.reshape(un(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==a?r:r.transpose(a)}}}var Bl=mn({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","all","bool"),a=U(t,r.shape),o=a,i=cn(o,r.rank);null!=i&&(r=r.transpose(i),o=hn(o.length,r.rank));var s=Ue.runKernelFunc((function(e){return e.all(r,o)}),{$x:r});if(n){var u=un(s.shape,a);return s.reshape(u)}return s}}),Ll=mn({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","any","bool"),a=U(t,r.shape),o=a,i=cn(o,r.rank);null!=i&&(r=r.transpose(i),o=hn(o.length,r.rank));var s=Ue.runKernelFunc((function(e){return e.any(r,o)}),{$x:r});if(n){var u=un(s.shape,a);return s.reshape(u)}return s}}),Wl=mn({argMax_:function(e,t){void 0===t&&(t=0);var n=nn(e,"x","argMax");null==t&&(t=0);var r=U(t,n.shape),a=cn(r,n.rank);null!=a&&(n=n.transpose(a),r=hn(r.length,n.rank));var o={axis:r[0]},i=[n];return Ue.runKernelFunc((function(e,t){var a=e.argMax(n,r[0]);return t([n]),a}),{x:n},(function(e,t){var n=t[0];return{x:function(){return Tn(n)}}}),"ArgMax",o,i)}}),Gl=mn({argMin_:function(e,t){void 0===t&&(t=0);var n=nn(e,"x","argMin");null==t&&(t=0);var r=U(t,n.shape),a=cn(r,n.rank);return null!=a&&(n=n.transpose(a),r=hn(r.length,n.rank)),Ue.runKernelFunc((function(e,t){var a=e.argMin(n,r[0]);return t([n]),a}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return Tn(n)}}}))}}),Hl=mn({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","logSumExp"),a=U(t,r.shape),o=r.max(a,!0),i=r.sub(o).exp().sum(a).log(),s=o.reshape(i.shape).add(i);if(n){var u=un(s.shape,a);return s.reshape(u)}return s}}),Vl=mn({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","max"),a=r,o=U(t,r.shape),i=o,s=cn(i,r.rank);null!=s&&(r=r.transpose(s),i=hn(i.length,r.rank));var u=[r],l=Ue.runKernelFunc((function(e,t){var n=e.max(r,i);return t([a,n]),n}),{x:r},(function(e,t){return jl(e,t[1],t[0],o,s)}),"Max",{axes:i},u,[!0]);if(n){var c=un(l.shape,o);l=l.reshape(c)}return l}}),Ul=mn({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","mean"),a=U(t,r.shape),o=F(sn(r.shape,a)[1]);return Wr((function(e){var r=_n(o);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return a.forEach((function(e){n[e]=1})),t.reshape(n).mul(Sn(e.shape,"float32")).div(o)}}}))(r)}}),ql=mn({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","min"),a=r,o=U(t,r.shape),i=o,s=cn(i,r.rank);null!=s&&(r=r.transpose(s),i=hn(i.length,r.rank));var u=[r],l=Ue.runKernelFunc((function(e,t){var n=e.min(r,i);return t([a,n]),n}),{x:r},(function(e,t){return jl(e,t[1],t[0],o,s)}),"Min",{axes:i},u,[!0]);if(n){var c=un(l.shape,o);l=l.reshape(c)}return l}}),Kl=mn({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=U(t,(e=nn(e,"x","moments")).shape),a=e.mean(r,n),o=a.shape;n||(o=un(a.shape,r));var i=e.toFloat().sub(a.reshape(o)).square();return{mean:a,variance:i.mean(r,n)}}}),Xl=mn({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var a=U(t,r.shape);return Wr((function(e){var t=cn(a,e.rank),r=a,o=e;null!=t&&(o=e.transpose(t),r=hn(r.length,e.rank));var i=function(t){var n=e.shape.slice();return a.forEach((function(e){n[e]=1})),t.reshape(n).mul(Sn(e.shape,"float32"))},s={axes:r},u=Ue.runKernelFunc((function(e){return e.sum(o,r)}),{x:o},(function(e){return{x:function(){return i(e)}}}),"Sum",s);if(n){var l=un(u.shape,a);u=u.reshape(l)}return{value:u,gradFunc:i}}))(r)}}),Zl=mn({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=nn(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var a=U(t,r.shape),o=cn(a,r.rank),i=a,s=r;null!=o&&(s=r.transpose(o),i=hn(i.length,r.rank));var u=Ue.runKernelFunc((function(e){return e.prod(s,i)}),{permutedX:s});if(n){var l=un(u.shape,a);u=u.reshape(l)}return u}}),Yl=mn({elu_:function(e){var t=nn(e,"x","elu");return Ue.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return Ue.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Jl=mn({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=nn(e,"x","leakyRelu");return Ru(_n(t).mul(n),n)}}),Ql=mn({prelu_:function(e,t){var n=nn(e,"x","prelu"),r=nn(t,"alpha","prelu");return Ue.runKernelFunc((function(e,t){var a=e.prelu(n,r);return t([n,r]),a}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],a=n.greater(0);return{x:function(){return bu(a,e,e.mul(r))},alpha:function(){var t=bu(a,Tn(e),e.mul(n)),o=Xr(r.shape,e.shape);return o.length>0&&(t=t.sum(o)),t.reshape(r.shape)}}}),"Prelu")}}),$l=mn({relu_:function(e){var t=nn(e,"x","relu");return"bool"===t.dtype?t.toInt():Ue.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),ec=mn({relu6_:function(e){var t=nn(e,"x","relu6");return"bool"===t.dtype?t.toInt():Ue.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),tc=mn({selu_:function(e){var t=nn(e,"x","selu");return Ue.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(_n(0)),r=_n(Wi),a=_n(Gi),o=e.mul(a),i=e.mul(r).mul(n.toFloat().exp());return bu(t,o,i)}}}))}}),nc=mn({transpose_:function(e,t){var n=nn(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),O(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){O(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return Ue.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},(function(e){var n=dn(t);return{x:function(){return e.transpose(n)}}}),"Transpose",r)}}),rc=mn({localResponseNormalization_:function(e,t,n,r,a){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=.5);var o=nn(e,"x","localResponseNormalization");O(4===o.rank||3===o.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."})),O(B(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var i=o,s=!1;3===o.rank&&(s=!0,i=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var u=Ue.runKernelFunc((function(e,o){var s=e.localResponseNormalization4D(i,t,n,r,a);return o([i,s]),s}),{x4D:i},(function(e,o){var i=o[0],s=o[1];return{x4D:function(){return Ue.runKernelFunc((function(o){return o.LRNGrad(e,i,s,t,n,r,a)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),ac=mn({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var a=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(_n(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=nn(e,"x","norm"),t,n),o=a.shape;if(r){var i=U(n,e.shape);o=un(a.shape,i)}return a.reshape(o)}}),oc=mn({basicLSTMCell_:function(e,t,n,r,a,o){var i=nn(e,"forgetBias","basicLSTMCell"),s=nn(t,"lstmKernel","basicLSTMCell"),u=nn(n,"lstmBias","basicLSTMCell"),l=nn(r,"data","basicLSTMCell"),c=nn(a,"c","basicLSTMCell"),d=nn(o,"h","basicLSTMCell"),h=l.concat(d,1).matMul(s).add(u),f=h.shape[0],p=h.shape[1]/4,m=[f,p],g=h.slice([0,0],m),v=h.slice([0,p],m),y=h.slice([0,2*p],m),b=h.slice([0,3*p],m),w=g.sigmoid().mulStrict(v.tanh()).addStrict(c.mulStrict(i.add(y).sigmoid())),_=w.tanh().mulStrict(b.sigmoid());return[w,_]}}),ic=mn({multiRNNCell_:function(e,t,n,r){for(var a=nn(t,"data","multiRNNCell"),o=rn(n,"c","multiRNNCell"),i=rn(r,"h","multiRNNCell"),s=a,u=[],l=0;l<e.length;l++){var c=e[l](s,o[l],i[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var d=[],h=[];for(l=0;l<u.length;l+=2)d.push(u[l]),h.push(u[l+1]);return[d,h]}}),sc=mn({movingAverage_:function(e,t,n,r,a){void 0===a&&(a=!0);var o=nn(e,"v","movingAverage"),i=nn(t,"x","movingAverage"),s=nn(n,"decay","movingAverage");Le(o,i),O(j(o.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=_n(1),l=u.sub(s),c=i.sub(o).mul(l);if(a){O(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=nn(r,"step","movingAverage");c=c.div(u.sub(Fu(s,d)))}return o.add(c)}}),uc=mn({stridedSlice_:function(e,t,n,r,a,o,i,s,u){if(void 0===a&&(a=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==i)throw new Error("ellipsis mask is not yet supported");var l=nn(e,"x","stridedSlice"),c=Mr(s),d=l.shape.slice();c.forEach((function(e){t[e]=0,n[e]=1,d.splice(e,0,1)})),l=l.reshape(d);for(var h=0;h<l.rank;h++)t[h]=Fr(a,t,r,l.shape,h),n[h]=jr(o,n,r,l.shape,h),r[h]=r[h]||1;var f=Mr(u);f.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var p=Pr(t,n,r),m=p.filter((function(e,t){return-1===f.indexOf(t)}));return r.every((function(e){return 1===e}))?Ol(l,t,p).reshape(m):Ue.runKernelFunc((function(e){return e.stridedSlice(l,t,n,r)}),{$x:l}).reshape(m)}}),lc=mn({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=nn(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+t);var o=Ue.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:o[0],indices:o[1]}}}),cc=mn({scatterND_:function(e,t,n){var r=nn(e,"indices","scatterND","int32"),a=nn(t,"updates","scatterND");return Nr(a,r,n),Ue.runKernelFunc((function(e){return e.scatterND(r,a,n)}),{indices:r,updates:a},null,"ScatterNd",{shape:n})}}),dc=mn({fft_:function(e){O("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ue.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),hc=mn({ifft_:function(e){O("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ue.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),fc=mn({rfft_:function(e,t){O("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var o=e.shape.map((function(e){return 0})),i=e.shape.map((function(e){return e}));i[e.shape.length-1]=t,n=e.slice(o,i),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(An(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=gn(n,u).as2D(a,r),c=dc(l),d=Math.floor(r/2)+1,h=vn(c),f=yn(c),p=h.split([d,r-d],h.shape.length-1),m=f.split([d,r-d],f.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=d,gn(p[0],m[0]).reshape(g)}}),pc=mn({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),a=hc(r);return vn(a)}var o=[n,2*(t-1)],i=vn(e).as2D(n,t),s=yn(e).as2D(n,t),u=i.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(_n(-1)),c=i.concat(u,1),d=s.concat(l,1);return r=gn(c,d).as2D(o[0],o[1]),a=hc(r),vn(a)}}),mc=Object.freeze({fft:dc,ifft:hc,rfft:fc,irfft:pc}),gc=mn({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var a=nn(e,"sparseIndices","sparseToDense","int32"),o=nn(t,"sparseValues","sparseToDense"),i=nn(r,"defaultValue","sparseToDense",o.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+o+".");var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+a+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,i),Ue.runKernelFunc((function(e){return e.sparseToDense(a,o,n,i)}),{$sparseIndices:a,$sparseValues:o,$defaultValue:i})}}),vc=mn({gatherND_:function(e,t){var n=nn(t,"indices","gatherND","int32"),r=nn(e,"x","gatherND");return Ue.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),yc=mn({diag_:function(e){var t=nn(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Ue.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),bc=mn({dropout_:function(e,t,n,r){var a=nn(e,"x","dropout");if(O("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."})),O(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof Ie?a.clone():a;var o=function(e,t){if(null==t)return e.shape.slice();if(j(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,s=mr(o,0,1,"float32",r).add(i).floor().div(i);return a.mul(s)}});function wc(e,t,n){for(var r=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return xn(a,"float32")}var _c,xc=mn({hannWindow_:function(e){return wc(e,.5,.5)}}),kc=mn({hammingWindow_:function(e){return wc(e,.54,.46)}}),Cc=mn({frame_:function(e,t,n,r,a){void 0===r&&(r=!1),void 0===a&&(a=0);for(var o=0,i=[];o+t<=e.size;)i.push(Ol(e,o,t)),o+=n;if(r)for(;o<e.size;){var s=o+t-e.size,u=Nn([Ol(e,o,t-s),In([s],a)]);i.push(u),o+=n}return 0===i.length?kn([],[0,t]):Nn(i).as2D(i.length,t)}}),Ec=mn({stft_:function(e,t,n,r,a){var o;void 0===a&&(a=xc),null==r&&(o=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var i=Cc(e,t,n),s=Mu(i,a(t)),u=[],l=0;l<i.shape[0];l++)u.push(fc(s.slice([l,0],[1,t]),r));return Nn(u)}}),Sc=Object.freeze({hannWindow:xc,hammingWindow:kc,frame:Cc,stft:Ec});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(_c||(_c={}));var Ac=mn({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=_c.SUM_BY_NONZERO_WEIGHTS);var a=nn(e,"labels","absoluteDifference"),o=nn(t,"predictions","absoluteDifference"),i=null;null!=n&&(i=nn(n,"weights","absoluteDifference")),D(a.shape,o.shape,"Error in absoluteDifference: ");var s=a.sub(o).abs();return Ic(s,i,r)}}),Ic=mn({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=_c.SUM_BY_NONZERO_WEIGHTS);var r=nn(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=nn(t,"weights","computeWeightedLoss"));var o=null==a?r:r.mul(a);if(n===_c.NONE)return o;if(n===_c.SUM)return o.sum();if(n===_c.MEAN){if(null==a)return o.mean();var i=r.size/a.size,s=o.sum().div(a.sum());return i>1?s.div(_n(i)):s}if(n===_c.SUM_BY_NONZERO_WEIGHTS){if(null==a)return o.sum().div(_n(r.size));var u=a.mul(Sn(r.shape)).notEqual(_n(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+n)}}),Rc=mn({cosineDistance_:function(e,t,n,r,a){void 0===a&&(a=_c.SUM_BY_NONZERO_WEIGHTS);var o=nn(e,"labels","cosineDistance"),i=nn(t,"predictions","cosineDistance"),s=null;null!=r&&(s=nn(r,"weights","cosineDistance")),D(o.shape,i.shape,"Error in cosineDistance: ");var u=_n(1).sub(o.mul(i).sum(n,!0));return Ic(u,s,a)}}),zc=mn({hingeLoss_:function(e,t,n,r){void 0===r&&(r=_c.SUM_BY_NONZERO_WEIGHTS);var a=nn(e,"labels","hingeLoss"),o=nn(t,"predictions","hingeLoss"),i=null;null!=n&&(i=nn(n,"weights","hingeLoss")),D(a.shape,o.shape,"Error in hingeLoss: ");var s=_n(1);a=_n(2).mul(a).sub(s);var u=s.sub(a.mul(o)).relu();return Ic(u,i,r)}}),Tc=mn({huberLoss_:function(e,t,n,r,a){void 0===r&&(r=1),void 0===a&&(a=_c.SUM_BY_NONZERO_WEIGHTS);var o=nn(e,"labels","huberLoss"),i=nn(t,"predictions","huberLoss"),s=null;null!=n&&(s=nn(n,"weights","huberLoss")),D(o.shape,i.shape,"Error in huberLoss: ");var u=_n(r),l=i.sub(o).abs(),c=Tu(l,u),d=l.sub(c),h=_n(.5).mul(c.square()).add(u.mul(d));return Ic(h,s,a)}}),Nc=mn({logLoss_:function(e,t,n,r,a){void 0===r&&(r=1e-7),void 0===a&&(a=_c.SUM_BY_NONZERO_WEIGHTS);var o=nn(e,"labels","logLoss"),i=nn(t,"predictions","logLoss"),s=null;null!=n&&(s=nn(n,"weights","logLoss")),D(o.shape,i.shape,"Error in logLoss: ");var u=_n(1),l=_n(r),c=o.mul(i.add(l).log()).neg().sub(u.sub(o).mul(u.sub(i).add(l).log()));return Ic(c,s,a)}}),Oc=mn({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=_c.SUM_BY_NONZERO_WEIGHTS);var a=nn(e,"labels","meanSquaredError"),o=nn(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=nn(n,"weights","meanSquaredError")),D(a.shape,o.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(o);return Ic(s,i,r)}}),Dc=mn({sigmoidCrossEntropy_:function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=_c.SUM_BY_NONZERO_WEIGHTS);var o=nn(e,"multiClassLabels","sigmoidCrossEntropy"),i=nn(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=nn(n,"weights","sigmoidCrossEntropy")),D(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=_n(r),l=_n(1),c=_n(.5);o=o.mul(l.sub(u)).add(c.mul(u))}var d=function(e,t){var n=nn(e,"labels","sigmoidCrossEntropyWithLogits"),r=nn(t,"logits","sigmoidCrossEntropyWithLogits");D(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=r.relu(),o=r.mul(n),i=r.abs().neg().exp().log1p();return a.sub(o).add(i)}(o,i);return Ic(d,s,a)}}),Mc=mn({softmaxCrossEntropy_:function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=_c.SUM_BY_NONZERO_WEIGHTS);var o=nn(e,"onehotLabels","softmaxCrossEntropy"),i=nn(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=nn(n,"weights","softmaxCrossEntropy")),D(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=_n(r),l=_n(1),c=_n(o.shape[1]);o=o.mul(l.sub(u)).add(u.div(c))}var d=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Wr((function(e,t,r){var a=t.logSumExp([n],!0),o=t.toFloat().sub(a);return r([e,o]),{value:o.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],a=t[1],o=un(e.shape,[n]);return[e.reshape(o).mul(r.toFloat().sub(a.exp())),e.reshape(o).mul(a.exp().sub(r.toFloat()))]}}}))(e,t)}(o,i);return Ic(d,s,a)}}),Pc=Object.freeze({get Reduction(){return _c},absoluteDifference:Ac,computeWeightedLoss:Ic,cosineDistance:Rc,hingeLoss:zc,huberLoss:Tc,logLoss:Nc,meanSquaredError:Oc,sigmoidCrossEntropy:Dc,softmaxCrossEntropy:Mc});function Fc(e,t){return void 0===t&&(t=!1),Ue.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],a=ar(n),o=e.clone(),i=kn([[1]],[1,1]),s=i.clone(),u=n>=r?r:n,l=function(e){var t,u=o,l=s,c=a;t=Ue.tidy((function(){var t=o.slice([e,e],[n-e,1]),u=t.norm(),l=o.slice([e,e],[1,1]),c=kn([[-1]]).where(l.greater(0),kn([[1]])),d=l.sub(c.mul(u)),h=t.div(d);s=1===h.shape[0]?i.clone():i.concat(h.slice([1,0],[h.shape[0]-1,h.shape[1]]),0);var f=c.matMul(d).div(u).neg(),p=o.slice([e,0],[n-e,r]),m=f.mul(s);if(0===e)o=p.sub(m.matMul(s.transpose().matMul(p)));else{var g=p.sub(m.matMul(s.transpose().matMul(p)));o=o.slice([0,0],[e,r]).concat(g,0)}var v=a.slice([0,e],[n,a.shape[1]-e]);if(0===e)a=v.sub(v.matMul(s).matMul(m.transpose()));else{var y=v.sub(v.matMul(s).matMul(m.transpose()));a=a.slice([0,0],[n,e]).concat(y,1)}return[s,o,a]})),s=t[0],o=t[1],a=t[2],Qt([u,l,c])},c=0;c<u;++c)l(c);return!t&&n>r&&(a=a.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[a,o]}))}var jc=mn({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=nn(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,o=r.shape.slice(-2),i=o[0],s=o[1];if(!(t<=i))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+i+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=i),n<0&&(n=s);var u=Rn(0,i,1,"int32").reshape([-1,1]),l=Rn(0,s,1,"int32"),c=Lu(u,l),d=mu(c.lessEqual(_n(+t,"int32")),c.greaterEqual(_n(-n,"int32"))),h=An([i,s],r.dtype);return br(xr(r.reshape([-1,i,s])).map((function(e){return bu(d,e,h)}))).reshape(a)}}),Bc=mn({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,O(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){O(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},a=1;a<e.length;++a)r(a)}else t=!0,e=Fn(e,e.shape[0],0).map((function(e){return yr(e,[0])}));O(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var o=[],i=e,s=function(e){o.push(Ue.tidy((function(){var t=i[e];if(e>0)for(var n=0;n<e;++n){var r=Xl(o[n].mulStrict(t)).mul(o[n]);t=t.sub(r)}return t.div(ac(t,"euclidean"))})))};for(a=0;a<e.length;++a)s(a);return t?br(o,0):o}}),Lc=mn({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Fc(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=xr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];return r.forEach((function(e){var n=Fc(e,t),r=n[0],i=n[1];a.push(r),o.push(i)})),[br(a,0).reshape(e.shape),br(o,0).reshape(e.shape)]}}),Wc=Object.freeze({bandPart:jc,gramSchmidt:Bc,qr:Lc});function Gc(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);var i=e.shape[0];return n=Math.min(n,i),O(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),O(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),O(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),O(1===t.rank,(function(){return"scores must be a 1D tensor"})),O(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+t.shape[0]})),O(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var Hc=mn({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=nn(e,"images","resizeBilinear");O(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),O(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var a=r,o=!1;3===r.rank&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],u=Ue.runKernelFunc((function(e,t){return t([a]),e.resizeBilinear(a,i,s,n)}),{x:a},(function(e,t){return{x:function(){return Ue.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:i,newWidth:s});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Vc=mn({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=nn(e,"images","resizeNearestNeighbor");O(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),O(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),O("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var a=r,o=!1;3===r.rank&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],u=Ue.runKernelFunc((function(e,t){return t([a]),e.resizeNearestNeighbor(a,i,s,n)}),{batchImages:a},(function(e,t){return{batchImages:function(){return Ue.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Uc=mn({nonMaxSuppression_:function(e,t,n,r,a){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY);var o=nn(e,"boxes","nonMaxSuppression"),i=nn(t,"scores","nonMaxSuppression"),s=Gc(o,i,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Ue.runKernelFunc((function(e){return e.nonMaxSuppression(o,i,n,r,a)}),{boxes:o,scores:i},null,"NonMaxSuppressionV3",u)}}),qc=mn({nonMaxSuppressionWithScore_:function(e,t,n,r,a,o){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),void 0===o&&(o=0);var i=nn(e,"boxes","nonMaxSuppression"),s=nn(t,"scores","nonMaxSuppression"),u=Gc(i,s,n,r,a,o),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},c=Ue.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),Kc=mn({cropAndResize_:function(e,t,n,r,a,o){var i=nn(e,"image","cropAndResize"),s=nn(t,"boxes","cropAndResize","float32"),u=nn(n,"boxInd","cropAndResize","int32");a=a||"bilinear",o=o||0;var l=s.shape[0];return O(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),O(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."})),O(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."})),O(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),O(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),O("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was "+a})),Ue.runKernelFunc((function(e,t){return e.cropAndResize(i,s,u,r,a,o)}),{images:i,boxes:s,boxInd:u},null,"CropAndResize",{method:a,extrapolationValue:o,cropSize:r})}}),Xc=Object.freeze({resizeBilinear:Hc,resizeNearestNeighbor:Vc,nonMaxSuppression:Uc,nonMaxSuppressionAsync:function(e,t,n,r,a){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),v(this,void 0,void 0,(function(){var o,i,s,u,l,c,d;return y(this,(function(h){switch(h.label){case 0:return o=nn(e,"boxes","nonMaxSuppressionAsync"),i=nn(t,"scores","nonMaxSuppressionAsync"),s=Gc(o,i,n,r,a),n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold,[4,Promise.all([o.data(),i.data()])];case 1:return u=h.sent(),l=u[0],c=u[1],d=va(l,c,n,r,a),o!==e&&o.dispose(),i!==t&&i.dispose(),[2,d]}}))}))},nonMaxSuppressionWithScore:qc,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,a,o){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),void 0===o&&(o=0),v(this,void 0,void 0,(function(){var i,s,u,l,c,d,h;return y(this,(function(f){switch(f.label){case 0:return i=nn(e,"boxes","nonMaxSuppressionAsync"),s=nn(t,"scores","nonMaxSuppressionAsync"),u=Gc(i,s,n,r,a,o),n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,o=u.softNmsSigma,[4,Promise.all([i.data(),s.data()])];case 1:return l=f.sent(),c=l[0],d=l[1],h=ya(c,d,n,r,a,o),i!==e&&i.dispose(),s!==t&&s.dispose(),[2,h]}}))}))},cropAndResize:Kc}),Zc=function(e,t){return!(e>0)||"linear"===t},Yc=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Jc=function(e,t){var n=t,r=Xr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Qc=function(e,t,n){if("linear"===t)return e;if("relu"===t)return $l(e);if("elu"===t)return Yl(e);if("relu6"===t)return ec(e);if("prelu"===t)return Ql(e,n);throw new Error("Unknown fused activation "+t+".")},$c=mn({fusedMatMul_:function(e){var t,n=e.a,r=e.b,a=e.transposeA,o=void 0!==a&&a,i=e.transposeB,s=void 0!==i&&i,u=e.bias,l=e.activation,c=void 0===l?"linear":l,d=e.preluActivationWeights;if(!1===Zc(Ue.state.gradientDepth,c)){var h=yl(n,r,o,s);return null!=u&&(h=_u(h,u)),Qc(h,c,d)}var f=nn(n,"a","fused matMul"),p=nn(r,"b","fused matMul");t=Be(f,p),f=t[0],p=t[1];var m=o?f.shape[f.rank-2]:f.shape[f.rank-1],g=s?p.shape[p.rank-1]:p.shape[p.rank-2],v=o?f.shape[f.rank-1]:f.shape[f.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],b=f.shape.slice(0,-2),w=p.shape.slice(0,-2),_=F(b),x=F(w);O(f.rank>=2&&p.rank>=2&&f.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+p.rank+"."})),O(j(b,w),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+f.shape+" and "+p.shape+" must match."})),O(m===g,(function(){return"Error in fused matMul: inner shapes ("+m+") and ("+g+") of Tensors with shapes "+f.shape+" and "+p.shape+" and transposeA="+o+" and transposeB="+s+" must match."}));var k,C,E=f.shape.slice(0,-2).concat([v,y]),S=o?f.as3D(_,m,v):f.as3D(_,v,m),A=s?p.as3D(x,y,g):p.as3D(x,g,y);null!=u&&Zr(E,(k=Be(k=nn(u,"bias","fused matMul"),f)[0]).shape),null!=d&&(C=nn(d,"prelu weights","fused matMul"));var I={a:S,b:A};null!=u&&(I.bias=k),null!=d&&(I.preluActivationWeights=C);var R=[S,A];return Ue.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:S,b:A,transposeA:o,transposeB:s,bias:k,activation:c,preluActivationWeights:C});return t([S,A,n]),n}),I,(function(e,t){var n=t[0],r=t[1],a=t[2],i=Yc(e,a,c),l={};return null!=u&&(l={bias:function(){return Jc(k,i)}}),o||s?!o&&s?Object.assign({a:function(){return i.matMul(r,!1,!1)},b:function(){return i.matMul(n,!0,!1)}},l):o&&!s?Object.assign({a:function(){return r.matMul(i,!1,!0)},b:function(){return n.matMul(i,!1,!1)}},l):Object.assign({a:function(){return r.matMul(i,!0,!0)},b:function(){return i.matMul(n,!0,!0)}},l):Object.assign({a:function(){return i.matMul(r,!1,!0)},b:function(){return n.matMul(i,!0,!1)}},l)}),"_FusedMatMul",{transposeA:o,transposeB:s,activation:c},R,[!0]).reshape(E)}}),ed=mn({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,d=e.activation,h=void 0===d?"linear":d,f=e.preluActivationWeights;if(h=h||"linear",!1===Zc(Ue.state.gradientDepth,h)){var p=ul(t,n,r,a,i,u,l);return null!=c&&(p=_u(p,c)),Qc(p,h,f)}var m=nn(t,"x","conv2d"),g=nn(n,"filter","conv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),O(4===v.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+v.rank+"."})),O(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."})),null!=l&&O(B(a),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+a+"."})),O(v.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input ("+v.shape[3]+") must match input depth for filter "+g.shape[2]+"."})),O(ia(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),O("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var b,w,_=Qr(v.shape,g.shape,r,u,a,l);null!=c&&(b=Be(b=nn(c,"bias","fused conv2d"),m)[0],Zr(_.outShape,b.shape)),null!=f&&(w=nn(f,"prelu weights","fused conv2d"));var x={x:v,filter:g};null!=c&&(x.bias=b),null!=f&&(x.preluActivationWeights=w);var k=[g,v],C=Ue.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:v,filter:g,convInfo:_,bias:b,activation:h,preluActivationWeights:w});return t([g,v,n]),n}),x,(function(e,t){var n=t,o=n[0],i=n[1],s=n[2],l=Yc(e,s,h);O(oa(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var d={};return null!=c&&(d={bias:function(){return Jc(b,l)}}),Object.assign({x:function(){return dl(i.shape,l,o,r,a)},filter:function(){return cl(i,l,o.shape,r,a)}},d)}),"FusedConv2D",{convInfo:_,activation:h},k,[!0]);return y?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),td=mn({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,d=e.activation,h=void 0===d?"linear":d,f=e.preluActivationWeights;if(!1===Zc(Ue.state.gradientDepth,h)){var p=hl(t,n,r,a,i,u,l);return null!=c&&(p=_u(p,c)),Qc(p,h,f)}var m=nn(t,"x","depthwiseConv2d"),g=nn(n,"filter","depthwiseConv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),O(4===v.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+v.rank+"."})),O(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."})),O(v.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+v.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."})),null==u&&(u=[1,1]),O(ia(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=l&&O(B(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+a+"."}));var b,w,_=Qr(v.shape,g.shape,r,u,a,l,!0);null!=c&&(b=Be(b=nn(c,"bias","fused conv2d"),m)[0],Zr(_.outShape,b.shape)),null!=f&&(w=nn(f,"prelu weights","fused depthwiseConv2d"));var x={x:v,filter:g};null!=c&&(x.bias=b),null!=f&&(x.preluActivationWeights=w);var k=[g,v],C=Ue.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:v,filter:g,convInfo:_,bias:b,activation:h,preluActivationWeights:w});return t([g,v,n]),n}),x,(function(e,t){O(oa(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],a=t[2],o=Yc(e,a,h),i={};return null!=c&&(i={bias:function(){return Jc(b,o)}}),Object.assign({x:function(){return fl(r.shape,o,n,_)},filter:function(){return pl(r,o,n.shape,_)}},i)}),"FusedDepthwiseConv2D",{convInfo:_,activation:h},k,[!0]);return y?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),nd=Object.freeze({matMul:$c,conv2d:ed,depthwiseConv2d:td}),rd=Object.freeze({image:Xc,linalg:Wc,losses:Pc,spectral:mc,fused:nd,signal:Sc,square:ys,squaredDifference:ws,conv1d:sl,conv2d:ul,conv3d:ll,depthwiseConv2d:hl,separableConv2d:ml,conv2dTranspose:gl,conv3dTranspose:vl,op:mn,batchNormalization2d:su,batchNormalization3d:uu,batchNormalization4d:lu,batchNormalization:cu,batchNorm:du,batchNorm2d:hu,batchNorm3d:fu,batchNorm4d:pu,booleanMaskAsync:function(e,t,n){return v(this,void 0,void 0,(function(){var r,a,o,i,s,u,l,c,d,h,f,p,m;return y(this,(function(g){switch(g.label){case 0:for(r=nn(e,"tensor","boolMask"),a=nn(t,"mask","boolMask","bool"),o=null==n?0:n,i=a.rank,s=r.shape,O(i>0,(function(){return"mask cannot be scalar"})),D(s.slice(o,o+i),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=o;l<o+i;l++)u*=s[l];return c=s.slice(0,o).concat([u],s.slice(o+i)),d=r.reshape(c),h=a.reshape([-1]),[4,wu(h)];case 1:return f=g.sent(),p=f.squeeze([1]),m=nl(d,p,o),e!==r&&r.dispose(),t!==a&&a.dispose(),p.dispose(),d.dispose(),h.dispose(),f.dispose(),[2,m]}}))}))},complex:gn,real:vn,imag:yn,concat:Nn,concat1d:On,concat2d:Dn,concat3d:Mn,concat4d:Pn,split:Fn,matMul:yl,dot:bl,outerProduct:wl,reverse:_l,reverse1d:xl,reverse2d:kl,reverse3d:Cl,reverse4d:El,maxPool:Il,avgPool:Rl,pool:zl,maxPool3d:Tl,avgPool3d:Nl,slice:Ol,slice1d:Dl,slice2d:Ml,slice3d:Pl,slice4d:Fl,abs:_s,acos:xs,acosh:ks,asin:Cs,asinh:Es,atan:Ss,atanh:As,ceil:Is,clipByValue:Rs,cos:zs,cosh:Ts,erf:Ns,exp:Os,expm1:Ds,floor:Ms,log:Ps,log1p:Fs,logSigmoid:js,neg:Bs,reciprocal:Ls,round:Ws,rsqrt:Gs,sigmoid:Hs,sign:Vs,isNaN:Us,isInf:qs,isFinite:Ks,sin:Xs,sinh:Zs,softplus:Ys,sqrt:Js,step:Qs,tan:$s,tanh:eu,all:Bl,any:Ll,argMax:Wl,argMin:Gl,logSumExp:Hl,max:Vl,mean:Ul,min:ql,moments:Kl,sum:Xl,prod:Zl,equal:Gu,equalStrict:Hu,greater:Vu,greaterEqual:Uu,greaterEqualStrict:qu,greaterStrict:Ku,less:Xu,lessEqual:Zu,lessEqualStrict:Yu,lessStrict:Ju,notEqual:Qu,notEqualStrict:$u,add:_u,addN:xu,addStrict:ku,atan2:Cu,div:Eu,divNoNan:Su,divStrict:Au,floorDiv:Iu,maximum:Ru,maximumStrict:zu,minimum:Tu,minimumStrict:Nu,mod:Ou,modStrict:Du,mul:Mu,mulStrict:Pu,pow:Fu,powStrict:ju,squaredDifferenceStrict:Bu,sub:Lu,subStrict:Wu,elu:Yl,leakyRelu:Jl,prelu:Ql,relu:$l,relu6:ec,selu:tc,logicalAnd:mu,logicalNot:gu,logicalOr:vu,logicalXor:yu,where:bu,whereAsync:wu,buffer:Yn,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:Jn,broadcastTo:Qn,cast:$n,clone:er,cumsum:tr,depthToSpace:nr,expandDims:rr,eye:ar,multinomial:or,oneHot:ir,pad:sr,pad1d:ur,pad2d:lr,pad3d:cr,pad4d:dr,rand:hr,randomNormal:fr,randomGamma:pr,randomUniform:mr,reshape:gr,spaceToBatchND:vr,squeeze:yr,stack:br,tile:wr,truncatedNormal:_r,unstack:xr,setdiff1dAsync:function(e,t){return v(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,d;return y(this,(function(h){switch(h.label){case 0:return n=nn(e,"x","setdiff1d"),r=nn(t,"y","setdiff1d"),O(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),O(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),O(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return a=h.sent(),[4,r.data()];case 2:for(o=h.sent(),i=new Set(o),s=0,c=0;c<a.length;c++)i.has(a[c])||s++;for(u=new Ce([s],n.dtype),l=new Ce([s],"int32"),c=0,d=0;c<a.length;c++)i.has(a[c])||(u.values[d]=a[c],l.values[d]=c,d++);return[2,[u.toTensor(),l.toTensor()]]}}))}))},fill:In,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Ue.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})},ones:Sn,range:Rn,scalar:_n,tensor:bn,tensor1d:xn,tensor2d:kn,tensor3d:Cn,tensor4d:En,tensor5d:function(e,t,n){if(M(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=en(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return wn(e,t,r,n)},tensor6d:function(e,t,n){if(M(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=en(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return wn(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),Ue.makeVariable(e,t,n,r)},zeros:An,onesLike:zn,zerosLike:Tn,transpose:nc,softmax:Gr,logSoftmax:Hr,localResponseNormalization:rc,norm:ac,gather:nl,unsortedSegmentSum:rl,basicLSTMCell:oc,multiRNNCell:ic,movingAverage:sc,stridedSlice:uc,topk:lc,scatterND:cc,fft:dc,ifft:hc,rfft:fc,irfft:pc,sparseToDense:gc,gatherND:vc,diag:yc,dropout:bc,hannWindow:xc,hammingWindow:kc,frame:Cc,stft:Ec,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),v(this,void 0,void 0,(function(){var r,a,o,i,s,u,l,c,d,h,f,p,m,g;return y(this,(function(v){switch(v.label){case 0:return r=nn(e,"predictions","inTopK"),a=nn(t,"targets","inTopK"),O(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),O(r.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank})),D(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],O(n>0&&n<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+n})),[4,r.data()];case 1:return i=v.sent(),[4,a.data()];case 2:for(s=v.sent(),u=[i.length/o,o],c=u[1],d=K("bool",l=u[0]),h=0;h<l;h++){for(f=h*c,p=i.subarray(f,f+c),m=[],g=0;g<p.length;g++)m.push({value:p[g],index:g});for(m.sort((function(e,t){return t.value-e.value})),d[h]=0,g=0;g<n;g++)if(m[g].index===s[h]){d[h]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),[2,bn(d,a.shape,"bool")]}}))}))}});function ad(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&O("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function od(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var id=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Vr(t,Ue),t}return g(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,w().get("IS_NODE")&&$t("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?da(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return me(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Yn(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Ue.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){return t=he(),e(),[2,{kernelMs:he()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Ue.keep(e.clone()),imag:Ue.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(ad(e,"slice"),Br(e.shape,t,n)){var r=Lr(t,e.strides),a=F(n);return bn(this.readSync(e.dataId).subarray(r,r+a),n,e.dtype)}for(var o=Yn(n,e.dtype),i=this.bufferSync(e),s=0;s<o.size;++s){var u=o.indexToLoc(s).map((function(e,n){return e+t[n]}));o.values[s]=i.get.apply(i,u)}return o.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){ad(e,"stridedSlice");var a=Pr(t,n,r);if(a.some((function(e){return 0===e})))return bn([],a);for(var o=Yn(a,e.dtype),i=this.bufferSync(e),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*r[c]+t[c];o.set.apply(o,[i.get.apply(i,l)].concat(u))}return o.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=Yn([e.size,e.size],e.dtype),r=n.values,a=0;a<t.length;a++)r[a*e.size+a]=t[a];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),a=0,o=0;o<e.rank;o++)o!==t&&(r[a++]=e.shape[o]);var i=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(o=0;o<u.length;o++)i[t]=o,u[o]=this.slice(e,i,s).reshape(r);return u},t.prototype.reverse=function(e,t){ad(e,"reverse");for(var n=Yn(e.shape,e.dtype),r=this.bufferSync(e),a=function(a){var o=n.indexToLoc(a),i=o.slice();t.forEach((function(t){return i[t]=e.shape[t]-1-i[t]})),n.set.apply(n,[r.get.apply(r,i)].concat(o))},o=0;o<n.size;o++)a(o);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return vn(e)})),a=e.map((function(e){return yn(e)}));return gn(this.concat(r,t),this.concat(a,t))}var o=e.map((function(e){var n=F(e.shape.slice(t));return e.as2D(-1,n)})),i=pn(o.map((function(e){return e.shape})),1),s=Yn(i,e[0].dtype).values;if(1===o[0].shape[0]){var u=0;o.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var l=0;o.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,a=0;a<e.shape[0];++a)for(var o=a*i[1]+l,u=0;u<e.shape[1];++u)s[o+u]=t[r++];l+=e.shape[1]}))}var c=pn(e.map((function(e){return e.shape})),t);return bn(s,c,e[0].dtype)},t.prototype.neg=function(e){return ad(e,"neg"),this.multiply(_n(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,Fe(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;ad(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=Yn(e[0].shape,e[0].dtype),a=r.values,o=0;o<e.length;o++)for(var i=n[o],s=0;s<a.length;s++)a[s]+=i[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=U([t],e.shape),r=this.max(e,n),a=un(r.shape,n),o=this.subtract(e,r.reshape(a)),i=this.exp(o),s=this.sum(i,n).reshape(a);return this.realDivide(i,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,Fe(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return ad([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){ad([e,t],"matMul");for(var a=n?e.shape[1]:e.shape[2],o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],d=c[0],h=c[1],f=c[2],p=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=p[0],g=p[1],v=p[2],y=o*i,b=Yn([s,o,i],e.dtype),w=b.values,_=this.blockSize,x=0;x<s;x++)for(var k=0;k<o;k+=_)for(var C=0;C<i;C+=_)for(var E=0;E<a;E+=_)for(var S=Math.min(k+_,o),A=Math.min(C+_,i),I=Math.min(E+_,a),R=k;R<S;R++)for(var z=C;z<A;z++){for(var T=0,N=E;N<I;N++)T+=u[x*d+R*h+N*f]*l[N*m+z*g+x*v];w[x*y+(R*i+z)]+=T}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.bias,i=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,a);return o&&(u=this.add(u,o)),i&&(u=od(this,u,i,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,Fe(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return ad([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return ad([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){ad(e,"sum"),ln("sum",t,e.rank);for(var n=sn(e.shape,t),r=n[0],a=n[1],o=An(r,Fe(e.dtype,"int32")),i=F(a),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*i,d=0,h=0;h<i;++h)d+=u[c+h];s[l]=d}return o},t.prototype.prod=function(e,t){ad(e,"sum");for(var n=sn(e.shape,t),r=n[0],a=n[1],o=An(r,Fe(e.dtype,"int32")),i=F(a),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*i,d=1,h=0;h<i;++h)d*=u[c+h];s[l]=d}return o},t.prototype.unsortedSegmentSum=function(e,t,n){ad(e,"unsortedSegmentSum");for(var r=[],a=e.rank-t.rank,o=0;o<a;++o)t=t.expandDims(o+1);for(o=0;o<n;++o){var i=_n(o,"int32"),s=Gu(i,t).asType("float32").mul(e).sum(0);r.push(s)}return br(r)},t.prototype.argMin=function(e,t){ad(e,"argMin");var n=[t];ln("argMin",n,e.rank);for(var r=sn(e.shape,n),a=r[0],o=r[1],i=An(a,"int32"),s=F(o),u=this.readSync(i.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var d=c*s,h=l[d],f=0,p=0;p<s;++p){var m=l[d+p];m<h&&(h=m,f=p)}u[c]=f}return i},t.prototype.argMax=function(e,t){ad(e,"argMax");var n=[t];ln("argMax",n,e.rank);for(var r=sn(e.shape,n),a=r[0],o=r[1],i=An(a,"int32"),s=F(o),u=this.readSync(i.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var d=c*s,h=l[d],f=0,p=0;p<s;++p){var m=l[d+p];m>h&&(h=m,f=p)}u[c]=f}return i},t.prototype.cumsum=function(e,t,n,r){if(ad(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var a=Fe(e.dtype,"int32"),o=An(e.shape,a),i=this.readSync(o.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],l=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=u)for(var d=0;d<u;d++){var h=l(c,d);if(0===d)i[h]=n?0:s[h];else{var f=l(c,d-1);i[h]=n?s[f]+i[f]:s[h]+i[f]}}return o},t.prototype.equal=function(e,t){return ad([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return ad([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return ad([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return ad([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return ad([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return ad([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){ad(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return ad([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return ad([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){ad([e,t,n],"select");for(var r=this.readSync(e.dataId),a=this.readSync(t.dataId),o=this.readSync(n.dataId),i=An(t.shape,Fe(t.dtype,n.dtype)),s=this.readSync(i.dataId),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:F(t.shape.slice(1)),c=0;c<r.length;c++)for(var d=0;d<l;d++)1===r[c]?s[u++]=a[c]:s[u++]=o[c];return i},t.prototype.where=function(e){ad([e],"where");var t=this.readSync(e.dataId);return Sa(e.shape,t)},t.prototype.topk=function(e,t,n){return ad(e,"topk"),Ea(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){ad(e,"min"),ln("min",t,e.rank);for(var n=sn(e.shape,t),r=n[0],a=n[1],o=An(r,e.dtype),i=F(a),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*i,d=u[c],h=0;h<i;++h){var f=u[c+h];f<d&&(d=f)}s[l]=d}return o},t.prototype.minimum=function(e,t){return ad([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return ad([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){ad(e,"max"),ln("max",t,e.rank);for(var n=sn(e.shape,t),r=n[0],a=n[1],o=An(r,e.dtype),i=F(a),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*i,d=u[c],h=0;h<i;++h){var f=u[c+h];f>d&&(d=f)}s[l]=d}return o},t.prototype.maximum=function(e,t){return ad([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){ad(e,"all"),ln("all",t,e.rank);for(var n=sn(e.shape,t),r=n[0],a=n[1],o=An(r,e.dtype),i=F(a),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*i,d=u[c],h=0;h<i;++h){var f=u[c+h];d=d&&f}s[l]=d}return o},t.prototype.any=function(e,t){ad(e,"any"),ln("any",t,e.rank);for(var n=sn(e.shape,t),r=n[0],a=n[1],o=An(r,e.dtype),i=F(a),s=this.readSync(o.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*i,d=u[c],h=0;h<i;++h){var f=u[c+h];d=d||f}s[l]=d}return o},t.prototype.squaredDifference=function(e,t){return ad([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){ad(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){ad(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){ad(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){ad(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){ad(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){ad(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){ad(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=Math.floor(t[r]);t[r]-a<.5?n[r]=Math.floor(t[r]):t[r]-a>.5?n[r]=Math.ceil(t[r]):n[r]=a%2==0?a:a+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){ad(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){ad(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){ad(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){ad(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log1p(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){ad(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.sqrt(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){ad(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=1/Math.sqrt(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){ad(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){ad(e,"relu");for(var t=An(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),a=0;a<r.length;++a)n[a]=Math.max(0,r[a]);return t},t.prototype.relu6=function(e){ad(e,"relu");for(var t=An(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),a=0;a<r.length;++a)n[a]=Math.min(Math.max(0,r[a]),6);return t},t.prototype.prelu=function(e,t){return ad([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){ad(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?a:Math.exp(a)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){ad([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),a=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];n[o]=i>=1?a[o]:a[o]*(i+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){ad(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?1.0507009873554805*a:1.7580993408473768*(Math.exp(a)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){ad(e,"clip");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o){var i=a[o];r[o]=i>n?n:i<t?t:i}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var a=n[2*r],o=n[2*r+1];t[r]=Math.hypot(a,o)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){ad(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){ad(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){ad(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),a=0;a<r.length;++a){var o,i=r[a]>-t,s=r[a]<t,u=Math.exp(r[a]);o=s?u:i?r[a]:Math.log(1+u),n[a]=o}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){ad(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){ad(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){ad(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){ad(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){ad(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){ad(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return ad([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){ad(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){ad(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){ad(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=L(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){ad(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){ad(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){ad(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){ad(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var a=Math.sign(n[r]),o=Math.abs(n[r]),i=1/(1+.3275911*o);t[r]=a*(1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-o*o))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),ad(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];isNaN(o)?n[a]=NaN:n[a]=o>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,a=e.bias,o=e.activation,i=e.preluActivationWeights,s=this.conv2d(t,n,r);return a&&(s=this.add(s,a)),o&&(s=od(this,s,o,i)),s},t.prototype.conv2d=function(e,t,n){ad([e,t],"conv2d");for(var r=n.filterHeight,a=n.filterWidth,o=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l="channelsLast"===n.dataFormat,c=Yn(n.outShape,e.dtype),d=e.strides[0],h=l?e.strides[1]:e.strides[2],f=l?e.strides[2]:1,p=l?1:e.strides[1],m=c.strides[0],g=l?c.strides[1]:c.strides[2],v=l?c.strides[2]:1,y=l?1:c.strides[1],b=this.readSync(e.dataId),w=this.readSync(t.dataId),_=c.values,x=0;x<n.batchSize;++x)for(var k=x*d,C=x*m,E=0;E<n.outHeight;++E)for(var S=C+E*g,A=E*n.strideHeight-u,I=0;I<r;I++){var R=A+I*o;if(!(R<0||R>=n.inHeight))for(var z=I*t.strides[0],T=k+R*h,N=0;N<n.outWidth;++N)for(var O=S+N*v,D=N*n.strideWidth-s,M=0;M<a;M++){var P=D+M*i;if(!(P<0||P>=n.inWidth))for(var F=T+P*f,j=z+M*t.strides[1],B=0;B<n.inChannels;++B){for(var L=b[F+B*p],W=0;W<n.outChannels;++W)_[O+W*y]+=L*w[j+W];j+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,a=n.filterHeight,o=n.filterWidth,i=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,l=n.padInfo.front,c=n.padInfo.left,d=n.padInfo.top,h=Yn(n.outShape,e.dtype),f=this.readSync(e.dataId),p=this.readSync(t.dataId),m=h.values,g=0;g<n.batchSize;++g)for(var v=g*e.strides[0],y=g*h.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*h.strides[1],_=b*n.strideDepth-l,x=0;x<r;x++){var k=_+x*i;if(!(k<0||k>=n.inDepth))for(var C=x*t.strides[0],E=v+k*e.strides[1],S=0;S<n.outHeight;++S)for(var A=w+S*h.strides[2],I=S*n.strideHeight-d,R=0;R<a;R++){var z=I+R*s;if(!(z<0||z>=n.inHeight))for(var T=C+R*t.strides[1],N=E+z*e.strides[2],O=0;O<n.outWidth;++O)for(var D=A+O*n.outChannels,M=O*n.strideWidth-c,P=0;P<o;P++){var F=M+P*u;if(!(F<0||F>=n.inWidth))for(var j=T+P*t.strides[2],B=N+F*n.inChannels,L=j,W=0;W<n.inChannels;++W){for(var G=f[B+W],H=0;H<n.outChannels;++H)m[D+H]+=G*p[L+H];L+=n.outChannels}}}}return h.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){ad([e,t],"conv2dDerInput");for(var r=Yn(n.inShape,"float32"),a=r.values,o=this.readSync(e.dataId),i=this.readSync(t.dataId),s=t.strides,u=s[0],l=s[1],c=s[2],d=n.batchSize,h=n.filterHeight,f=n.filterWidth,p=n.inChannels,m=n.inHeight,g=n.inWidth,v=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,_=n.strideWidth,x=n.dataFormat,k=h-1-n.padInfo.top,C=f-1-n.padInfo.left,E="channelsLast"===x,S=r.strides[0],A=E?r.strides[1]:r.strides[2],I=E?r.strides[2]:1,R=E?1:r.strides[1],z=e.strides[0],T=E?e.strides[1]:e.strides[2],N=E?e.strides[2]:1,O=E?1:e.strides[1],D=0;D<d;++D)for(var M=0;M<p;++M)for(var P=0;P<m;++P)for(var F=P-k,j=Math.max(0,Math.ceil(F/w)),B=Math.min(y,(h+F)/w),L=0;L<g;++L){for(var W=L-C,G=Math.max(0,Math.ceil(W/_)),H=Math.min(b,(f+W)/_),V=0,U=j;U<B;++U)for(var q=U*w-F,K=G;K<H;++K)for(var X=z*D+T*U+N*K,Z=u*(h-1-q)+l*(f-1-(K*_-W))+c*M,Y=0;Y<v;++Y)V+=o[X+O*Y]*i[Z+Y];a[S*D+A*P+I*L+R*M]=V}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=Yn(n.inShape,"float32"),a=r.values,o=r.strides,i=o[0],s=o[1],u=o[2],l=o[3],c=this.readSync(e.dataId),d=e.strides,h=d[0],f=d[1],p=d[2],m=d[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],w=v[2],_=v[3],x=n.batchSize,k=n.filterDepth,C=n.filterHeight,E=n.filterWidth,S=n.inChannels,A=n.inDepth,I=n.inHeight,R=n.inWidth,z=n.outChannels,T=n.outDepth,N=n.outHeight,O=n.outWidth,D=n.strideDepth,M=n.strideHeight,P=n.strideWidth,F=k-1-n.padInfo.front,j=C-1-n.padInfo.top,B=E-1-n.padInfo.left,L=0;L<x;++L)for(var W=0;W<S;++W)for(var G=0;G<A;++G)for(var H=G-F,V=Math.max(0,Math.ceil(H/D)),U=Math.min(T,(k+H)/D),q=0;q<I;++q)for(var K=q-j,X=Math.max(0,Math.ceil(K/M)),Z=Math.min(N,(C+K)/M),Y=0;Y<R;++Y){for(var J=Y-B,Q=Math.max(0,Math.ceil(J/P)),$=Math.min(O,(E+J)/P),ee=0,te=V;te<U;++te)for(var ne=te*D-H,re=X;re<Z;++re)for(var ae=re*M-K,oe=Q;oe<$;++oe)for(var ie=h*L+f*te+p*re+m*oe,se=y*(k-1-ne)+b*(C-1-ae)+w*(E-1-(oe*P-J))+_*W,ue=0;ue<z;++ue)ee+=c[ie+ue]*g[se+ue];a[i*L+s*G+u*q+l*Y+W]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){ad([e,t],"conv2dDerFilter");for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s="channelsLast"===n.dataFormat,u=Yn(n.filterShape,"float32"),l=n.padInfo.left,c=n.padInfo.top,d=this.bufferSync(e),h=this.bufferSync(t),f=0;f<o;++f)for(var p=Math.max(0,Math.ceil((c-f)/r)),m=Math.min(n.outHeight,(n.inHeight+c-f)/r),g=0;g<i;++g)for(var v=Math.max(0,Math.ceil((l-g)/a)),y=Math.min(n.outWidth,(n.inWidth+l-g)/a),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var _=0,x=0;x<n.batchSize;++x)for(var k=p;k<m;++k)for(var C=f+k*r-c,E=v;E<y;++E){var S=g+E*a-l;_+=s?d.get(x,C,S,b)*h.get(x,k,E,w):d.get(x,b,C,S)*h.get(x,w,k,E)}u.set(_,f,g,b,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,a=n.strideHeight,o=n.strideWidth,i=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=Yn(n.filterShape,"float32"),c=l.values,d=l.strides,h=d[0],f=d[1],p=d[2],m=d[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],w=v[2],_=v[3],x=this.readSync(e.dataId),k=e.strides,C=k[0],E=k[1],S=k[2],A=k[3],I=n.padInfo.front,R=n.padInfo.left,z=n.padInfo.top,T=0;T<i;++T)for(var N=Math.max(0,Math.ceil((I-T)/r)),O=Math.min(n.outDepth,(n.inDepth+I-T)/r),D=T*h,M=0;M<s;++M)for(var P=Math.max(0,Math.ceil((z-M)/a)),F=Math.min(n.outHeight,(n.inHeight+z-M)/a),j=M*f+D,B=0;B<u;++B)for(var L=Math.max(0,Math.ceil((R-B)/o)),W=Math.min(n.outWidth,(n.inWidth+R-B)/o),G=B*p+j,H=0;H<n.inChannels;++H)for(var V=H*m+G,U=0;U<n.outChannels;++U){for(var q=0,K=0;K<n.batchSize;++K)for(var X=K*C,Z=K*y,Y=N;Y<O;++Y)for(var J=(T+Y*r-I)*E+X,Q=Y*b+Z,$=P;$<F;++$)for(var ee=(M+$*a-z)*S+J,te=$*w+Q,ne=L;ne<W;++ne){var re=ne*_+te;q+=x[(B+ne*o-R)*A+ee+H]*g[re+U]}c[V+U]=q}return l.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,a=e.bias,o=e.activation,i=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return a&&(s=this.add(s,a)),o&&(s=od(this,s,o,i)),s},t.prototype.depthwiseConv2D=function(e,t,n){ad([e,t],"depthwiseConv2D");for(var r=n.filterHeight,a=n.filterWidth,o=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=Yn(n.outShape,e.dtype),d=this.readSync(e.dataId),h=this.readSync(t.dataId),f=c.values,p=0;p<n.batchSize;++p)for(var m=p*e.strides[0],g=p*c.strides[0],v=0;v<n.outHeight;++v)for(var y=g+v*c.strides[1],b=v*n.strideHeight-s,w=0;w<r;++w){var _=b+w*o;if(!(_<0||_>=n.inHeight))for(var x=w*t.strides[0],k=m+_*e.strides[1],C=0;C<n.outWidth;++C)for(var E=y+C*c.strides[2],S=C*n.strideWidth-u,A=0;A<a;++A){var I=S+A*i;if(!(I<0||I>=n.inWidth))for(var R=x+A*t.strides[1],z=k+I*n.inChannels,T=E,N=R,O=0;O<n.inChannels;++O){for(var D=d[z+O],M=0;M<l;++M)f[T+M]+=D*h[N+M];T+=l,N+=l}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){ad([e,t],"depthwiseConv2DDerInput");for(var r=Yn(n.inShape,"float32"),a=r.values,o=r.strides,i=o[0],s=o[1],u=o[2],l=this.readSync(e.dataId),c=e.strides,d=c[0],h=c[1],f=c[2],p=this.readSync(t.dataId),m=t.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,w=n.filterHeight,_=n.filterWidth,x=n.inChannels,k=n.inHeight,C=n.inWidth,E=n.outChannels,S=n.outHeight,A=n.outWidth,I=n.strideHeight,R=n.strideWidth,z=w-1-n.padInfo.top,T=_-1-n.padInfo.left,N=E/x,O=0;O<b;++O)for(var D=0;D<x;++D)for(var M=0;M<k;++M)for(var P=M-z,F=Math.max(0,Math.ceil(P/I)),j=Math.min(S,(w+P)/I),B=0;B<C;++B){for(var L=B-T,W=Math.max(0,Math.ceil(L/R)),G=Math.min(A,(_+L)/R),H=0,V=F;V<j;++V)for(var U=V*I-P,q=W;q<G;++q)for(var K=d*O+h*V+f*q,X=g*(w-1-U)+v*(_-1-(q*R-L))+y*D,Z=0;Z<N;++Z)H+=l[K+(D*N+Z)]*p[X+Z];a[i*O+s*M+u*B+D]=H}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){ad([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s=Yn(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,d=this.bufferSync(e),h=this.bufferSync(t),f=0;f<o;++f)for(var p=Math.max(0,Math.ceil((l-f)/r)),m=Math.min(n.outHeight,(n.inHeight+l-f)/r),g=0;g<i;++g)for(var v=Math.max(0,Math.ceil((u-g)/a)),y=Math.min(n.outWidth,(n.inWidth+u-g)/a),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/c),_=b%c,x=0,k=0;k<n.batchSize;++k)for(var C=p;C<m;++C)for(var E=f+C*r-l,S=v;S<y;++S){var A=g+S*a-u;x+=d.get(k,E,A,w)*h.get(k,C,S,b)}s.set(x,f,g,w,_)}return s.toTensor()},t.prototype.tile=function(e,t){return ad(e,"tile"),Ca(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){ad(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),a=t.map((function(e){return e[0]})),o=this.bufferSync(e),i=Yn(r,e.dtype);0!==n&&i.values.fill(n);for(var s=0;s<e.size;s++){var u=o.indexToLoc(s),l=u.map((function(e,t){return e+a[t]}));i.set.apply(i,[o.get.apply(o,u)].concat(l))}return i.toTensor()},t.prototype.transpose=function(e,t){ad(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var a=this.readSync(e.dataId),o=Yn(n,e.dtype),i=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=i.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];var c=o.locToIndex(u);o.values[c]=a[r]}return o.toTensor()},t.prototype.gather=function(e,t,n){ad([e,t],"gather");var r=e.shape.slice(),a=this.readSync(t.dataId);r[n]=a.length;for(var o=Yn(r,e.dtype),i=this.bufferSync(e),s=0;s<o.size;++s){var u=o.indexToLoc(s),l=u.slice();l[n]=a[u[n]];var c=i.locToIndex(l);o.values[s]=i.values[c]}return o.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){ad([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),a=kr(e.shape,t,r),o=Cr(a.length,t.length),i=Er(e.shape,t,r),s=Sr(n,t.length),u=Ar(i,n,t.length);return e.reshape(a).transpose(o).reshape(i).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){ad([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),a=[[0,0]];a.push.apply(a,n);for(var o=1+t.length;o<e.shape.length;++o)a.push([0,0]);var i=e.pad(a),s=kr(i.shape,t,r,!1),u=Cr(s.length,t.length,!1),l=Er(i.shape,t,r,!1);return i.reshape(s).transpose(u).reshape(l)},t.prototype.pool=function(e,t,n){ad(e,"pool");for(var r=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,d="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(e.dataId),f=Yn(t.outShape,e.dtype),p=f.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],g=t.outShape[2]*t.outShape[3],v=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,w=y*e.strides[0],_=0;_<t.inChannels;++_)for(var x=0;x<t.outHeight;++x)for(var k=x*r-l,C=Math.max(0,k),E=Math.min(t.inHeight,s+k),S=b+x*g,A=0;A<t.outWidth;++A){for(var I=A*a-c,R=Math.max(0,I),z=Math.min(t.inWidth,u+I),T=d,N=0,O=0,D=C;D<E;D+=o){for(var M=w+D*e.strides[1],P=R;P<z;P+=i){var F=h[M+P*e.strides[2]+_];"max"===n&&F>T?T=F:"avg"===n&&(N+=F,O++)}if(isNaN(T))break}p[S+A*v+_]="avg"===n?N/O:T}return f.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=Yn(t.outShape,"int32"),r=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,d=this.bufferSync(e),h=0;h<t.batchSize;++h)for(var f=0;f<t.inChannels;++f)for(var p=0;p<t.outHeight;++p){for(var m=p*r-l,g=m;g<0;)g+=o;for(var v=Math.min(t.inHeight,s+m),y=0;y<t.outWidth;++y){for(var b=y*a-c,w=b;w<0;)w+=i;for(var _=Math.min(t.inWidth,u+b),x=Number.NEGATIVE_INFINITY,k=-1,C=g;C<v;C+=o)for(var E=C-m,S=w;S<_;S+=i){var A=S-b,I=d.get(h,C,S,f);I>x&&(x=I,k=E*u+A)}n.set(k,h,p,y,f)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){ad([t,n],"maxPoolBackprop");for(var a=this.maxPoolPositions(t,r),o=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,d=c-1-r.padInfo.left,h=l-1-r.padInfo.top,f=Yn(t.shape,"float32"),p=this.bufferSync(a),m=this.bufferSync(e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-h,_=b-d,x=0,k=0;k<l;k+=s){var C=(w+k)/o;if(!(C<0||C>=r.outHeight||Math.floor(C)!==C))for(var E=0;E<c;E+=u){var S=(_+E)/i;if(!(S<0||S>=r.outWidth||Math.floor(S)!==S)){var A=l*c-1-p.get(g,C,S,v)===k*c+E?1:0;0!==A&&(x+=m.get(g,C,S,v)*A)}}}f.set(x,g,y,b,v)}return f.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){ad([e,t],"avgPoolBackprop");for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,d=c-1-n.padInfo.left,h=l-1-n.padInfo.top,f=Yn(t.shape,"float32"),p=1/(o*i),m=this.bufferSync(e),g=0;g<n.batchSize;++g)for(var v=0;v<n.inChannels;++v)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-h,_=b-d,x=0,k=0;k<l;k+=s){var C=(w+k)/r;if(!(C<0||C>=n.outHeight||Math.floor(C)!==C))for(var E=0;E<c;E+=u){var S=(_+E)/a;S<0||S>=n.outWidth||Math.floor(S)!==S||(x+=m.get(g,C,S,v))}}f.set(x*p,g,y,b,v)}return f.toTensor()},t.prototype.pool3d=function(e,t,n){ad(e,"pool3d");for(var r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,f=t.padInfo.top,p=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),v=Yn(t.outShape,e.dtype),y=v.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],_=t.outShape[3]*t.outShape[4],x=t.outShape[4],k=0;k<t.batchSize;++k)for(var C=k*b,E=k*e.strides[0],S=0;S<t.inChannels;++S)for(var A=0;A<t.outDepth;++A){for(var I=A*r-h,R=I;R<0;)R+=i;for(var z=Math.min(t.inDepth,l+I),T=C+A*w,N=0;N<t.outHeight;++N){for(var O=N*a-f,D=O;D<0;)D+=s;for(var M=Math.min(t.inHeight,c+O),P=T+N*_,F=0;F<t.outWidth;++F){for(var j=F*o-p,B=j;B<0;)B+=u;for(var L=Math.min(t.inWidth,d+j),W=P+F*x,G=m,H=0,V=0,U=R;U<z;U+=i){for(var q=E+U*e.strides[1],K=D;K<M;K+=s){for(var X=q+K*e.strides[2],Z=B;Z<L;Z+=u){var Y=g[X+Z*e.strides[3]+S];if("max"===n&&Y>G?G=Y:"avg"===n&&(H+=Y,V++),isNaN(G))break}if(isNaN(G))break}if(isNaN(G))break}y[W+S]="avg"===n?H/V:G}}}return v.toTensor()},t.prototype.avgPool3d=function(e,t){return ad(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){ad([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,a=n.strideHeight,o=n.strideWidth,i=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=n.dilationDepth,c=n.dilationHeight,d=n.dilationWidth,h=n.effectiveFilterDepth,f=n.effectiveFilterHeight,p=n.effectiveFilterWidth,m=h-1-n.padInfo.front,g=p-1-n.padInfo.left,v=f-1-n.padInfo.top,y=Yn(t.shape,"float32"),b=1/(i*s*u),w=this.bufferSync(e),_=0;_<n.batchSize;++_)for(var x=0;x<n.inChannels;++x)for(var k=0;k<n.inDepth;++k)for(var C=0;C<n.inHeight;++C)for(var E=0;E<n.inWidth;++E){for(var S=k-m,A=C-v,I=E-g,R=0,z=0;z<h;z+=l){var T=(S+z)/r;if(!(T<0||T>=n.outDepth||Math.floor(T)!==T))for(var N=0;N<f;N+=c){var O=(A+N)/a;if(!(O<0||O>=n.outHeight||Math.floor(O)!==O))for(var D=0;D<p;D+=d){var M=(I+D)/o;M<0||M>=n.outWidth||Math.floor(M)!==M||(R+=w.get(_,T,O,M,x))}}}y.set(R*b,_,k,C,E,x)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return ad(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=Yn(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,f=t.padInfo.top,p=t.padInfo.left,m=this.bufferSync(e),g=0;g<t.batchSize;++g)for(var v=0;v<t.inChannels;++v)for(var y=0;y<t.outDepth;++y){for(var b=y*r-h,w=b;w<0;)w+=i;for(var _=Math.min(t.inDepth,l+b),x=0;x<t.outHeight;++x){for(var k=x*a-f,C=k;C<0;)C+=s;for(var E=Math.min(t.inHeight,c+k),S=0;S<t.outWidth;++S){for(var A=S*o-p,I=A;I<0;)I+=u;for(var R=Math.min(t.inWidth,d+A),z=Number.NEGATIVE_INFINITY,T=-1,N=w;N<_;N+=i)for(var O=N-b,D=C;D<E;D+=s)for(var M=D-k,P=I;P<R;P+=u){var F=P-A,j=m.get(g,N,D,P,v);j>=z&&(z=j,T=O*c*d+M*c+F)}n.set(T,g,y,x,S,v)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){ad([t,n],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(t,r),o=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=d-1-r.padInfo.front,m=f-1-r.padInfo.left,g=h-1-r.padInfo.top,v=Yn(t.shape,"float32"),y=this.bufferSync(a),b=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var _=0;_<r.inChannels;++_)for(var x=0;x<r.inDepth;++x)for(var k=0;k<r.inHeight;++k)for(var C=0;C<r.inWidth;++C){for(var E=x-p,S=k-g,A=C-m,I=0,R=0;R<d;R+=u){var z=(E+R)/o;if(!(z<0||z>=r.outDepth||Math.floor(z)!==z))for(var T=0;T<h;T+=l){var N=(S+T)/i;if(!(N<0||N>=r.outHeight||Math.floor(N)!==N))for(var O=0;O<f;O+=c){var D=(A+O)/s;if(!(D<0||D>=r.outWidth||Math.floor(D)!==D)){var M=d*h*f-1-y.get(w,z,N,D,_)===R*h*f+T*f+O?1:0;0!==M&&(I+=b.get(w,z,N,D,_)*M)}}}}v.set(I,w,x,k,C,_)}return v.toTensor()},t.prototype.cast=function(e,t){return ua(e,t,this)},t.prototype.reshape=function(e,t){return la(e,t)},t.prototype.avgPool=function(e,t){return ad(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){ad(e,"resizeBilinear");for(var a=e.shape,o=a[0],i=a[1],s=a[2],u=a[3],l=this.readSync(e.dataId),c=new Float32Array(F([o,t,n,u])),d=[r&&t>1?i-1:i,r&&n>1?s-1:s],h=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0,p=d[0]/h[0],m=d[1]/h[1],g=0;g<o;g++)for(var v=0;v<t;v++)for(var y=p*v,b=Math.floor(y),w=y-b,_=Math.min(i-1,Math.ceil(y)),x=g*e.strides[0]+b*e.strides[1],k=g*e.strides[0]+_*e.strides[1],C=0;C<n;C++)for(var E=m*C,S=Math.floor(E),A=E-S,I=Math.min(s-1,Math.ceil(E)),R=x+S*e.strides[2],z=k+S*e.strides[2],T=x+I*e.strides[2],N=k+I*e.strides[2],O=0;O<u;O++){var D=l[R+O],M=l[z+O],P=D+(l[T+O]-D)*A,j=P+(M+(l[N+O]-M)*A-P)*w;c[f++]=j}return bn(c,[o,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){ad([e,t],"resizeBilinearBackprop");for(var r=t.shape,a=r[0],o=r[1],i=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],d=new Float32Array(a*o*i*s),h=[n&&l>1?o-1:o,n&&c>1?i-1:i],f=[n&&l>1?l-1:l,n&&c>1?c-1:c],p=h[0]/f[0],m=h[1]/f[1],g=this.readSync(e.dataId),v=0,y=0;y<a;y++)for(var b=y*t.strides[0],w=0;w<l;w++)for(var _=w*p,x=Math.floor(_),k=Math.min(Math.ceil(_),o-1),C=b+x*t.strides[1],E=b+k*t.strides[1],S=_-x,A=1-S,I=0;I<c;I++)for(var R=I*m,z=Math.floor(R),T=Math.min(Math.ceil(R),i-1),N=R-z,O=1-N,D=C+z*t.strides[2],M=C+T*t.strides[2],P=E+z*t.strides[2],F=E+T*t.strides[2],j=A*O,B=A*N,L=S*O,W=S*N,G=0;G<s;G++){var H=g[v++];d[D+G]+=H*j,d[M+G]+=H*B,d[P+G]+=H*L,d[F+G]+=H*W}return En(d,[a,i,o,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){ad(e,"resizeNearestNeighbor");for(var a=e.shape,o=a[0],i=a[1],s=a[2],u=a[3],l=this.readSync(e.dataId),c=new Float32Array(o*t*n*u),d=[r&&t>1?i-1:i,r&&n>1?s-1:s],h=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=d[0]/h[0],p=d[1]/h[1],m=0,g=0;g<o;g++)for(var v=g*e.strides[0],y=0;y<t;y++)for(var b=f*y,w=v+Math.min(i-1,r?Math.round(b):Math.floor(b))*e.strides[1],_=0;_<n;_++)for(var x=p*_,k=w+Math.min(s-1,r?Math.round(x):Math.floor(x))*e.strides[2],C=0;C<u;C++){var E=l[k+C];c[m++]=E}return bn(c,[o,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){ad([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,a=r[0],o=r[1],i=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],d=new Float32Array(a*o*i*s),h=this.readSync(e.dataId),f=[n&&l>1?o-1:o,n&&c>1?i-1:i],p=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=f[0]/p[0],g=f[1]/p[1],v=1/m,y=1/g,b=2*Math.ceil(v)+2,w=2*Math.ceil(y)+2,_=0;_<a;_++)for(var x=_*t.strides[0],k=0;k<o;k++)for(var C=x+k*t.strides[1],E=Math.floor(k*v),S=Math.floor(E-b/2),A=0;A<i;A++)for(var I=C+A*t.strides[2],R=Math.floor(A*y),z=Math.floor(R-w/2),T=0;T<s;T++){for(var N=0,O=0;O<b;O++){var D=O+S;if(!(D<0||D>=l)){var M=x+D*e.strides[1],P=D*m;if(k===Math.min(o-1,n?Math.round(P):Math.floor(P)))for(var F=0;F<w;F++){var j=F+z;if(!(j<0||j>=c)){var B=M+j*e.strides[2],L=j*g;A===Math.min(i-1,n?Math.round(L):Math.floor(L))&&(N+=h[B+T])}}}}d[I+T]=N}return En(d,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,a,o){ad([e,t,n,a,o],"batchNorm");for(var i=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=a?this.readSync(a.dataId):new Float32Array([1]),c=o?this.readSync(o.dataId):new Float32Array([0]),d=new Float32Array(i.length),h=c.length,f=l.length,p=u.length,m=s.length,g=0,v=0,y=0,b=0,w=0;w<i.length;++w)d[w]=c[g++]+(i[w]-s[v++])*l[y++]/Math.sqrt(u[b++]+r),g>=h&&(g=0),v>=m&&(v=0),y>=f&&(y=0),b>=p&&(b=0);return En(d,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,a){ad(e,"localResponseNormalization4D");var o=e.shape[3],i=o-1,s=this.readSync(e.dataId),u=e.size,l=new Float32Array(u);function c(e){for(var n=e%o,r=e-n+Math.max(0,n-t),a=e-n+Math.min(n+t,i),u=0;r<=a;r++){var l=s[r];u+=l*l}return u}for(var d=0;d<u;d++){var h=c(d),f=s[d]*Math.pow(n+r*h,-a);l[d]=f}return En(l,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,a,o,i){ad(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=this.readSync(n.dataId),d=new Float32Array(e.size),h=e.size,f=0;f<h;f++){for(var p=f%s,m=f-p+Math.max(0,p-r),g=f-p+Math.min(s,p+r+1),v=0,y=m;y<g;y++)v+=Math.pow(l[y],2);for(v=o*v+a,y=m;y<g;y++){var b=-2*o*i*l[y]*c[f]/v;f===y&&(b+=Math.pow(v,-i)),b*=u[f],d[y]+=b}}return En(d,e.shape)},t.prototype.multinomial=function(e,t,n,r){ad(e,"multinomial");for(var a=t?e:Gr(e),o=a.shape[0],i=a.shape[1],s=An([o,n],"int32"),u=this.readSync(s.dataId),l=this.readSync(a.dataId),c=0;c<o;++c){var d=c*i,h=new Float32Array(i-1);h[0]=l[d];for(var f=1;f<h.length;++f)h[f]=h[f-1]+l[d+f];for(var p=qn(r.toString()),m=c*n,g=0;g<n;++g){var v=p();u[m+g]=h.length;for(var y=0;y<h.length;y++)if(v<h[y]){u[m+g]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){ad(e,"oneHot");var a=new Float32Array(e.size*t);a.fill(r);for(var o=this.readSync(e.dataId),i=0;i<e.size;++i)o[i]>=0&&o[i]<t&&(a[i*t+o[i]]=n);return kn(a,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,a){return ad(e,"nonMaxSuppression"),va(this.readSync(e.dataId),this.readSync(t.dataId),n,r,a)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],a=Yn(e.shape,"float32"),o=Yn(e.shape,"float32"),i=vn(e).as2D(n,r),s=yn(e).as2D(n,r),u=0;u<n;u++)for(var l=i.slice([u,0],[1,r]),c=s.slice([u,0],[1,r]),d=gn(l,c),h=this.readSync(this.fftImpl(d,t).dataId),f=0;f<r;f++){var p=ha(h,f);a.values[u*r+f]=p.real,o.values[u*r+f]=p.imag}return gn(a.toTensor(),o.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var a=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(a=gn(vn(a).div(_n(r)),yn(a).div(_n(r)))),a}var o=this.readSync(e.dataId),i=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(o,r,t));return gn(i.real,i.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),a=t/2,o=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(r),i=gn(o.real,o.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(r),u=gn(s.real,s.imag).as1D();i=this.fftRadix2(i,a,n),u=this.fftRadix2(u,a,n);var l=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}(t,n),c=gn(l.real,l.imag).mul(u),d=i.add(c),h=i.sub(c),f=vn(d).concat(vn(h)),p=yn(d).concat(yn(h));return gn(f,p).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,i=0,s=0;s<t;s++){var u=pa(a*s,t,n),l=ha(e,s);o+=l.real*u.real-l.imag*u.imag,i+=l.real*u.imag+l.imag*u.real}n&&(o/=t,i/=t),fa(r,o,i,a)}return r},t.prototype.depthToSpace=function(e,t,n){O("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),O(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],a=e.shape[1],o=e.shape[2],i=e.shape[3],s=a*t,u=o*t,l=i/(t*t),c=this.readSync(e.dataId),d=new Float32Array(r*s*u*l),h=0,f=0;f<r;++f)for(var p=0;p<s;++p)for(var m=Math.floor(p/t),g=p%t,v=0;v<u;++v)for(var y=Math.floor(v/t),b=(g*t+v%t)*l,w=0;w<l;++w){var _=w+b+i*(y+o*(m+a*f));d[h++]=c[_]}return En(d,[r,s,u,l])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var a=Zr(e.shape,t.shape),o=Yn(a,n),i=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Kr(e.shape,a),l=Kr(t.shape,a),c=o.values;if(u.length+l.length===0)for(var d=0;d<c.length;++d)c[d]=r(i[d%i.length],s[d%s.length]);else{var h=this.bufferSync(e),f=this.bufferSync(t),p=function(n){var a=o.indexToLoc(n),d=a.slice(-e.rank);u.forEach((function(e){return d[e]=0}));var p=h.locToIndex(d),m=a.slice(-t.rank);l.forEach((function(e){return m[e]=0}));var g=f.locToIndex(m);c[n]=r(i[p],s[g])};for(d=0;d<c.length;++d)p(d)}return o.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Zr(e.shape,t.shape),a=Yn(r,"float32"),o=Yn(r,"float32"),i=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Kr(e.shape,r),l=Kr(t.shape,r),c=a.values,d=o.values;if(u.length+l.length===0)for(var h=0;h<c.length;h++){var f=h%i.length,p=h%s.length,m=n(i[2*f],i[2*f+1],s[2*p],s[2*p+1]);c[h]=m.real,d[h]=m.imag}else{var g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),v=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var o=a.indexToLoc(r),h=o.slice(-e.rank);u.forEach((function(e){return h[e]=0}));var f=g.locToIndex(h),p=o.slice(-t.rank);l.forEach((function(e){return p[e]=0}));var m=v.locToIndex(p),y=n(i[2*f],i[2*f+1],s[2*m],s[2*m+1]);c[r]=y.real,d[r]=y.imag};for(h=0;h<c.length;h++)y(h)}return this.complex(a.toTensor(),o.toTensor())},t.prototype.split=function(e,t,n){return ka(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,a,o){for(var i=e.shape,s=i[0],u=i[1],l=i[2],c=i[3],d=t.shape[0],h=r[0],f=r[1],p=Yn([d,h,f,c],"float32"),m=this.readSync(t.dataId),g=this.readSync(n.dataId),v=this.readSync(e.dataId),y=e.strides,b=p.strides,w=0;w<d;w++){var _=4*w,x=m[_],k=m[_+1],C=m[_+2],E=m[_+3],S=g[w];if(!(S>=s))for(var A=h>1?(C-x)*(u-1)/(h-1):0,I=f>1?(E-k)*(l-1)/(f-1):0,R=0;R<h;R++){var z=h>1?x*(u-1)+R*A:.5*(x+C)*(u-1);if(z<0||z>u-1)for(var T=0;T<f;T++)for(var N=0;N<c;N++){var O=N+T*b[2]+R*b[1]+w*b[0];p.values[O]=o}else if("bilinear"===a){var D=Math.floor(z),M=Math.ceil(z),P=z-D;for(T=0;T<f;T++)if((U=f>1?k*(l-1)+T*I:.5*(k+E)*(l-1))<0||U>l-1)for(N=0;N<c;N++)O=N+T*b[2]+R*b[1]+w*b[0],p.values[O]=o;else{var F=Math.floor(U),j=Math.ceil(U),B=U-F;for(N=0;N<c;N++){var L=v[O=N+F*y[2]+D*y[1]+S*y[0]],W=v[O=N+j*y[2]+D*y[1]+S*y[0]],G=v[O=N+F*y[2]+M*y[1]+S*y[0]],H=L+(W-L)*B,V=G+(v[O=N+j*y[2]+M*y[1]+S*y[0]]-G)*B;O=N+T*b[2]+R*b[1]+w*b[0],p.values[O]=H+(V-H)*P}}}else for(T=0;T<f;++T){var U;if((U=f>1?k*(l-1)+T*I:.5*(k+E)*(l-1))<0||U>l-1)for(N=0;N<c;N++)O=N+T*b[2]+R*b[1]+w*b[0],p.values[O]=o;else{var q=Math.round(U),K=Math.round(z);for(N=0;N<c;N++){var X=N+q*y[2]+K*y[1]+S*y[0],Z=N+T*b[2]+R*b[1]+w*b[0];p.values[Z]=v[X]}}}}}return p.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var a=Or(0,e,n),o=a.sliceRank,i=a.numUpdates,s=a.sliceSize,u=a.strides,l=a.outputSize;return this.scatter(e,t,n,l,s,i,o,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],a=Ir(e,t),o=a[0],i=a[1],s=a[2],u=a[3];if(0===i)return bn([],o,e.dtype);for(var l=new Ce([i,s],e.dtype),c=this.readSync(t.dataId),d=this.readSync(e.dataId),h=0;h<i;h++){for(var f=[],p=0,m=0;m<r;m++){var g=c[h*r+m];p+=g*u[m],f.push(g)}if(p<0||p>=e.size/s)throw new Error("Invalid indices: "+f+" does not index into "+e.shape);for(var v=0;v<s;v++)l.values[h*s+v]=d[p*s+v]}return l.toTensor().reshape(o)},t.prototype.scatterND=function(e,t,n){var r=Or(0,e,n),a=r.sliceRank,o=r.numUpdates,i=r.sliceSize,s=r.strides,u=r.outputSize,l=_n(0);return this.scatter(e,t,n,u,i,o,a,s,l,!0)},t.prototype.fill=function(e,t,n){var r=X(n=n||ae(t),F(e));return r.fill(t),Ue.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=X(e.dtype,F(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return ca(e,t,n)},t.prototype.scatter=function(e,t,n,r,a,o,i,s,u,l){var c=[r/a,a],d=this.readSync(e.dataId),h=this.readSync(t.dataId);if(0===r)return bn([],n,t.dtype);var f=new Ce(c,t.dtype);f.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<o;p++){for(var m=[],g=0,v=0;v<i;v++){var y=d[p*i+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/a)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<a;b++)l?f.values[g*a+b]+=h[p*a+b]:f.values[g*a+b]=0===t.rank?h[0]:h[p*a+b]}return f.toTensor().reshape(n)},t}(Ur);Ue.registerBackend("cpu",(function(){return new id}),1);for(var sd=0,ud=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t,o=a.boxes,i=a.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,d=s.softNmsSigma,h=n;ad(o,"NonMaxSuppressionWithScore");var f=ya(h.data.get(o.dataId).values,h.data.get(i.dataId).values,u,l,c,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;ad(r,"square");for(var o=a.data.get(r.dataId).values,i=new Float32Array(o.length),s=0;s<o.length;++s){var u=o[s];i[s]=u*u}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:bs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,o=r.b,i=n;ad([a,o],bs);var s=i.data.get(a.dataId).values,u=i.data.get(o.dataId).values,l=function(e,t,n,r,a,o){var i=Zr(e,t),s=i.length,u=se(i),l=K(a,F(i)),c=e.length,d=t.length,h=se(e),f=se(t),p=Kr(e,i),m=Kr(t,i);if(p.length+m.length===0)for(var g=0;g<l.length;++g)l[g]=o(n[g%n.length],r[g%r.length]);else{var v=function(e){var t=ve(e,s,u),a=t.slice(-c);p.forEach((function(e){return a[e]=0}));var i=ge(a,c,h),g=t.slice(-d);m.forEach((function(e){return g[e]=0}));var v=ge(g,d,f);l[e]=o(n[i],r[v])};for(g=0;g<l.length;++g)v(g)}return[l,i]}(a.shape,o.shape,s,u,a.dtype,(function(e,t){var n=e-t;return n*n})),c=l[0],d=l[1];return{dataId:i.write(c,d,a.dtype),shape:d,dtype:a.dtype}}}];sd<ud.length;sd++)S(ud[sd]);for(var ld,cd=function(e){this.variableNames=["A"];var t=Na(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},dd=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Na(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},hd=0,fd=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,o=r.numChannels,i="undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement,u=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=u[0],c=u[1],d=[c,l],h=[c,l,o];(s||i)&&(null==ld&&(ld=document.createElement("canvas").getContext("2d")),ld.canvas.width=l,ld.canvas.height=c,ld.drawImage(a,0,0,l,c),a=ld.canvas);var f=n.makeTensorInfo(d,"int32");n.texData.get(f.dataId).usage=Ze.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),a);var p=w().getBool("WEBGL_PACK")?new dd(h):new cd(h),m=n.runWebGLProgram(p,[f],"int32");return n.disposeData(f.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;$t("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=t,o=a.boxes,i=a.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,d=s.softNmsSigma,h=n,f=ya(h.readSync(o.dataId),h.readSync(i.dataId),u,l,c,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n,o=new Hi(r.shape,"return x * x;");return a.runWebGLProgram(o,[r],r.dtype)}},{kernelName:bs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,o=r.b,i=n,s=w().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new io("return (a - b) * (a - b);",a.shape,o.shape):new ao("return (a - b) * (a - b);",a.shape,o.shape);return i.compileAndRun(s,[a,o])}}];hd<fd.length;hd++)S(fd[hd]);for(var pd=0,md=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:bs,gradFunc:function(e,t){var n=t[0],r=t[1],a=_n(2);return{a:function(){return Mu(e,Mu(a,Lu(n,r)))},b:function(){return Mu(e,Mu(a,Lu(r,n)))}}}}];pd<md.length;pd++)A(md[pd]);var gd=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();w().get("IS_BROWSER")&&w().setPlatform("browser",new gd);var vd,yd=function(){function e(){this.util=n(753),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=w().global.fetch?w().global.fetch(e,t):(null==vd&&(vd=n(522)),vd(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();w().get("IS_NODE")&&w().setPlatform("node",new yd);var bd={float32:4,int32:4,uint16:2,uint8:1,bool:1},wd=4;function _d(e,t){for(var n={},r=0,a=function(t){var a=t.name,o=t.dtype,i=t.shape,s=F(i),u=void 0;if("quantization"in t){var l=t.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+l.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=bd[l.dtype],d=e.slice(r,r+s*c),h="uint8"===l.dtype?new Uint8Array(d):new Uint16Array(d);if("float32"===o)u=Float32Array.from(h,(function(e){return e*l.scale+l.min}));else{if("int32"!==o)throw new Error("Unsupported dtype in weight '"+a+"': "+o);u=Int32Array.from(h,(function(e){return Math.round(e*l.scale+l.min)}))}r+=s*c}else if("string"===o){var f=F(t.shape);u=[];for(var p=0;p<f;p++){var m=new Uint32Array(e.slice(r,r+wd))[0];r+=wd;var g=new Uint8Array(e.slice(r,r+m));u.push(g),r+=m}}else{var v=bd[o];if(d=e.slice(r,r+s*v),"float32"===o)u=new Float32Array(d);else if("int32"===o)u=new Int32Array(d);else{if("bool"!==o)throw new Error("Unsupported dtype in weight '"+a+"': "+o);u=new Uint8Array(d)}r+=s*v}n[a]=bn(u,i,o)},o=0,i=t;o<i.length;o++)a(i[o]);return n}function xd(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var kd="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Cd(e){return kd?Buffer.byteLength(e):new Blob([e]).size}function Ed(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Sd(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Ad(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Cd(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Cd(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var Id=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a},e}(),Rd="://",zd=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){O(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(Rd)&&(t=t.slice(0,t.indexOf(Rd))),O(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();O(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Td(e){if(-1===e.indexOf(Rd))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+zd.getSchemes().join(","));return{scheme:e.split(Rd)[0],path:e.split(Rd)[1]}}function Nd(e,t,n){return void 0===n&&(n=!1),v(this,void 0,void 0,(function(){var r,a,o,i,s,u,l,c,d;return y(this,(function(h){switch(h.label){case 0:return O(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),O((r=Id.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),O(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),a=r[0],O((o=Id.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),O(o.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),i=o[0],s=Td(e).scheme,u=Td(e).path,l=s===Td(e).scheme,[4,a.load()];case 1:return c=h.sent(),n&&l?[4,zd.getManager(s).removeModel(u)]:[3,3];case 2:h.sent(),h.label=3;case 3:return[4,i.save(c)];case 4:return d=h.sent(),!n||l?[3,6]:[4,zd.getManager(s).removeModel(u)];case 5:h.sent(),h.label=6;case 6:return[2,d.modelArtifactsInfo]}}))}))}var Od="models_store",Dd="model_info_store";function Md(){if(!w().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Pd(e){var t=e.result;t.createObjectStore(Od,{keyPath:"modelPath"}),t.createObjectStore(Dd,{keyPath:"modelPath"})}var Fd=function(){function e(e){if(this.indexedDB=Md(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Pd(a)},a.onsuccess=function(){var o=a.result;if(null==t){var i=o.transaction(Od,"readonly"),s=i.objectStore(Od).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return o.close(),r(s.error)},i.oncomplete=function(){return o.close()}}else{var u,l=Ad(t),c=o.transaction(Dd,"readwrite"),d=c.objectStore(Dd),h=d.put({modelPath:n.modelPath,modelArtifactsInfo:l});h.onsuccess=function(){var a=(u=o.transaction(Od,"readwrite")).objectStore(Od).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});a.onsuccess=function(){return e({modelArtifactsInfo:l})},a.onerror=function(e){var t=(d=c.objectStore(Dd)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(a.error)},t.onerror=function(e){return o.close(),r(a.error)}}},h.onerror=function(e){return o.close(),r(h.error)},c.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return r(a.error)}}))},e.URL_SCHEME="indexeddb://",e}(),jd=function(e){return w().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Fd.URL_SCHEME)?(t=e.slice(Fd.URL_SCHEME.length),new Fd(t)):null;var t};Id.registerSaveRouter(jd),Id.registerLoadRouter(jd);var Bd=function(){function e(){this.indexedDB=Md()}return e.prototype.listModels=function(){return v(this,void 0,void 0,(function(){var e=this;return y(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Pd(r)},r.onsuccess=function(){var e=r.result,a=e.transaction(Dd,"readonly"),o=a.objectStore(Dd).getAll();o.onsuccess=function(){for(var e={},n=0,r=o.result;n<r.length;n++){var a=r[n];e[a.modelPath]=a.modelArtifactsInfo}t(e)},o.onerror=function(t){return e.close(),n(o.error)},a.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return v(this,void 0,void 0,(function(){var t=this;return y(this,(function(n){var r;return e=(r=e).startsWith(Fd.URL_SCHEME)?r.slice(Fd.URL_SCHEME.length):r,[2,new Promise((function(n,r){var a=t.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Pd(a)},a.onsuccess=function(){var t,o=a.result,i=o.transaction(Dd,"readwrite"),s=i.objectStore(Dd),u=s.get(e);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var a=s.delete(e),i=function(){var a=(t=o.transaction(Od,"readwrite")).objectStore(Od).delete(e);a.onsuccess=function(){return n(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=i,a.onerror=function(e){return i(),o.close(),r(u.error)}},u.onerror=function(e){return o.close(),r(u.error)},i.oncomplete=function(){null==t?o.close():t.oncomplete=function(){return o.close()}}},a.onerror=function(e){return r(a.error)}}))]}))}))},e}();if(w().getBool("IS_BROWSER"))try{zd.registerManager(Fd.URL_SCHEME,new Bd)}catch(De){}var Ld="/",Wd="tensorflowjs_models",Gd="info",Hd="model_topology",Vd="weight_specs",Ud="weight_data",qd="model_metadata";function Kd(e){return{info:[Wd,e,Gd].join(Ld),topology:[Wd,e,Hd].join(Ld),weightSpecs:[Wd,e,Vd].join(Ld),weightData:[Wd,e,Ud].join(Ld),modelMetadata:[Wd,e,qd].join(Ld)}}function Xd(e){var t=e.split(Ld);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Ld)}var Zd=function(){function e(e){if(!w().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Kd(this.modelPath)}return e.prototype.save=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Ad(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(kd)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return y(this,(function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),t.format=o.format,t.generatedBy=o.generatedBy,t.convertedBy=o.convertedBy,t.userDefinedMetadata=o.userDefinedMetadata),null==(i=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(kd){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}(i),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),Yd=function(e){return w().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Zd.URL_SCHEME)?(t=e.slice(Zd.URL_SCHEME.length),new Zd(t)):null;var t};Id.registerSaveRouter(Yd),Id.registerLoadRouter(Yd);var Jd=function(){function e(){O(w().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),O("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,a,o;return y(this,(function(i){for(e={},t=Wd+Ld,n=Ld+Gd,r=0;r<this.LS.length;++r)(a=this.LS.key(r)).startsWith(t)&&a.endsWith(n)&&(o=Xd(a),e[o]=JSON.parse(this.LS.getItem(a)));return[2,e]}))}))},e.prototype.removeModel=function(e){return v(this,void 0,void 0,(function(){var t,n;return y(this,(function(r){var a;if(e=(a=e).startsWith(Zd.URL_SCHEME)?a.slice(Zd.URL_SCHEME.length):a,t=Kd(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(w().getBool("IS_BROWSER"))try{zd.registerManager(Zd.URL_SCHEME,new Jd)}catch(De){}function Qd(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var $d=function(){function e(t){if(!w().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return v(this,void 0,void 0,(function(){var t,n,r,a,o,i;return y(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},a=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=a,[4,Qd((function(){return o.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,i.href=t,[4,Qd((function(){return i.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:Ad(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),eh=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return v(this,void 0,void 0,(function(){var e,t,n=this;return y(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,a){var o=new FileReader;o.onload=function(o){var i=JSON.parse(o.target.result),s=i.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=i.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,t)}catch(e){return void a(e)}var c=[],d=[],h=[];u.forEach((function(e){e.paths.forEach((function(e){d.push(e),h.push(null)})),c.push.apply(c,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,a=d.indexOf(e);h[a]=n,-1===h.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:Ed(h),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy,userDefinedMetadata:i.userDefinedMetadata})},t.onerror=function(t){return a("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(l[e])}))}))}else a(new Error("weightManifest field is missing from file "+e.name))}else a(new Error("modelTopology field is missing from file "+e.name))},o.onerror=function(t){return a("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return Sd(e.name)})),a={},o=0,i=e;o<i.length;o++)i[o].paths.forEach((function(e){var o=Sd(e);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: '"+o+"'");if(n.push(o),-1===r.indexOf(o))throw new Error("Weight file with basename '"+o+"' is not provided.");a[e]=t[r.indexOf(o)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return a},e}();function th(e,t,n,r){!function(e){O(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){O(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),O(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),O(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(o){return o.then((function(o){var i=n+ ++a/e.length*(r-n);return t(i),o})),o})))}function nh(e,t){return v(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c;return y(this,(function(d){switch(d.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?w().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),a=0,o=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return i=d.sent(),[3,4];case 2:return[4,th(r,t.onProgress,a,o)];case 3:i=d.sent(),d.label=4;case 4:return s=i.map((function(e){return e.arrayBuffer()})),u=.5,l=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return c=d.sent(),[3,8];case 6:return[4,th(s,t.onProgress,u,l)];case 7:c=d.sent(),d.label=8;case 8:return[2,c]}}))}))}function rh(e){var t=this;return function(n,r,a){return void 0===r&&(r=""),v(t,void 0,void 0,(function(){var t,o,i,s,u,l,c,d,h,f;return y(this,(function(p){switch(p.label){case 0:if(t=n.map((function(){return!1})),o={},i=null!=a?a.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,l=bd[u]*F(e.shape),c=function(){t[n]=!0,null==o[n]&&(o[n]=[]),o[n].push({manifestEntry:e,groupOffset:r,sizeBytes:l})};null!=a?a.forEach((function(t,n){t===e.name&&(c(),i[n]=!0)})):c(),s.push(e.name),r+=l}))})),!i.every((function(e){return e})))throw u=a.filter((function(e,t){return!i[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),c=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;c.push(t)}))})),[4,e(c)];case 1:return d=p.sent(),h={},f=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=d[f+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),u=0,l=0;l<t;l++){var c=new Uint8Array(d[f+l]);s.set(c,u),u+=c.byteLength}o[e].forEach((function(e){var t=_d(i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]})),f+=t})),[2,h]}}))}))}}Id.registerSaveRouter((function(e){return w().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith($d.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new $d(e)}(e.slice($d.URL_SCHEME.length)):null}));var ah=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(O("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=w().platform.fetch,O(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&O(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return v(this,void 0,void 0,(function(){var t,n,r,a;return y(this,(function(o){switch(o.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((a=o.sent()).ok)return[2,{modelArtifactsInfo:Ad(e),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}}))}))},e.prototype.load=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,s,u,l,c,d;return y(this,(function(h){switch(h.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=h.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");h.label=2;case 2:return h.trys.push([2,4,,5]),[4,e.json()];case 3:return t=h.sent(),[3,5];case 4:throw h.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,a=t.weightsManifest,o=t.generatedBy,i=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==a)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==a?[3,7]:[4,this.loadWeights(a)];case 6:d=h.sent(),l=d[0],c=d[1],h.label=7;case 7:return[2,{modelTopology:r,weightSpecs:l,weightData:c,userDefinedMetadata:u,generatedBy:o,convertedBy:i,format:s}]}}))}))},e.prototype.loadWeights=function(e){return v(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,l,c,d;return y(this,(function(h){switch(h.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],a=n[1],o=this.weightPathPrefix||r,i=[],s=0,u=e;s<u.length;s++)l=u[s],i.push.apply(i,l.weights);return c=[],e.forEach((function(e){e.paths.forEach((function(e){c.push(o+e+a)}))})),[4,nh(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=h.sent(),[2,[i,Ed(d)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function oh(e){return null!=e.match(ah.URL_SCHEME_REGEX)}var ih=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return oh(e)})):oh(e))?sh(e,{onProgress:t}):null};function sh(e,t){return new ah(e,t)}Id.registerSaveRouter(ih),Id.registerLoadRouter(ih);var uh,lh=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),ch=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),dh=Object.freeze({browserFiles:function(e){return new eh(e)},browserHTTPRequest:function(e,t){return sh(e,t)},concatenateArrayBuffers:Ed,decodeWeights:_d,encodeWeights:function(e,t){return v(this,void 0,void 0,(function(){var n,r,a,o,i,s=this;return y(this,(function(u){switch(u.label){case 0:for(n=[],r=[],a=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),o=function(o){var i=a[o],u=Array.isArray(e)?e[o].tensor:e[i];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype)throw new Error("Unsupported dtype in weight '"+i+"': "+u.dtype);var l={name:i,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var c=new Promise((function(e){return v(s,void 0,void 0,(function(){var t,n,r,a,o,i,s;return y(this,(function(l){switch(l.label){case 0:return[4,u.bytes()];case 1:for(t=l.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+wd*t.length,r=new Uint8Array(n),a=0,o=0;o<t.length;o++)i=t[o],s=new Uint8Array(new Uint32Array([i.length]).buffer),r.set(s,a),a+=wd,r.set(i,a),a+=i.length;return e(r),[2]}}))}))}));r.push(c)}else r.push(u.data());null!=t&&(l.group=t),n.push(l)},i=0;i<a.length;++i)o(i);return[4,Promise.all(r)];case 1:return[2,{data:xd(u.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new lh(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new lh({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new lh({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Id.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:Ad,getSaveHandlers:function(e){return Id.getSaveHandlers(e)},http:sh,isHTTPScheme:oh,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),v(this,void 0,void 0,(function(){return y(this,(function(a){return[2,rh((function(e){return nh(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return Id.registerLoadRouter(e)},registerSaveRouter:function(e){return Id.registerSaveRouter(e)},weightsLoaderFactory:rh,withSaveHandler:function(e){return new ch(e)},copyModel:function(e,t){return v(this,void 0,void 0,(function(){return y(this,(function(n){return[2,Nd(e,t,!1)]}))}))},listModels:function(){return v(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return y(this,(function(s){switch(s.label){case 0:e=zd.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(a=r[n],[4,zd.getManager(a).listModels()]):[3,4];case 2:for(i in o=s.sent())t[a+Rd+i]=o[i];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return v(this,void 0,void 0,(function(){return y(this,(function(n){return[2,Nd(e,t,!0)]}))}))},removeModel:function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){return t=Td(e),[2,zd.getManager(t.scheme).removeModel(t.path)]}))}))}}),hh=mn({confusionMatrix_:function(e,t,n){var r=nn(e,"labels","confusionMatrix"),a=nn(t,"predictions","confusionMatrix");O(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),O(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),O(1===a.rank,(function(){return"Expected the rank of predictions to be 1, but got "+a.rank})),O(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."})),O(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var o=ir(r.asType("int32"),n),i=ir(a.asType("int32"),n);return o.transpose().matMul(i).asType("int32")}}),fh=(Object.freeze({confusionMatrix:hh}),mn({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,o=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);i=!0}if(a&&a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=C("FromPixels",Ue.backendName))return Ue.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],d=l[1];if(i?s=e.getContext("2d").getImageData(0,0,c,d).data:r||n?s=e.data:(o||a)&&(null==uh&&(uh=document.createElement("canvas").getContext("2d")),uh.canvas.width=c,uh.canvas.height=d,uh.drawImage(e,0,0,c,d),s=uh.getImageData(0,0,c,d).data),4===t)u=new Int32Array(s);else{var h=c*d;u=new Int32Array(h*t);for(var f=0;f<h;f++)for(var p=0;p<t;++p)u[f*t+p]=s[4*f+p]}return Cn(u,[d,c,t],"int32")}})),ph=Object.freeze({toPixels:function(e,t){return v(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,b,w,_,x,k,C,E;return y(this,(function(y){switch(y.label){case 0:if(n=nn(e,"img","toPixels"),e instanceof Ie||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],o=r[1],(i=2===n.rank?1:n.shape[2])>4||2===i)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,n.data()];case 1:return s=y.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(c=y.sent(),d=c[0],h=c[1],f=d[0],p=h[0],u.dispose(),l.dispose(),"float32"===n.dtype){if(f<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+p+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(f<0||p>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+p+"].")}for(m="float32"===n.dtype?255:1,g=new Uint8ClampedArray(o*a*4),v=0;v<a*o;++v)b=void 0,w=void 0,_=void 0,x=void 0,1===i?(b=s[v]*m,w=s[v]*m,_=s[v]*m,x=255):3===i?(b=s[3*v]*m,w=s[3*v+1]*m,_=s[3*v+2]*m,x=255):4===i&&(b=s[4*v]*m,w=s[4*v+1]*m,_=s[4*v+2]*m,x=s[4*v+3]*m),g[0+(k=4*v)]=Math.round(b),g[k+1]=Math.round(w),g[k+2]=Math.round(_),g[k+3]=Math.round(x);return null!=t&&(t.width=o,t.height=a,C=t.getContext("2d"),E=new ImageData(g,o,a),C.putImageData(E,0,0)),n!==e&&n.dispose(),[2,g]}}))}))},fromPixels:fh}),mh=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),gh=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function vh(e){O(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),O("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),O(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),gh.register(e)}Object.freeze({Serializable:mh,SerializationMap:gh,registerClass:vh});function yh(){return 32===Ue.backend.floatPrecision()?.001:.1}function bh(e,t,n){var r=!0;if((Q(e)||Q(t))&&(r=!1),Q(e)&&Q(t)&&(r=!0),r){var a=e.constructor.name,o=t.constructor.name;if(a!==o)throw new Error("Arrays are of different type. Actual: "+a+". Expected: "+o)}if(Array.isArray(e)&&Array.isArray(t)){var i=en(e),s=en(t);if(!j(i,s))throw new Error("Arrays have different shapes. Actual: ["+i+"]. Expected: ["+s+"]")}var u=Q(e)?e:P(e),l=Q(t)?t:P(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+l.length+".\nActual:   "+u+".\nExpected: "+l+".");for(var c=0;c<l.length;++c){var d=u[c],h=l[c];if(!n(d,h))throw new Error("Arrays differ: actual["+c+"] = "+d+", expected["+c+"] = "+h+".\nActual:   "+u+".\nExpected: "+l+".")}}function wh(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=yh()),bh(e,t,(function(e,t){return wh(e,t,n)}))},testEpsilon:yh,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return te(e)||te(e[0])||te(t)||te(t[0])?bh(e,n,(function(e,t){return e==t})):bh(e,t,(function(e,t){return wh(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=yh()),!wh(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:ni,webgl_util:Xt,forceHalfFloat:function(){w().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:vs,setWebGLContext:$e,GPGPUContext:ri});var _h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),a=r.value,o=r.grads;if(null!=n){var i=n.map((function(e){return{name:e.name,tensor:o[e.name]}}));this.applyGradients(i)}else this.applyGradients(o);return Qt(o),t?a:(a.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){O(oe(e),(function(){return"The f passed in variableGrads(f) must be a function"})),O(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Me})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Ue.registeredVariables)t.push(Ue.registeredVariables[r]);var a=n?t.filter((function(e){return!e.trainable})):null,o=t.length;O((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."}));var i=Ue.gradients(e,t,null,!0),s=i.value,u=i.grads;O(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),O(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var l={};return t.forEach((function(e,t){null!=u[t]&&(l[e.name]=u[t])})),null!=a&&a.forEach((function(e){return l[e.name]=null})),{value:s,grads:l}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&Qt(this.iterations_)},t.prototype.saveIterations=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:_n(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(mh);Object.defineProperty(_h,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var xh=function(e){function t(t,n,r){void 0===r&&(r=null);var a=e.call(this)||this;return a.learningRate=t,a.rho=n,a.epsilon=r,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==r&&(a.epsilon=Ue.backend.epsilon()),a}return g(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ue.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Jt((function(){return Tn(a).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Jt((function(){return Tn(a).variable(!1)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Jt((function(){var e=i.mul(t.rho).add(o.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(i.add(t.epsilon).sqrt()).mul(o),r=s.mul(t.rho).add(n.square().mul(1-t.rho));i.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(a);a.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Qt(this.accumulatedGrads.map((function(e){return e.variable}))),Qt(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(_h);vh(xh);var kh=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return g(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ue.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Jt((function(){return In(a.shape,t.initialAccumulatorValue).variable(!1)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable;Jt((function(){var e=i.add(o.square());i.assign(e);var n=o.div(e.add(Ue.backend.epsilon()).sqrt()).mul(-t.learningRate).add(a);a.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&Qt(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(_h);vh(kh);var Ch=function(e){function t(t,n,r,a){void 0===a&&(a=null);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=a,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],Jt((function(){o.accBeta1=_n(n).variable(),o.accBeta2=_n(r).variable()})),null==a&&(o.epsilon=Ue.backend.epsilon()),o}return g(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Jt((function(){var r=Lu(1,t.accBeta1),a=Lu(1,t.accBeta2);n.forEach((function(n,o){var i=Ue.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:n+"/m",variable:Jt((function(){return Tn(i).variable(!1)}))}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:n+"/v",variable:Jt((function(){return Tn(i).variable(!1)}))});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,l=t.accumulatedSecondMoment[o].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),d=l.mul(t.beta2).add(s.square().mul(1-t.beta2)),h=c.div(r),f=d.div(a);u.assign(c),l.assign(d);var p=h.div(f.sqrt().add(t.epsilon)).mul(-t.learningRate).add(i);i.assign(p)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Qt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Qt(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){var t,n=this;return y(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),Jt((function(){n.accBeta1.assign(Fu(n.beta1,n.iterations_+1)),n.accBeta2.assign(Fu(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(_h);vh(Ch);var Eh=function(e){function t(t,n,r,a,o){void 0===a&&(a=null),void 0===o&&(o=0);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=a,i.decay=o,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Jt((function(){i.iteration=_n(0).variable(),i.accBeta1=_n(n).variable()})),null==a&&(i.epsilon=Ue.backend.epsilon()),i}return g(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Jt((function(){var r=Lu(1,t.accBeta1),a=Eu(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,o){var i=Ue.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:n+"/m",variable:Tn(i).variable(!1)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:n+"/v",variable:Tn(i).variable(!1)});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,l=t.accumulatedWeightedInfNorm[o].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),d=l.mul(t.beta2),h=s.abs(),f=d.maximum(h);u.assign(c),l.assign(f);var p=a.div(r).mul(c.div(f.add(t.epsilon))).add(i);i.assign(p)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Qt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Qt(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(_h);vh(Eh);var Sh=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return g(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=Ue.registeredVariables[n];Jt((function(){var e=t.c.mul(a).add(o);o.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return Ue.keep(e)}(_n(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(_h);vh(Sh);var Ah=function(e){function t(t,n,r){void 0===r&&(r=!1);var a=e.call(this,t)||this;return a.learningRate=t,a.momentum=n,a.useNesterov=r,a.accumulations=[],a.m=_n(a.momentum),a}return g(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ue.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:Jt((function(){return Tn(a).variable(!1)}))});var o=t.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&Jt((function(){var e,n=t.m.mul(o).add(i);e=t.useNesterov?t.c.mul(i.add(n.mul(t.m))).add(a):t.c.mul(n).add(a),o.assign(n),a.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Qt(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(Sh);vh(Ah);var Ih=function(e){function t(t,n,r,a,o){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===a&&(a=null),void 0===o&&(o=!1);var i=e.call(this)||this;if(i.learningRate=t,i.decay=n,i.momentum=r,i.epsilon=a,i.accumulatedMeanSquares=[],i.accumulatedMoments=[],i.accumulatedMeanGrads=[],i.centered=o,null==a&&(i.epsilon=Ue.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return i}return g(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ue.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Jt((function(){return Tn(a).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:Jt((function(){return Tn(a).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Jt((function(){return Tn(a).variable(!1)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Jt((function(){var e=i.mul(t.decay).add(o.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(o.mul(1-t.decay)),l=s.mul(t.momentum).add(o.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));i.assign(e),n.assign(u),s.assign(l);var c=a.sub(l);a.assign(c)}else{var d=i.mul(t.decay).add(o.square().mul(1-t.decay));l=s.mul(t.momentum).add(o.mul(t.learningRate).div(d.add(t.epsilon).sqrt())),i.assign(d),s.assign(l),c=a.sub(l),a.assign(c)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Qt(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Qt(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Qt(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(_h);vh(Ih);var Rh=function(){function e(){}return e.sgd=function(e){return new Sh(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new Ah(e,t,n)},e.rmsprop=function(e,t,n,r,a){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===a&&(a=!1),new Ih(e,t,n,r,a)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Ch(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new xh(e,t,n)},e.adamax=function(e,t,n,r,a){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===a&&(a=0),new Eh(e,t,n,r,a)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new kh(e,t)},e}();Rh.sgd,Rh.momentum,Rh.adadelta,Rh.adagrad,Rh.rmsprop,Rh.adamax,Rh.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;Ie.prototype.squaredDifference=function(e){return ws(this,e)},Se=rd;var zh=function(e,t){return zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},zh(e,t)};function Th(e,t){function n(){this.constructor=e}zh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Nh=function(){return Nh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Nh.apply(this,arguments)};function Oh(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(g){o(g)}}function s(e){try{u(r.throw(e))}catch(g){o(g)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function Dh(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(g){o=[6,g],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Mh(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}var Ph=function(){function e(e,t){if(!Vh(e)||!Vh(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function Fh(e,t){return e instanceof Ie&&e.shape.length===t}function jh(e){return Fh(e,3)}function Bh(e){return Fh(e,4)}function Lh(e){return e%2===0}function Wh(e){return e&&e.width&&e.height}function Gh(e){return e.reduce((function(e,t){return e.add(t)}),new qh(0,0)).div(new qh(e.length,e.length))}function Hh(e,t,n){return Array(e).fill(0).map((function(e,r){return t+r*n}))}function Vh(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function Uh(e){return Vh(e)&&0<=e&&e<=1}var qh=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),Kh=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},a=[r.left,r.top,r.right,r.bottom].every(Vh),o=[r.x,r.y,r.width,r.height].every(Vh);if(!o&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var i=o?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=i[0],u=i[1],l=i[2],c=i[3];e.assertIsValidBox({x:s,y:u,width:l,height:c},"Box.constructor",n),this._x=s,this._y=u,this._width=l,this._height=c}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Vh)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new qh(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new qh(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new qh(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new qh(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.round(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.floor(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,a=t.width,o=t.height,i=Math.abs(a-o);return a<o&&(n-=i/2,a+=i),o<a&&(r-=i/2,o+=i),new e({x:n,y:r,width:a,height:o})},e.prototype.rescale=function(t){var n=Wh(t)?t.width:t,r=Wh(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,a=r.x,o=r.y,i=r.right,s=r.bottom,u=Math.max(a,0),l=Math.max(o,0),c=i-u,d=s-l;return new e({x:u,y:l,width:Math.min(c,t-u),height:Math.min(d,n-l)}).floor()},e.prototype.shift=function(t,n){var r=this.width,a=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:a})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,a=n,o=r,i=this.left,s=this.top,u=this.right,l=this.bottom;return u>t&&(a=-u+t+n,u=t),l>e&&(o=-l+e+r,l=e),i<1&&(o=2-i,i=1),s<1&&(o=2-s,s=1),{dy:1,edy:o,dx:1,edx:a,y:s,ey:l,x:i,ex:u,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),Xh=function(e){function t(t,n,r,a,o){return void 0===o&&(o=!1),e.call(this,{left:t,top:n,right:r,bottom:a},o)||this}return Th(t,e),t}(Kh),Zh=function(){function e(e,t,n,r,a){this._imageDims=new Ph(a.width,a.height),this._score=e,this._classScore=t,this._className=n,this._box=new Kh(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Kh(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),Yh=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return Th(t,e),t.prototype.forSize=function(n,r){var a=e.prototype.forSize.call(this,n,r);return new t(a.score,a.relativeBox,a.imageDims)},t}(Zh);function Jh(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function Qh(e,t,n,r){void 0===r&&(r=!0);for(var a=t.map((function(e,t){return{score:e,boxIndex:t}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.boxIndex})),o=[],i=function(){var t=a.pop();o.push(t);for(var i=a,s=[],u=0;u<i.length;u++){var l=i[u],c=e[t],d=e[l];s.push(Jh(c,d,r))}a=a.filter((function(e,t){return s[t]<=n}))};a.length>0;)i();return o}function $h(e,t){return Jt((function(){var n=t[0],r=t[1],a=t[2],o=In(Mh(e.shape.slice(0,3),[1]),n),i=In(Mh(e.shape.slice(0,3),[1]),r),s=In(Mh(e.shape.slice(0,3),[1]),a),u=Nn([o,i,s],3);return Lu(e,u)}))}function ef(e){return 1/(1+Math.exp(-e))}var tf,nf=function(e){function t(t,n,r,a,o){return void 0===o&&(o=!1),e.call(this,{x:t,y:n,width:r,height:a},o)||this}return Th(t,e),t}(Kh),rf=function(){function e(e,t,n){void 0===n&&(n=new qh(0,0));var r=t.width,a=t.height;this._imgDims=new Ph(r,a),this._shift=n,this._positions=e.map((function(e){return e.mul(new qh(r,a)).add(n)}))}return Object.defineProperty(e.prototype,"shift",{get:function(){return new qh(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map((function(t){return t.sub(e._shift).div(new qh(e.imageWidth,e.imageHeight))}))},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new qh(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof Yh?e.box.floor():new Kh(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),a=r.useDlibAlignment,o=r.minBoxPadding;return a?this.alignDlib():this.alignMinBbox(o)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],a=function(e){return r.sub(e).magnitude()},o=(a(t)+a(n))/2,i=Math.floor(o/.45),s=Gh(e),u=Math.floor(Math.max(0,s.x-.5*i)),l=Math.floor(Math.max(0,s.y-.43*i));return new nf(u,l,Math.min(i,this.imageWidth+u),Math.min(i,this.imageHeight+l))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y})),r=t.reduce((function(e,t){return t<e?t:e}),1/0),a=n.reduce((function(e,t){return t<e?t:e}),1/0),o=t.reduce((function(e,t){return e<t?t:e}),0),i=n.reduce((function(e,t){return e<t?t:e}),0);return new Xh(r,a,o,i)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],Gh([e[3],e[4]])]},t}(rf),of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Gh)},t}(rf),sf=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}(this.distance)+")":"")},e}(),uf=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return Th(t,e),t.assertIsValidLabeledBox=function(e,t){if(Kh.assertIsValidBox(e,t),!Vh(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(Kh),lf=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some((function(e){return!(e instanceof Float32Array)})))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map((function(e){return Array.from(e)}))}},e.fromJSON=function(t){var n=t.descriptors.map((function(e){return new Float32Array(e)}));return new e(t.label,n)},e}();!function(e){function t(t,n,r,a){var o=e.call(this,t,n)||this;return o._score=r,o._classScore=a,o}Th(t,e),t.assertIsValidPredictedBox=function(e,t){if(uf.assertIsValidLabeledBox(e,t),!Uh(e.score)||!Uh(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(uf);function cf(e,t){var n={detection:t};return Object.assign({},e,n)}function df(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function hf(e){var t="";if(!e)try{e=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(r){t=r.toString()}return{readFile:e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){return e?r(e):n(t)}))}))}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)}}}function ff(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=hf();return Nh({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},a)}function pf(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function mf(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function gf(e){tf=e}function vf(){pf()&&gf(df()),mf()&&gf(ff())}var yf,bf={getEnv:function(){if(!tf)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return tf},setEnv:gf,initialize:vf,createBrowserEnv:df,createFileSystem:hf,createNodejsEnv:ff,monkeyPatch:function(e){if(tf||vf(),!tf)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?tf.Canvas:t,r=e.Image,a=void 0===r?tf.Image:r;tf.Canvas=n,tf.Image=a,tf.createCanvasElement=e.createCanvasElement||function(){return new n},tf.createImageElement=e.createImageElement||function(){return new a},tf.ImageData=e.ImageData||tf.ImageData,tf.Video=e.Video||tf.Video,tf.fetch=e.fetch||tf.fetch,tf.readFile=e.readFile||tf.readFile},isBrowser:pf,isNodejs:mf};function wf(e){return bf.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function _f(e){var t=bf.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=wf(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var a=r.getContext("2d");if(!a)throw new Error("resolveContext2d - canvas 2d context is null");return a}vf(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(yf||(yf={}));var xf=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,a=e.fontSize,o=e.fontStyle,i=e.padding;this.anchorPosition=t||yf.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=a||14,this.fontStyle=o||"Georgia",this.padding=i||4},kf=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new xf(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map((function(t){return e.measureText(t).width})).reduce((function(e,t){return e<t?t:e}),0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===yf.BOTTOM_RIGHT||n===yf.TOP_RIGHT,a=n===yf.BOTTOM_LEFT||n===yf.BOTTOM_RIGHT,o=this.measureWidth(e),i=this.measureHeight(),s=r?this.anchor.x-o:this.anchor.x,u=a?this.anchor.y-i:this.anchor.y;if(t){var l=t.width,c=t.height;return{x:Math.max(Math.min(s,l-o),0),y:Math.max(Math.min(u,c-i),0)}}return{x:s,y:u}},e.prototype.draw=function(e){var t=wf(e),n=_f(t),r=this.options,a=r.backgroundColor,o=r.fontColor,i=r.fontSize,s=r.fontStyle,u=r.padding;n.font=i+"px "+s;var l=this.measureWidth(n),c=this.measureHeight();n.fillStyle=a;var d=this.getUpperLeft(n,t);n.fillRect(d.x,d.y,l,c),n.fillStyle=o,this.text.forEach((function(e,t){var r=u+d.x,a=u+d.y+(t+1)*i;n.fillText(e,r,a)}))},e}(),Cf=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,a=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var o={anchorPosition:yf.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new xf(Object.assign({},o,a))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new Kh(e),this.options=new Cf(t)}e.prototype.draw=function(e){var t=_f(e),n=this.options,r=n.boxColor,a=n.lineWidth,o=this.box,i=o.x,s=o.y,u=o.width,l=o.height;t.strokeStyle=r,t.lineWidth=a,t.strokeRect(i,s,u,l);var c=this.options.label;c&&new kf([c],{x:i-a/2,y:s},this.options.drawLabelOptions).draw(e)}}();function Ef(e){var t=bf.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function Sf(e){var t=bf.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new Ph(e.naturalWidth,e.naturalHeight):e instanceof r?new Ph(e.videoWidth,e.videoHeight):new Ph(e.width,e.height)}function Af(e){var t=e.width,n=e.height,r=(0,bf.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function If(e,t){var n=bf.getEnv().ImageData;if(!(e instanceof n)&&!Ef(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||Sf(e),a=r.width,o=r.height,i=Af({width:a,height:o});return e instanceof n?_f(i).putImageData(e,0,0):_f(i).drawImage(e,0,0,a,o),i}function Rf(e,t){return Oh(this,void 0,void 0,(function(){var n,r,a,o,i,s;return Dh(this,(function(u){switch(u.label){case 0:return n=t||bf.getEnv().createCanvasElement(),r=e.shape.slice(Bh(e)?1:0),a=r[0],o=r[1],i=r[2],s=Jt((function(){return e.as3D(a,o,i).toInt()})),[4,ph.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}}))}))}function zf(e){var t=bf.getEnv(),n=t.Image,r=t.Canvas,a=t.Video;return e instanceof n||e instanceof r||e instanceof a}var Tf=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((function(e,t){if(jh(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(Bh(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var a=e instanceof bf.getEnv().Canvas?e:If(e);n._canvases[t]=a,n._inputDimensions[t]=[a.height,a.width,3]}))}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return Hh(this.batchSize,0,1).map((function(t,n){return e.getReshapedInputDimensions(n)}))},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,a=t/Math.max(r,n);return new Ph(Math.round(n*a),Math.round(r*a))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,Jt((function(){var r=Hh(n.batchSize,0,1).map((function(r){var a=n.getInput(r);if(a instanceof Ie){var o=Bh(a)?a:a.expandDims();return o=function(e,t){return void 0===t&&(t=!1),Jt((function(){var n=e.shape.slice(1),r=n[0],a=n[1];if(r===a)return e;var o=Math.abs(r-a),i=Math.round(o*(t?.5:1)),s=r>a?2:1,u=function(t){var n=e.shape.slice();return n[s]=t,In(n,0)},l=u(i),c=o-l.shape[s],d=[t&&c?u(c):null,e,l].filter((function(e){return!!e})).map((function(e){return e.toFloat()}));return Nn(d,s)}))}(o,t),o.shape[1]===e&&o.shape[2]===e||(o=Xc.resizeBilinear(o,[e,e])),o.as3D(e,e,3)}if(a instanceof bf.getEnv().Canvas)return ph.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=bf.getEnv(),a=r.Image,o=r.Canvas;if(!(e instanceof a||e instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var i=Sf(e),s=t/Math.max(i.height,i.width),u=s*i.width,l=s*i.height,c=Af({width:t,height:t}),d=e instanceof o?e:If(e),h=Math.abs(u-l)/2,f=n&&u<l?h:0,p=n&&l<u?h:0;return _f(c).drawImage(d,f,p,u,l),c}(a,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+a)})),a=br(r.map((function(e){return e.toFloat()}))).as4D(n.batchSize,e,e,3);return a}))},e}();function Nf(e){return Oh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(a){switch(a.label){case 0:if(e instanceof Tf)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(wf)).forEach((function(e,r){if(!zf(e)&&!jh(e)&&!Bh(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(Bh(e)){var a=e.shape[0];if(1!==a)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+a+" passed, but not supported in input array")}})),[4,Promise.all(r.map((function(e){return zf(e)&&(t=e,new Promise((function(e,n){if(t instanceof bf.getEnv().Canvas||Ef(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",a),e(t))}function a(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",a),n(e))}t.addEventListener("load",r),t.addEventListener("error",a)})));var t})))];case 1:return a.sent(),[2,new Tf(r,Array.isArray(e))]}}))}))}function Of(e,t){return Oh(this,void 0,void 0,(function(){var n,r,a,o,i,s;return Dh(this,(function(u){switch(u.label){case 0:return n=bf.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,Nf(e)];case 1:if((a=u.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(o=a.getInput(0))instanceof n?(i=o,[3,4]):[3,2];case 2:return[4,Rf(o)];case 3:i=u.sent(),u.label=4;case 4:r=i,u.label=5;case 5:return s=_f(r),[2,t.map((function(e){return e instanceof Yh?e.forSize(r.width,r.height).box.floor():e})).map((function(e){return e.clipAtImageBorders(r.width,r.height)})).map((function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=Af({width:r,height:a});return _f(o).putImageData(s.getImageData(t,n,r,a),0,0),o}))]}}))}))}function Df(e,t){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(n){if(!jh(e)&&!Bh(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Bh(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Jt((function(){var n=e.shape.slice(Bh(e)?1:0),r=n[0],a=n[1],o=n[2],i=t.map((function(e){return e instanceof Yh?e.forSize(a,r).box:e})).map((function(e){return e.clipAtImageBorders(a,r)})).map((function(t){var n=t.x,i=t.y,s=t.width,u=t.height;return Pl(e.as3D(r,a,o),[i,n,0],[u,s,o])}));return i}))]}))}))}function Mf(e,t){return Oh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return[4,(0,bf.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}}))}))}function Pf(e){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return[4,Mf(e)];case 1:return[2,t.sent().json()]}}))}))}function Ff(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",a=(e=e.replace(r,"")).split("/").filter((function(e){return e})),o=e.endsWith(".json")?a[a.length-1]:n,i=r+(e.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return{modelBaseUri:i=e.startsWith("/")?"/"+i:i,manifestUri:"/"===i?"/"+o:i+"/"+o}}function jf(e,t){return Oh(this,void 0,void 0,(function(){var n,r,a,o;return Dh(this,(function(i){switch(i.label){case 0:return n=Ff(e,t),r=n.manifestUri,a=n.modelBaseUri,[4,Pf(r)];case 1:return o=i.sent(),[2,dh.loadWeights(o,a)]}}))}))}var Bf=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,a=n.objProp;r[a].dispose(),r[a]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map((function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}}))},e.prototype.getTrainableParams=function(){return this.getParamList().filter((function(e){return e.tensor instanceof Me}))},e.prototype.getFrozenParams=function(){return this.getParamList().filter((function(e){return!(e.tensor instanceof Me)}))},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach((function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())}))},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach((function(t){var n=t.path,r=t.tensor,a=bn(r.dataSync());r.dispose(),e.reassignParamFromPath(n,a)}))},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach((function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()})),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map((function(e){var t=e.tensor;return Array.from(t.dataSync())})).reduce((function(e,t){return e.concat(t)})))},e.prototype.load=function(e){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.loadFromUri=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,jf(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}}))}))},e.prototype.loadFromDisk=function(e){return Oh(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,l,c;return Dh(this,(function(d){switch(d.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=bf.getEnv().readFile,n=Ff(e,this.getDefaultModelName()),r=n.manifestUri,a=n.modelBaseUri,o=function(e){return Promise.all(e.map((function(e){return t(e).then((function(e){return e.buffer}))})))},i=dh.weightsLoaderFactory(o),l=(u=JSON).parse,[4,t(r)];case 1:return s=l.apply(u,[d.sent().toString()]),[4,i(s,a)];case 2:return c=d.sent(),this.loadFromWeightMap(c),[2]}}))}))},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce((function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}}),{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof Ie))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function Lf(e,t,n){return Jt((function(){var r=ml(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=_u(r,t.bias)}))}function Wf(e,t,n){return void 0===n&&(n=!1),Jt((function(){var r=$l(n?_u(ul(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Lf(e,t.conv0,[2,2])),a=Lf(r,t.conv1,[1,1]),o=Lf($l(_u(r,a)),t.conv2,[1,1]);return $l(_u(r,_u(a,o)))}))}function Gf(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),Jt((function(){var a=$l(n?_u(ul(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):Lf(e,t.conv0,r?[2,2]:[1,1])),o=Lf(a,t.conv1,[1,1]),i=Lf($l(_u(a,o)),t.conv2,[1,1]),s=Lf($l(_u(a,_u(o,i))),t.conv3,[1,1]);return $l(_u(a,_u(o,_u(i,s))))}))}function Hf(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),Jt((function(){var a=_u(ul(e,t.filters,[1,1],n),t.bias);return r?$l(a):a}))}function Vf(e,t){Object.keys(e).forEach((function(n){t.some((function(e){return e.originalPath===n}))||e[n].dispose()}))}function Uf(e,t){return function(n,r,a,o){var i=En(e(n*r*a*a),[a,a,n,r]),s=xn(e(r));return t.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:i,bias:s}}}function qf(e,t){return function(n,r,a){var o=kn(e(n*r),[n,r]),i=xn(e(r));return t.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:o,bias:i}}}var Kf=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function Xf(e,t){return function(n,r,a){var o=En(e(9*n),[3,3,n,1]),i=En(e(n*r),[1,1,n,r]),s=xn(e(r));return t.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new Kf(o,i,s)}}function Zf(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),a=e(t+"/bias",1);return new Kf(n,r,a)}}function Yf(e,t){return function(n,r,a){var o=e[n];if(!Fh(o,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+o);return t.push({originalPath:n,paramPath:a||n}),o}}function Jf(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function Qf(e,t){var n=Uf(e,t),r=Xf(e,t);function a(e,t,a,o){return void 0===o&&(o=!1),{conv0:o?n(e,t,3,a+"/conv0"):r(e,t,a+"/conv0"),conv1:r(t,t,a+"/conv1"),conv2:r(t,t,a+"/conv2")}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:function(e,t,n,o){void 0===o&&(o=!1);var i=a(e,t,n,o);return{conv0:i.conv0,conv1:i.conv1,conv2:i.conv2,conv3:r(t,t,n+"/conv3")}}}}function $f(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function ep(e,t){var n=Yf(e,t),r=$f(n),a=Zf(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):a(e+"/conv0"),conv1:a(e+"/conv1"),conv2:a(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):a(e+"/conv0"),conv1:a(e+"/conv1"),conv2:a(e+"/conv2"),conv3:a(e+"/conv3")}}}}var tp=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return Th(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return Jt((function(){var n=Gf($h(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(_n(255)),t.dense0,!0);return n=Gf(n,t.dense1),n=Gf(n,t.dense2),n=Gf(n,t.dense3),n=Rl(n,[7,7],[2,2],"valid")}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=ep(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Vf(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=Jf(e),r=n.extractWeights,a=n.getRemainingWeights,o=Qf(r,t).extractDenseBlock4Params,i=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2"),l=o(128,256,"dense3");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:u,dense3:l}}}(e)},t}(Bf);function np(e,t){return Jt((function(){return _u(yl(e,t.weights),t.bias)}))}function rp(e){var t={},n={};return Object.keys(e).forEach((function(r){(r.startsWith("fc")?n:t)[r]=e[r]})),{featureExtractorMap:t,classifierMap:n}}var ap=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return Th(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return Jt((function(){var r=e instanceof Tf?t.faceFeatureExtractor.forwardInput(e):e;return np(r.as2D(r.shape[0],-1),n.fc)}))},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],a=Jf(e),o=a.extractWeights,i=a.getRemainingWeights,s=qf(o,r)(t,n,"fc");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=rp(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=Yf(e,t),r={fc:function(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}("fc")};return Vf(e,t),{params:r,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,a=e.slice(0,e.length-r),o=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(o)},t}(Bf),op=["neutral","happy","sad","angry","fearful","disgusted","surprised"],ip=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);op.forEach((function(n,r){t[n]=e[r]}))}return e.prototype.asSortedArray=function(){var e=this;return op.map((function(t){return{expression:t,probability:e[t]}})).sort((function(e,t){return t.probability-e.probability}))},e}(),sp=function(e){function t(t){return void 0===t&&(t=new tp),e.call(this,"FaceExpressionNet",t)||this}return Th(t,e),t.prototype.forwardInput=function(e){var t=this;return Jt((function(){return Gr(t.runNet(e))}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictExpressions=function(e){return Oh(this,void 0,void 0,(function(){var t,n,r,a,o=this;return Dh(this,(function(i){switch(i.label){case 0:return[4,Nf(e)];case 1:return t=i.sent(),[4,this.forwardInput(t)];case 2:return n=i.sent(),[4,Promise.all(xr(n).map((function(e){return Oh(o,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 3:return r=i.sent(),n.dispose(),a=r.map((function(e){return new ip(e)})),[2,t.isBatchInput?a:a[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(ap);function up(e,t){var n={expressions:t};return Object.assign({},e,n)}function lp(e){return function(e){return e.detection instanceof Yh}(e)&&e.landmarks instanceof rf&&e.unshiftedLandmarks instanceof rf&&e.alignedRect instanceof Yh}function cp(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),a=r.align(),o=e.detection.imageDims,i={landmarks:r,unshiftedLandmarks:t,alignedRect:new Yh(e.detection.score,a.rescale(o.reverse()),o)};return Object.assign({},e,i)}function dp(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach((function(n,r){var a=n.x,o=n.y,i=t[r];e.moveTo(i.x,i.y),e.lineTo(a,o)})),n){var r=t[t.length-1],a=t[0];if(!r||!a)return;e.moveTo(r.x,r.y),e.lineTo(a.x,a.y)}e.stroke()}var hp=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,a=void 0===r||r,o=e.lineWidth,i=e.lineColor,s=e.pointSize,u=e.pointColor;this.drawLines=n,this.drawPoints=a,this.lineWidth=o||1,this.pointSize=s||2,this.lineColor=i||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"};!function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new hp(t)}e.prototype.draw=function(e){var t=_f(e),n=this.options,r=n.drawLines,a=n.drawPoints,o=n.lineWidth,i=n.lineColor,s=n.pointSize,u=n.pointColor;if(r&&this.faceLandmarks instanceof of&&(t.strokeStyle=i,t.lineWidth=o,dp(t,this.faceLandmarks.getJawOutline()),dp(t,this.faceLandmarks.getLeftEyeBrow()),dp(t,this.faceLandmarks.getRightEyeBrow()),dp(t,this.faceLandmarks.getNose()),dp(t,this.faceLandmarks.getLeftEye(),!0),dp(t,this.faceLandmarks.getRightEye(),!0),dp(t,this.faceLandmarks.getMouth(),!0)),a){t.strokeStyle=u,t.fillStyle=u;this.faceLandmarks.positions.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()}))}}}();function fp(e,t){var n=[],r=Jf(e),a=r.extractWeights,o=r.getRemainingWeights,i=function(e,t){var n=Uf(e,t),r=Xf(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,a){return{separable_conv0:r(e,t,a+"/separable_conv0"),separable_conv1:r(t,t,a+"/separable_conv1"),expansion_conv:n(e,t,1,a+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(a,n),s=i.extractConvParams,u=i.extractSeparableConvParams,l=i.extractReductionBlockParams,c=i.extractMainBlockParams,d={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:l(32,64,"entry_flow/reduction_block_0"),reduction_block_1:l(64,128,"entry_flow/reduction_block_1")},h={};Hh(t,0,1).forEach((function(e){h["main_block_"+e]=c(128,"middle_flow/main_block_"+e)}));var f={reduction_block:l(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{entry_flow:d,middle_flow:h,exit_flow:f}}}function pp(e,t){var n=[],r=function(e,t){var n=Yf(e,t),r=$f(n),a=Zf(n);return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:function(e){return{separable_conv0:a(e+"/separable_conv0"),separable_conv1:a(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:a(e+"/separable_conv0"),separable_conv1:a(e+"/separable_conv1"),separable_conv2:a(e+"/separable_conv2")}}}}(e,n),a=r.extractConvParams,o=r.extractSeparableConvParams,i=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:a("entry_flow/conv_in"),reduction_block_0:i("entry_flow/reduction_block_0"),reduction_block_1:i("entry_flow/reduction_block_1")},l={};Hh(t,0,1).forEach((function(e){l["main_block_"+e]=s("middle_flow/main_block_"+e)}));var c={reduction_block:i("exit_flow/reduction_block"),separable_conv:o("exit_flow/separable_conv")};return Vf(e,n),{params:{entry_flow:u,middle_flow:l,exit_flow:c},paramMappings:n}}function mp(e,t,n){return _u(ul(e,t.filters,n,"same"),t.bias)}function gp(e,t,n){void 0===n&&(n=!0);var r=n?$l(e):e;return r=Lf(r,t.separable_conv0,[1,1]),r=Lf($l(r),t.separable_conv1,[1,1]),r=Il(r,[3,3],[2,2],"same"),r=_u(r,mp(e,t.expansion_conv,[2,2]))}var vp,yp=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return Th(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return Jt((function(){var r=$h(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(_n(256)),a=$l(mp(r,n.entry_flow.conv_in,[2,2]));return a=gp(a,n.entry_flow.reduction_block_0,!1),a=gp(a,n.entry_flow.reduction_block_1),Hh(t._numMainBlocks,0,1).forEach((function(e){a=function(e,t){var n=Lf($l(e),t.separable_conv0,[1,1]);return n=Lf($l(n),t.separable_conv1,[1,1]),n=Lf($l(n),t.separable_conv2,[1,1]),_u(n,e)}(a,n.middle_flow["main_block_"+e])})),a=gp(a,n.exit_flow.reduction_block),a=$l(Lf(a,n.exit_flow.separable_conv,[1,1]))}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return pp(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return fp(e,this._numMainBlocks)},t}(Bf);!function(e){e.FEMALE="female",e.MALE="male"}(vp||(vp={}));var bp=function(e){function t(t){void 0===t&&(t=new yp(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Th(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return Jt((function(){var r=e instanceof Tf?t.faceFeatureExtractor.forwardInput(e):e,a=Rl(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:np(a,n.fc.age).as1D(),gender:np(a,n.fc.gender)}}))},t.prototype.forwardInput=function(e){var t=this;return Jt((function(){var n=t.runNet(e),r=n.age,a=n.gender;return{age:r,gender:Gr(a)}}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictAgeAndGender=function(e){return Oh(this,void 0,void 0,(function(){var t,n,r,a,o,i,s=this;return Dh(this,(function(u){switch(u.label){case 0:return[4,Nf(e)];case 1:return t=u.sent(),[4,this.forwardInput(t)];case 2:return n=u.sent(),r=xr(n.age),a=xr(n.gender),o=r.map((function(e,t){return{ageTensor:e,genderTensor:a[t]}})),[4,Promise.all(o.map((function(e){var t=e.ageTensor,n=e.genderTensor;return Oh(s,void 0,void 0,(function(){var e,r,a,o,i;return Dh(this,(function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],o=(a=r>.5)?vp.MALE:vp.FEMALE,i=a?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:o,genderProbability:i}]}}))}))})))];case 3:return i=u.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?i:i[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=Jf(e),r=n.extractWeights,a=n.getRemainingWeights,o=qf(r,t),i=o(512,1,"fc/age"),s=o(512,2,"fc/gender");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{fc:{age:i,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=rp(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=Yf(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Vf(e,t),{params:a,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(Bf),wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map((function(e){var n=e.width,r=e.height,a=t/Math.max(r,n);return{width:n*a,height:r*a}})),a=r.length;return Jt((function(){var n=function(e,t){return br([In([68],e),In([68],t)],1).as2D(1,136).as1D()},o=function(e,t){var n=r[e],a=n.width,o=n.height;return t(a,o)?Math.abs(a-o)/2:0},i=e.mul(In([a,136],t)).sub(br(Array.from(Array(a),(function(e,t){return n(function(e){return o(e,(function(e,t){return e<t}))}(t),function(e){return o(e,(function(e,t){return t<e}))}(t))})))).div(br(Array.from(Array(a),(function(e,t){return n(r[t].width,r[t].height)}))));return i}))},t.prototype.forwardInput=function(e){var t=this;return Jt((function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map((function(e){return{height:e[0],width:e[1]}})))}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.detectLandmarks=function(e){return Oh(this,void 0,void 0,(function(){var t,n,r,a=this;return Dh(this,(function(o){switch(o.label){case 0:return[4,Nf(e)];case 1:return t=o.sent(),n=Jt((function(){return xr(a.forwardInput(t))})),[4,Promise.all(n.map((function(e,n){return Oh(a,void 0,void 0,(function(){var r,a,o,i,s;return Dh(this,(function(u){switch(u.label){case 0:return o=(a=Array).from,[4,e.data()];case 1:return r=o.apply(a,[u.sent()]),i=r.filter((function(e,t){return Lh(t)})),s=r.filter((function(e,t){return!Lh(t)})),[2,new of(Array(68).fill(0).map((function(e,t){return new qh(i[t],s[t])})),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}}))}))})))];case 2:return r=o.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getClassifierChannelsOut=function(){return 136},t}(ap),_p=function(e){function t(t){return void 0===t&&(t=new tp),e.call(this,"FaceLandmark68Net",t)||this}return Th(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(wp);var xp=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return Th(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Jt((function(){var n=Wf($h(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(_n(255)),t.dense0,!0);return n=Wf(n,t.dense1),n=Wf(n,t.dense2),n=Rl(n,[14,14],[2,2],"valid")}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=ep(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Vf(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=Jf(e),r=n.extractWeights,a=n.getRemainingWeights,o=Qf(r,t).extractDenseBlock3Params,i=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:u}}}(e)},t}(Bf),kp=function(e){function t(t){return void 0===t&&(t=new xp),e.call(this,"FaceLandmark68TinyNet",t)||this}return Th(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(wp);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Th(t,e)}(_p);function Cp(e,t,n,r,a){void 0===a&&(a="same");var o=t.conv,i=o.filters,s=o.bias,u=ul(e,i,n,a);return u=function(e,t){return _u(Mu(e,t.weights),t.biases)}(u=_u(u,s),t.scale),r?$l(u):u}function Ep(e,t){return Cp(e,t,[1,1],!1)}function Sp(e,t){return Cp(e,t,[2,2],!0,"valid")}function Ap(e,t){function n(n,r,a,o){var i=function(t,n,r){var a=e(t),o=a.length/(n*r*r);if(o%1!==0)throw new Error("depth has to be an integer: "+o+", weights.length: "+a.length+", numFilters: "+n+", filterSize: "+r);return Jt((function(){return nc(En(a,[n,o,r,r]),[2,3,1,0])}))}(n,r,a),s=xn(e(r));return t.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:i,bias:s}}function r(r,a,o,i){var s=n(r,a,o,i+"/conv"),u=function(n,r){var a=xn(e(n)),o=xn(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:a,biases:o}}(a,i+"/scale");return{conv:s,scale:u}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,a,o){return void 0===o&&(o=!1),{conv1:r((o?.5:1)*e,t,n,a+"/conv1"),conv2:r(e,t,n,a+"/conv2")}}}}function Ip(e,t){var n=Yf(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),a=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:a}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function Rp(e){var t=[],n=Ip(e,t),r=n.extractConvLayerParams,a=n.extractResidualLayerParams,o=r("conv32_down"),i=a("conv32_1"),s=a("conv32_2"),u=a("conv32_3"),l=a("conv64_down"),c=a("conv64_1"),d=a("conv64_2"),h=a("conv64_3"),f=a("conv128_down"),p=a("conv128_1"),m=a("conv128_2"),g=a("conv256_down"),v=a("conv256_1"),y=a("conv256_2"),b=a("conv256_down_out"),w=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!Fh(w,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+w);var _={conv32_down:o,conv32_1:i,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:c,conv64_2:d,conv64_3:h,conv128_down:f,conv128_1:p,conv128_2:m,conv256_down:g,conv256_1:v,conv256_2:y,conv256_down_out:b,fc:w};return Vf(e,t),{params:_,paramMappings:t}}function zp(e,t){var n=function(e,t){return Cp(e,t,[1,1],!0)}(e,t.conv1);return n=Ep(n,t.conv2),n=_u(n,e),n=$l(n)}function Tp(e,t){var n=Sp(e,t.conv1);n=Ep(n,t.conv2);var r=Rl(e,2,2,"valid"),a=An(r.shape),o=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var i=Mh(n.shape);i[1]=1;var s=An(i),u=Mh((n=Nn([n,s],1)).shape);u[2]=1;var l=An(u);n=Nn([n,l],2)}return r=o?Nn([r,a],3):r,n=_u(r,n),n=$l(n)}var Np=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return Th(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return Jt((function(){var n=Sp($h(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(_n(256)),t.conv32_down);n=zp(n=Il(n,3,2,"valid"),t.conv32_1),n=zp(n,t.conv32_2),n=zp(n,t.conv32_3),n=zp(n=Tp(n,t.conv64_down),t.conv64_1),n=zp(n,t.conv64_2),n=zp(n,t.conv64_3),n=zp(n=Tp(n,t.conv128_down),t.conv128_1),n=zp(n,t.conv128_2),n=zp(n=Tp(n,t.conv256_down),t.conv256_1);var r=(n=Tp(n=zp(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return yl(r,t.fc)}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.computeFaceDescriptor=function(e){return Oh(this,void 0,void 0,(function(){var t,n,r,a=this;return Dh(this,(function(o){switch(o.label){case 0:return[4,Nf(e)];case 1:return t=o.sent(),n=Jt((function(){return xr(a.forwardInput(t))})),[4,Promise.all(n.map((function(e){return e.data()})))];case 2:return r=o.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Rp(e)},t.prototype.extractParams=function(e){return function(e){var t=Jf(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],o=Ap(n,a),i=o.extractConvLayerParams,s=o.extractResidualLayerParams,u=i(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),d=s(9216,32,3,"conv32_3"),h=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),p=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),g=s(147456,128,3,"conv128_down",!0),v=s(147456,128,3,"conv128_1"),y=s(147456,128,3,"conv128_2"),b=s(589824,256,3,"conv256_down",!0),w=s(589824,256,3,"conv256_1"),_=s(589824,256,3,"conv256_2"),x=s(589824,256,3,"conv256_down_out"),k=Jt((function(){return nc(kn(n(32768),[128,256]),[1,0])}));if(a.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:u,conv32_1:l,conv32_2:c,conv32_3:d,conv64_down:h,conv64_1:f,conv64_2:p,conv64_3:m,conv128_down:g,conv128_1:v,conv128_2:y,conv256_down:b,conv256_1:w,conv256_2:_,conv256_down_out:x,fc:k},paramMappings:a}}(e)},t}(Bf);function Op(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var Dp=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,a=t.maxNumScales,o=t.scoreThresholds,i=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=a||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=i,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some((function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some((function(e){return"number"!==typeof e}))))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function Mp(e,t){function n(n,r,a,o,i){var s=En(e(n*r*a*a),[a,a,n,r]),u=xn(e(r));return t.push({paramPath:o+"/filters"},{paramPath:o+"/"+(i?"batch_norm_offset":"bias")}),{filters:s,bias:u}}function r(e,t,r,a){var o=n(e,t,r,a,!0);return{filters:o.filters,batch_norm_offset:o.bias}}function a(n,a,o){var i=function(n,r){var a=En(e(9*n),[3,3,n,1]),o=xn(e(n)),i=xn(e(n)),s=xn(e(n)),u=xn(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:a,batch_norm_scale:o,batch_norm_offset:i,batch_norm_mean:s,batch_norm_variance:u}}(n,o+"/depthwise_conv");return{depthwise_conv:i,pointwise_conv:r(n,a,1,o+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:a(32,64,"mobilenetv1/conv_1"),conv_2:a(64,128,"mobilenetv1/conv_2"),conv_3:a(128,128,"mobilenetv1/conv_3"),conv_4:a(128,256,"mobilenetv1/conv_4"),conv_5:a(256,256,"mobilenetv1/conv_5"),conv_6:a(256,512,"mobilenetv1/conv_6"),conv_7:a(512,512,"mobilenetv1/conv_7"),conv_8:a(512,512,"mobilenetv1/conv_8"),conv_9:a(512,512,"mobilenetv1/conv_9"),conv_10:a(512,512,"mobilenetv1/conv_10"),conv_11:a(512,512,"mobilenetv1/conv_11"),conv_12:a(512,1024,"mobilenetv1/conv_12"),conv_13:a(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function Pp(e){var t=[],n=function(e,t){var n=Yf(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function a(e){var t="mobilenetv1/conv_"+e,a="MobilenetV1/Conv2d_"+e+"_depthwise",o=t+"/depthwise_conv",i=t+"/pointwise_conv";return{depthwise_conv:{filters:n(a+"/depthwise_weights",4,o+"/filters"),batch_norm_scale:n(a+"/BatchNorm/gamma",1,o+"/batch_norm_scale"),batch_norm_offset:n(a+"/BatchNorm/beta",1,o+"/batch_norm_offset"),batch_norm_mean:n(a+"/BatchNorm/moving_mean",1,o+"/batch_norm_mean"),batch_norm_variance:n(a+"/BatchNorm/moving_variance",1,o+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,i)}}function o(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function i(e){return{box_encoding_predictor:o("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:o("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:i(0),box_predictor_1:i(1),box_predictor_2:i(2),box_predictor_3:i(3),box_predictor_4:i(4),box_predictor_5:i(5)}}}}(e,t),r=n.extractMobilenetV1Params,a=n.extractPredictionLayerParams,o=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!jh(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var i={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:o}};return Vf(e,t),{params:i,paramMappings:t}}function Fp(e,t,n){return Jt((function(){var r=ul(e,t.filters,n,"same");return r=_u(r,t.batch_norm_offset),Rs(r,0,6)}))}var jp=.0010000000474974513;function Bp(e,t){return Jt((function(){var n=null,r=Fp(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((function(e,t){var a=t+1,o=function(e){return[2,4,6,12].some((function(t){return t===e}))?[2,2]:[1,1]}(a);r=function(e,t,n){return Jt((function(){var r=hl(e,t.filters,n,"same");return r=du(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,jp),Rs(r,0,6)}))}(r,e.depthwise_conv,o),r=Fp(r,e.pointwise_conv,[1,1]),11===a&&(n=r)})),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}}))}function Lp(e,t,n){var r=e.arraySync(),a=Math.min(r[t][0],r[t][2]),o=Math.min(r[t][1],r[t][3]),i=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),l=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),d=Math.max(r[n][1],r[n][3]),h=(i-a)*(s-o),f=(c-u)*(d-l);if(h<=0||f<=0)return 0;var p=Math.max(a,u),m=Math.max(o,l),g=Math.min(i,c),v=Math.min(s,d),y=Math.max(g-p,0)*Math.max(v-m,0);return y/(h+f-y)}function Wp(e,t){var n=function(e){var t=xr(nc(e,[1,0])),n=[Lu(t[2],t[0]),Lu(t[3],t[1])];return{sizes:n,centers:[_u(t[0],Eu(n[0],_n(2))),_u(t[1],Eu(n[1],_n(2)))]}}(e),r=n.sizes,a=n.centers,o=xr(nc(t,[1,0])),i=Eu(Mu(Os(Eu(o[2],_n(5))),r[0]),_n(2)),s=_u(Mu(Eu(o[0],_n(10)),r[0]),a[0]),u=Eu(Mu(Os(Eu(o[3],_n(5))),r[1]),_n(2)),l=_u(Mu(Eu(o[1],_n(10)),r[1]),a[1]);return nc(br([Lu(s,i),Lu(l,u),_u(s,i),_u(l,u)]),[1,0])}function Gp(e,t){return Jt((function(){var n=e.shape[0];return{boxPredictionEncoding:gr(Hf(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:gr(Hf(e,t.class_predictor),[n,-1,3])}}))}var Hp=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),Vp=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return Th(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return Jt((function(){var n=e.toBatchTensor(512,!1).toFloat(),r=Bp(Lu(Mu(n,_n(.007843137718737125)),_n(1)),t.mobilenetv1),a=function(e,t,n){return Jt((function(){var r=Fp(e,n.conv_0,[1,1]),a=Fp(r,n.conv_1,[2,2]),o=Fp(a,n.conv_2,[1,1]),i=Fp(o,n.conv_3,[2,2]),s=Fp(i,n.conv_4,[1,1]),u=Fp(s,n.conv_5,[2,2]),l=Fp(u,n.conv_6,[1,1]),c=Fp(l,n.conv_7,[2,2]),d=Gp(t,n.box_predictor_0),h=Gp(e,n.box_predictor_1),f=Gp(a,n.box_predictor_2),p=Gp(i,n.box_predictor_3),m=Gp(u,n.box_predictor_4),g=Gp(c,n.box_predictor_5);return{boxPredictions:Nn([d.boxPredictionEncoding,h.boxPredictionEncoding,f.boxPredictionEncoding,p.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding],1),classPredictions:Nn([d.classPrediction,h.classPrediction,f.classPrediction,p.classPrediction,m.classPrediction,g.classPrediction],1)}}))}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return Jt((function(){var r=e.shape[0],a=Wp(gr(wr(n.extra_dim,[r,1,1]),[-1,4]),gr(e,[-1,4]));a=gr(a,[r,a.shape[0]/r,4]);var o=Hs(Ol(t,[0,0,1],[-1,-1,-1])),i=Ol(o,[0,0,0],[-1,-1,1]);return i=gr(i,[r,i.shape[1]]),{boxes:xr(a),scores:xr(i)}}))}(a.boxPredictions,a.classPredictions,t.output_layer)}))},t.prototype.forward=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nf(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),Oh(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,y,b,w,_;return Dh(this,(function(x){switch(x.label){case 0:return n=new Hp(t),r=n.maxResults,a=n.minConfidence,[4,Nf(e)];case 1:for(o=x.sent(),i=this.forwardInput(o),s=i.boxes,u=i.scores,l=s[0],c=u[0],d=1;d<s.length;d++)s[d].dispose(),u[d].dispose();return p=(f=Array).from,[4,c.data()];case 2:return h=p.apply(f,[x.sent()]),.5,m=function(e,t,n,r,a){var o=e.shape[0],i=Math.min(n,o),s=t.map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>a})).sort((function(e,t){return t.score-e.score})),u=function(e){return e<=r?1:0},l=[];return s.forEach((function(t){if(!(l.length>=i)){for(var n=t.score,r=l.length-1;r>=0;--r){var o=Lp(e,t.boxIndex,l[r]);if(0!==o&&(t.score*=u(o),t.score<=a))break}n===t.score&&l.push(t.boxIndex)}})),l}(l,h,r,.5,a),g=o.getReshapedInputDimensions(0),v=o.inputSize,y=v/g.width,b=v/g.height,w=l.arraySync(),_=m.map((function(e){var t=[Math.max(0,w[e][0]),Math.min(1,w[e][2])].map((function(e){return e*b})),n=t[0],r=t[1],a=[Math.max(0,w[e][1]),Math.min(1,w[e][3])].map((function(e){return e*y})),i=a[0],s=a[1];return new Yh(h[e],new nf(i,n,s-i,r-n),{height:o.getInputHeight(0),width:o.getInputWidth(0)})})),l.dispose(),c.dispose(),[2,_]}}))}))},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Pp(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=Jf(e),r=n.extractWeights,a=n.getRemainingWeights,o=Mp(r,t),i=o.extractMobilenetV1Params,s=o.extractPredictionLayerParams,u=i(),l=s(),c={extra_dim:Cn(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:c},paramMappings:t}}(e)},t}(Bf);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Th(t,e)}(Vp);var Up,qp=[new qh(.738768,.874946),new qh(2.42204,2.65704),new qh(4.30971,7.04493),new qh(10.246,4.59428),new qh(12.6868,11.8741)],Kp=[new qh(1.603231,2.094468),new qh(6.041143,7.080126),new qh(2.882459,3.518061),new qh(4.266906,5.178857),new qh(9.041765,10.66308)],Xp=[117.001,114.697,97.404],Zp=function(e){return"number"===typeof e};function Yp(e){return Jt((function(){var t=Mu(e,_n(.10000000149011612));return _u($l(Lu(e,t)),t)}))}function Jp(e,t){return Jt((function(){var n=sr(e,[[0,0],[1,1],[1,1],[0,0]]);return n=ul(n,t.conv.filters,[1,1],"valid"),n=Lu(n,t.bn.sub),n=Mu(n,t.bn.truediv),Yp(n=_u(n,t.conv.bias))}))}function Qp(e,t){return Jt((function(){var n=sr(e,[[0,0],[1,1],[1,1],[0,0]]);return n=ml(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),Yp(n=_u(n,t.bias))}))}function $p(e,t){var n=Uf(e,t);var r=Xf(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,a,o){var i=n(r,a,3,o+"/conv"),s=function(n,r){var a=xn(e(n)),o=xn(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:a,truediv:o}}(a,o+"/bn");return{conv:i,bn:s}},extractSeparableConvParams:r}}function em(e,t){var n=Yf(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),a=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:a}},extractSeparableConvParams:Zf(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(Up||(Up={}));var tm=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),nm=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Zp(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every((function(e){return"string"===typeof e})))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map((function(e){return e||{}})).every((function(e){return Zp(e.x)&&Zp(e.y)})))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(Zp)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return Th(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=Jp(e,t.conv0);return n=Jp(n=Il(n,[2,2],[2,2],"same"),t.conv1),n=Jp(n=Il(n,[2,2],[2,2],"same"),t.conv2),n=Jp(n=Il(n,[2,2],[2,2],"same"),t.conv3),n=Jp(n=Il(n,[2,2],[2,2],"same"),t.conv4),n=Jp(n=Il(n,[2,2],[2,2],"same"),t.conv5),n=Jp(n=Il(n,[2,2],[1,1],"same"),t.conv6),Hf(n=Jp(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?Yp(Hf(e,t.conv0,"valid",!1)):Qp(e,t.conv0);return n=Qp(n=Il(n,[2,2],[2,2],"same"),t.conv1),n=Qp(n=Il(n,[2,2],[2,2],"same"),t.conv2),n=Qp(n=Il(n,[2,2],[2,2],"same"),t.conv3),n=Qp(n=Il(n,[2,2],[2,2],"same"),t.conv4),n=Qp(n=Il(n,[2,2],[2,2],"same"),t.conv5),n=Il(n,[2,2],[1,1],"same"),n=t.conv6?Qp(n,t.conv6):n,Hf(n=t.conv7?Qp(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return Jt((function(){var a=e.toBatchTensor(t,!1).toFloat();return a=(a=n.config.meanRgb?$h(a,n.config.meanRgb):a).div(_n(256)),n.config.withSeparableConvs?n.runMobilenet(a,r):n.runTinyYolov2(a,r)}))},t.prototype.forward=function(e,t){return Oh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,Nf(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}}))}))},t.prototype.detect=function(e,t){return void 0===t&&(t={}),Oh(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,d,h,f,p,m=this;return Dh(this,(function(g){switch(g.label){case 0:return n=new tm(t),r=n.inputSize,a=n.scoreThreshold,[4,Nf(e)];case 1:return o=g.sent(),[4,this.forwardInput(o,r)];case 2:return i=g.sent(),s=Jt((function(){return xr(i)[0].expandDims()})),u={width:o.getInputWidth(0),height:o.getInputHeight(0)},[4,this.extractBoxes(s,o.getReshapedInputDimensions(0),a)];case 3:return l=g.sent(),i.dispose(),s.dispose(),c=l.map((function(e){return e.box})),d=l.map((function(e){return e.score})),h=l.map((function(e){return e.classScore})),f=l.map((function(e){return m.config.classes[e.label]})),p=Qh(c.map((function(e){return e.rescale(r)})),d,this.config.iouThreshold,!0),[2,p.map((function(e){return new Zh(d[e],h[e],f[e],c[e],u)}))]}}))}))},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],a=em(e,r),o=a.extractConvParams,i=a.extractConvWithBatchNormParams,s=a.extractSeparableConvParams;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?o("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:o("conv8")}}else n={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:o("conv8")};return Vf(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var a,o=Jf(e),i=o.extractWeights,s=o.getRemainingWeights,u=[],l=$p(i,u),c=l.extractConvParams,d=l.extractConvWithBatchNormParams,h=l.extractSeparableConvParams;if(t.withSeparableConvs){var f=r[0],p=r[1],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],w=r[7],_=r[8];a={conv0:t.isFirstLayerConv2d?c(f,p,3,"conv0"):h(f,p,"conv0"),conv1:h(p,m,"conv1"),conv2:h(m,g,"conv2"),conv3:h(g,v,"conv3"),conv4:h(v,y,"conv4"),conv5:h(y,b,"conv5"),conv6:w?h(b,w,"conv6"):void 0,conv7:_?h(w,_,"conv7"):void 0,conv8:c(_||w||b,5*n,1,"conv8")}}else f=r[0],p=r[1],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],w=r[7],_=r[8],a={conv0:d(f,p,"conv0"),conv1:d(p,m,"conv1"),conv2:d(m,g,"conv2"),conv3:d(g,v,"conv3"),conv4:d(v,y,"conv4"),conv5:d(y,b,"conv5"),conv6:d(b,w,"conv6"),conv7:d(w,_,"conv7"),conv8:c(_,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:a,paramMappings:u}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return Oh(this,void 0,void 0,(function(){var r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,y,b,w,_,x,k,C,E,S,A,I,R,z,T,N=this;return Dh(this,(function(O){switch(O.label){case 0:return r=t.width,a=t.height,o=Math.max(r,a),i=o/r,s=o/a,u=e.shape[1],l=this.config.anchors.length,c=Jt((function(){var t=e.reshape([u,u,l,N.boxEncodingSize]);return[t.slice([0,0,0,0],[u,u,l,4]),t.slice([0,0,0,4],[u,u,l,1]),N.withClassScores?Gr(t.slice([0,0,0,5],[u,u,l,N.config.classes.length]),3):_n(0)]})),d=c[0],h=c[1],f=c[2],p=[],[4,h.array()];case 1:return m=O.sent(),[4,d.array()];case 2:g=O.sent(),v=0,O.label=3;case 3:if(!(v<u))return[3,12];y=0,O.label=4;case 4:if(!(y<u))return[3,11];b=0,O.label=5;case 5:return b<l?(w=ef(m[v][y][b][0]),!n||w>n?(_=(y+ef(g[v][y][b][0]))/u*i,x=(v+ef(g[v][y][b][1]))/u*s,k=Math.exp(g[v][y][b][2])*this.config.anchors[b].x/u*i,C=Math.exp(g[v][y][b][3])*this.config.anchors[b].y/u*s,E=_-k/2,S=x-C/2,A={row:v,col:y,anchor:b},this.withClassScores?[4,this.extractPredictedClass(f,A)]:[3,7]):[3,9]):[3,10];case 6:return T=O.sent(),[3,8];case 7:T={classScore:1,label:0},O.label=8;case 8:R=(I=T).classScore,z=I.label,p.push(Nh({box:new Xh(E,S,E+k,S+C),score:w,classScore:w*R,label:z},A)),O.label=9;case 9:return b++,[3,5];case 10:return y++,[3,4];case 11:return v++,[3,3];case 12:return d.dispose(),h.dispose(),f.dispose(),[2,p]}}))}))},t.prototype.extractPredictedClass=function(e,t){return Oh(this,void 0,void 0,(function(){var n,r,a,o;return Dh(this,(function(i){switch(i.label){case 0:return n=t.row,r=t.col,a=t.anchor,[4,e.array()];case 1:return o=i.sent(),[2,Array(this.config.classes.length).fill(0).map((function(e,t){return o[n][r][a][t]})).map((function(e,t){return{classScore:e,label:t}})).reduce((function(e,t){return e.classScore>t.classScore?e:t}))]}}))}))},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(Bf),rm=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:Kp,meanRgb:Xp}:{anchors:qp,withClassScores:!0});return e.call(this,n)||this}return Th(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new Yh(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(nm);var am=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return Th(t,e),t}(tm),om=function(){function e(){}return e.prototype.then=function(e){return Oh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},e.prototype.run=function(){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(e){throw new Error("ComposableTask - run is not implemented")}))}))},e}();function im(e,t){var n={descriptor:t};return Object.assign({},e,n)}function sm(e,t,n,r,a){return void 0===a&&(a=function(e){return e.alignedRect}),Oh(this,void 0,void 0,(function(){var o,i,s,u,l;return Dh(this,(function(c){switch(c.label){case 0:return o=e.map((function(e){return lp(e)?a(e):e.detection})),(s=r)?[3,5]:t instanceof Ie?[4,Df(t,o)]:[3,2];case 1:return u=c.sent(),[3,4];case 2:return[4,Of(t,o)];case 3:u=c.sent(),c.label=4;case 4:s=u,c.label=5;case 5:return[4,n(i=s)];case 6:return l=c.sent(),i.forEach((function(e){return e instanceof Ie&&e.dispose()})),[2,l]}}))}))}function um(e,t,n,r,a){return Oh(this,void 0,void 0,(function(){var o=this;return Dh(this,(function(i){return[2,sm([e],t,(function(e){return Oh(o,void 0,void 0,(function(){return Dh(this,(function(t){return[2,n(e[0])]}))}))}),r,a)]}))}))}var lm=2,cm=12;function dm(e){var t=Jf(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],o=function(e,t){var n=Uf(e,t),r=qf(e,t);function a(n,r){var a=xn(e(n));return t.push({paramPath:r}),a}function o(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:a(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:a(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:a(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=o([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Nh(Nh({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=o([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=a(128,"rnet/prelu4_alpha"),i=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return Nh(Nh({},e),{fc1:t,prelu4_alpha:n,fc2_1:i,fc2_2:s})},extractONetParams:function(){var e=o([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),i=a(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),u=a(256,"onet/prelu5_alpha"),l=r(256,2,"onet/fc2_1"),c=r(256,4,"onet/fc2_2"),d=r(256,10,"onet/fc2_3");return Nh(Nh({},e),{conv4:t,prelu4_alpha:i,fc1:s,prelu5_alpha:u,fc2_1:l,fc2_2:c,fc2_3:d})}}}(n,a),i=o.extractPNetParams,s=o.extractRNetParams,u=o.extractONetParams,l=i(),c=s(),d=u();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:l,rnet:c,onet:d},paramMappings:a}}function hm(e){var t=[],n=function(e,t){var n=Yf(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function a(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function o(e){return n(e,1)}function i(e){return{conv1:r(e+"/conv1"),prelu1_alpha:o(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:o(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:o(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=i("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Nh(Nh({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=i("rnet"),t=a("rnet/fc1"),n=o("rnet/prelu4_alpha"),r=a("rnet/fc2_1"),s=a("rnet/fc2_2");return Nh(Nh({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=i("onet"),t=r("onet/conv4"),n=o("onet/prelu4_alpha"),s=a("onet/fc1"),u=o("onet/prelu5_alpha"),l=a("onet/fc2_1"),c=a("onet/fc2_2"),d=a("onet/fc2_3");return Nh(Nh({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:u,fc2_1:l,fc2_2:c,fc2_3:d})}}}(e,t),r=n.extractPNetParams,a=n.extractRNetParams,o=n.extractONetParams,i=r(),s=a(),u=o();return Vf(e,t),{params:{pnet:i,rnet:s,onet:u},paramMappings:t}}function fm(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var pm=function(e){function t(t,n,r,a){return e.call(this,{left:t,top:n,right:r,bottom:a},!0)||this}return Th(t,e),t}(Kh);function mm(e){return Jt((function(){return Mu(Lu(e,_n(127.5)),_n(.0078125))}))}function gm(e,t){return Jt((function(){return _u($l(e),Mu(t,Bs($l(Bs(e)))))}))}function vm(e,t,n){return void 0===n&&(n=!1),Jt((function(){var r=Hf(e,t.conv1,"valid");return r=gm(r,t.prelu1_alpha),r=gm(r=Hf(r=Il(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=gm(r=Hf(r=n?r:Il(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)}))}function ym(e,t,n,r,a){a.stage1=[];var o=t.map((function(t){return Jt((function(){var n={scale:t},a=function(e,t){return Jt((function(){var n=fm(t,e.shape.slice(1)),r=n.height,a=n.width,o=mm(Xc.resizeBilinear(e,[r,a]));return nc(o,[0,2,1,3])}))}(e,t),o=Date.now(),i=function(e,t){return Jt((function(){var n=vm(e,t,!0),r=Hf(n,t.conv4_1,"valid"),a=rr(Vl(r,3),3);return{prob:Gr(Lu(r,a),3),regions:Hf(n,t.conv4_2,"valid")}}))}(a,r),s=i.prob,u=i.regions;return n.pnet=Date.now()-o,{scoresTensor:xr(xr(s,3)[1])[0],regionsTensor:xr(u)[0],scale:t,statsForScale:n}}))})),i=o.map((function(e){var t=e.scoresTensor,r=e.regionsTensor,o=e.scale,i=e.statsForScale,s=function(e,t,n,r){for(var a=[],o=e.arraySync(),i=0;i<e.shape[0];i++)for(var s=0;s<e.shape[1];s++)o[i][s]>=r&&a.push(new qh(s,i));return a.map((function(e){var r=new Xh(Math.round((e.y*lm+1)/n),Math.round((e.x*lm+1)/n),Math.round((e.y*lm+cm)/n),Math.round((e.x*lm+cm)/n)),a=o[e.y][e.x],i=t.arraySync();return{cell:r,score:a,region:new pm(i[e.y][e.x][0],i[e.y][e.x][1],i[e.y][e.x][2],i[e.y][e.x][3])}}))}(t,r,o,n);if(t.dispose(),r.dispose(),!s.length)return a.stage1.push(i),[];var u=Date.now(),l=Qh(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.5);return i.nms=Date.now()-u,i.numBoxes=l.length,a.stage1.push(i),l.map((function(e){return s[e]}))})),s=i.reduce((function(e,t){return e.concat(t)}),[]),u=[],l=[];if(s.length>0){var c=Date.now(),d=Qh(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.7);a.stage1_nms=Date.now()-c,l=d.map((function(e){return s[e].score})),u=d.map((function(e){return s[e]})).map((function(e){var t=e.cell,n=e.region;return new Xh(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()}))}return{boxes:u,scores:l}}function bm(e,t,n){var r=n.width,a=n.height;return Oh(this,void 0,void 0,(function(){var n,o,i,s=this;return Dh(this,(function(u){switch(u.label){case 0:return n=_f(e),[4,Promise.all(t.map((function(t){return Oh(s,void 0,void 0,(function(){var r,a,o,i,s,u,l,c;return Dh(this,(function(d){return r=t.padAtBorders(e.height,e.width),a=r.y,o=r.ey,i=r.x,s=r.ex,u=i-1,l=a-1,c=n.getImageData(u,l,s-u,o-l),[2,bf.isNodejs()?If(c):createImageBitmap(c)]}))}))})))];case 1:return o=u.sent(),i=[],o.forEach((function(e){var t=_f(Af({width:r,height:a}));t.drawImage(e,0,0,r,a);for(var n=t.getImageData(0,0,r,a).data,o=[],s=0;s<n.length;s+=4)o.push(n[s+2]),o.push(n[s+1]),o.push(n[s]);i.push(o)})),[2,i.map((function(e){return Jt((function(){return mm(nc(En(e,[1,r,a,3]),[0,2,1,3]).toFloat())}))}))]}}))}))}function wm(e,t,n,r,a){return Oh(this,void 0,void 0,(function(){var o,i,s,u,l,c,d,h,f,p,m,g,v,y;return Dh(this,(function(b){switch(b.label){case 0:return o=Date.now(),[4,bm(e,t,{width:24,height:24})];case 1:return i=b.sent(),a.stage2_extractImagePatches=Date.now()-o,o=Date.now(),s=i.map((function(e){var t=function(e,t){return Jt((function(){var n=vm(e,t),r=gm(np(gr(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),a=np(r,t.fc2_1),o=rr(Vl(a,1),1),i=Gr(Lu(a,o),1),s=np(r,t.fc2_2);return{scores:xr(i,1)[1],regions:s}}))}(e,r);return e.dispose(),t})),a.stage2_rnet=Date.now()-o,u=s.length>1?Nn(s.map((function(e){return e.scores}))):s[0].scores,d=(c=Array).from,[4,u.data()];case 2:return l=d.apply(c,[b.sent()]),u.dispose(),h=l.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),f=h.map((function(e){return t[e]})),p=h.map((function(e){return l[e]})),m=[],g=[],f.length>0&&(o=Date.now(),v=Qh(f,p,.7),a.stage2_nms=Date.now()-o,y=v.map((function(e){var t=s[h[e]].regions.arraySync();return new pm(t[0][0],t[0][1],t[0][2],t[0][3])})),g=v.map((function(e){return p[e]})),m=v.map((function(e,t){return f[e].calibrate(y[t])}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose()})),[2,{boxes:m,scores:g}]}}))}))}function _m(e,t,n,r,a){return Oh(this,void 0,void 0,(function(){var o,i,s,u,l,c,d,h,f,p,m,g,v,y,b;return Dh(this,(function(w){switch(w.label){case 0:return o=Date.now(),[4,bm(e,t,{width:48,height:48})];case 1:return i=w.sent(),a.stage3_extractImagePatches=Date.now()-o,o=Date.now(),s=i.map((function(e){var t=function(e,t){return Jt((function(){var n=vm(e,t);n=gm(n=Hf(n=Il(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=gm(np(gr(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),a=np(r,t.fc2_1),o=rr(Vl(a,1),1),i=Gr(Lu(a,o),1),s=np(r,t.fc2_2),u=np(r,t.fc2_3);return{scores:xr(i,1)[1],regions:s,points:u}}))}(e,r);return e.dispose(),t})),a.stage3_onet=Date.now()-o,u=s.length>1?Nn(s.map((function(e){return e.scores}))):s[0].scores,d=(c=Array).from,[4,u.data()];case 2:return l=d.apply(c,[w.sent()]),u.dispose(),h=l.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),f=h.map((function(e){var t=s[e].regions.arraySync();return new pm(t[0][0],t[0][1],t[0][2],t[0][3])})),p=h.map((function(e,n){return t[e].calibrate(f[n])})),m=h.map((function(e){return l[e]})),g=[],v=[],y=[],p.length>0&&(o=Date.now(),b=Qh(p,m,.7,!1),a.stage3_nms=Date.now()-o,g=b.map((function(e){return p[e]})),v=b.map((function(e){return m[e]})),y=b.map((function(e,t){return Array(5).fill(0).map((function(n,r){var a=s[e].points.arraySync();return new qh(a[0][r]*(g[t].width+1)+g[t].left,a[0][r+5]*(g[t].height+1)+g[t].top)}))}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()})),[2,{boxes:g,scores:v,points:y}]}}))}))}var xm=function(e){function t(){return e.call(this,"Mtcnn")||this}return Th(t,e),t.prototype.load=function(t){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]}))}))},t.prototype.loadFromDisk=function(t){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]}))}))},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),Oh(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,y,b,w,_,x;return Dh(this,(function(k){switch(k.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},o=Date.now(),i=Jt((function(){return e=rr(ph.fromPixels(r)).toFloat(),Jt((function(){return br(xr(e,3).reverse(),3)}));var e})),s=function(e){return i.dispose(),a.total=Date.now()-o,e},u=i.shape.slice(1),l=u[0],c=u[1],d=new Dp(t),h=d.minFaceSize,f=d.scaleFactor,p=d.maxNumScales,m=d.scoreThresholds,g=d.scaleSteps,v=(g||function(e,t,n){for(var r=n[0],a=n[1],o=cm/e,i=[],s=Math.min(r,a)*o,u=0;s>=12;)i.push(o*Math.pow(t,u)),s*=t,u+=1;return i}(h,f,[l,c])).filter((function(e){var t=fm(e,[l,c]);return Math.min(t.width,t.height)>cm})).slice(0,p),a.scales=v,a.pyramid=v.map((function(e){return fm(e,[l,c])})),y=Date.now(),[4,ym(i,v,m[0],n.pnet,a)];case 1:return b=k.sent(),a.total_stage1=Date.now()-y,b.boxes.length?(a.stage2_numInputBoxes=b.boxes.length,y=Date.now(),[4,wm(r,b.boxes,m[1],n.rnet,a)]):[2,s({results:[],stats:a})];case 2:return w=k.sent(),a.total_stage2=Date.now()-y,w.boxes.length?(a.stage3_numInputBoxes=w.boxes.length,y=Date.now(),[4,_m(r,w.boxes,m[2],n.onet,a)]):[2,s({results:[],stats:a})];case 3:return _=k.sent(),a.total_stage3=Date.now()-y,x=_.boxes.map((function(e,t){return cp(cf({},new Yh(_.scores[t],new nf(e.left/c,e.top/l,e.width/c,e.height/l),{height:l,width:c})),new af(_.points[t].map((function(t){return t.sub(new qh(e.left,e.top)).div(new qh(e.width,e.height))})),{width:e.width,height:e.height}))})),[2,s({results:x,stats:a})]}}))}))},t.prototype.forward=function(e,t){return void 0===t&&(t={}),Oh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,Nf(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}}))}))},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),Oh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,Nf(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}}))}))},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return hm(e)},t.prototype.extractParams=function(e){return dm(e)},t}(Bf),km=[new qh(1.603231,2.094468),new qh(6.041143,7.080126),new qh(2.882459,3.518061),new qh(4.266906,5.178857),new qh(9.041765,10.66308)],Cm=[117.001,114.697,97.404],Em=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:km,meanRgb:Cm,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return Th(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Oh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new Yh(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(nm),Sm={ssdMobilenetv1:new Vp,tinyFaceDetector:new Em,tinyYolov2:new rm,mtcnn:new xm,faceLandmark68Net:new _p,faceLandmark68TinyNet:new kp,faceRecognitionNet:new Np,faceExpressionNet:new sp,ageGenderNet:new bp};function Am(e,t){var n={age:t};return Object.assign({},e,n)}var Im=function(e){function t(t,n,r){var a=e.call(this)||this;return a.parentTask=t,a.input=n,a.extractedFaces=r,a}return Th(t,e),t}(om),Rm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t,n=this;return Dh(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,sm(e=r.sent(),this.input,(function(e){return Oh(n,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return Sm.faceExpressionNet.predictExpressions(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){return up(e,t[n])}))]}}))}))},t.prototype.withAgeAndGender=function(){return new Dm(this,this.input)},t}(Im),zm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,um(e,this.input,(function(e){return Sm.faceExpressionNet.predictExpressions(e)}),this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,up(e,t)]}}))}))},t.prototype.withAgeAndGender=function(){return new Mm(this,this.input)},t}(Im),Tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.withAgeAndGender=function(){return new Pm(this,this.input)},t.prototype.withFaceDescriptors=function(){return new Bm(this,this.input)},t}(Rm),Nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.withAgeAndGender=function(){return new Fm(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Lm(this,this.input)},t}(zm),Om=function(e){function t(t,n,r){var a=e.call(this)||this;return a.parentTask=t,a.input=n,a.extractedFaces=r,a}return Th(t,e),t}(om),Dm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t,n=this;return Dh(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,sm(e=r.sent(),this.input,(function(e){return Oh(n,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return Sm.ageGenderNet.predictAgeAndGender(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){var r=t[n],a=r.age;return Am(Op(e,r.gender,r.genderProbability),a)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Rm(this,this.input)},t}(Om),Mm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t,n,r,a;return Dh(this,(function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return(e=o.sent())?[4,um(e,this.input,(function(e){return Sm.ageGenderNet.predictAgeAndGender(e)}),this.extractedFaces)]:[2];case 2:return t=o.sent(),n=t.age,r=t.gender,a=t.genderProbability,[2,Am(Op(e,r,a),n)]}}))}))},t.prototype.withFaceExpressions=function(){return new zm(this,this.input)},t}(Om),Pm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.withFaceExpressions=function(){return new Tm(this,this.input)},t.prototype.withFaceDescriptors=function(){return new Bm(this,this.input)},t}(Dm),Fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.withFaceExpressions=function(){return new Nm(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Lm(this,this.input)},t}(Mm),jm=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return Th(t,e),t}(om),Bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,sm(e=t.sent(),this.input,(function(e){return Promise.all(e.map((function(e){return Sm.faceRecognitionNet.computeFaceDescriptor(e)})))}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))];case 2:return[2,t.sent().map((function(t,n){return im(e[n],t)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Tm(this,this.input)},t.prototype.withAgeAndGender=function(){return new Pm(this,this.input)},t}(jm),Lm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,um(e,this.input,(function(e){return Sm.faceRecognitionNet.computeFaceDescriptor(e)}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))]:[2];case 2:return t=n.sent(),[2,im(e,t)]}}))}))},t.prototype.withFaceExpressions=function(){return new Nm(this,this.input)},t.prototype.withAgeAndGender=function(){return new Fm(this,this.input)},t}(jm),Wm=function(e){function t(t,n,r){var a=e.call(this)||this;return a.parentTask=t,a.input=n,a.useTinyLandmarkNet=r,a}return Th(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Sm.faceLandmark68TinyNet:Sm.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(om),Gm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t,n,r,a,o=this;return Dh(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return e=i.sent(),t=e.map((function(e){return e.detection})),this.input instanceof Ie?[4,Df(this.input,t)]:[3,3];case 2:return r=i.sent(),[3,5];case 3:return[4,Of(this.input,t)];case 4:r=i.sent(),i.label=5;case 5:return n=r,[4,Promise.all(n.map((function(e){return o.landmarkNet.detectLandmarks(e)})))];case 6:return a=i.sent(),n.forEach((function(e){return e instanceof Ie&&e.dispose()})),[2,e.map((function(e,t){return cp(e,a[t])}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Tm(this,this.input)},t.prototype.withAgeAndGender=function(){return new Pm(this,this.input)},t.prototype.withFaceDescriptors=function(){return new Bm(this,this.input)},t}(Wm),Hm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t,n,r,a;return Dh(this,(function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return(e=o.sent())?(t=e.detection,this.input instanceof Ie?[4,Df(this.input,[t])]:[3,3]):[2];case 2:return r=o.sent(),[3,5];case 3:return[4,Of(this.input,[t])];case 4:r=o.sent(),o.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return a=o.sent(),n.forEach((function(e){return e instanceof Ie&&e.dispose()})),[2,cp(e,a)]}}))}))},t.prototype.withFaceExpressions=function(){return new Nm(this,this.input)},t.prototype.withAgeAndGender=function(){return new Fm(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Lm(this,this.input)},t}(Wm),Vm=function(e){function t(t,n){void 0===n&&(n=new Hp);var r=e.call(this)||this;return r.input=t,r.options=n,r}return Th(t,e),t}(om),Um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t,n,r;return Dh(this,(function(a){switch(a.label){case 0:return t=(e=this).input,(n=e.options)instanceof Dp?[4,Sm.mtcnn.forward(t,n)]:[3,2];case 1:return[2,a.sent().map((function(e){return e.detection}))];case 2:if(r=n instanceof am?function(e){return Sm.tinyFaceDetector.locateFaces(e,n)}:n instanceof Hp?function(e){return Sm.ssdMobilenetv1.locateFaces(e,n)}:n instanceof tm?function(e){return Sm.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}}))}))},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise((function(t){return Oh(e,void 0,void 0,(function(){var e;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map((function(e){return cf({},e)})))]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new Gm(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Rm(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new Dm(this.runAndExtendWithFaceDetections(),this.input)},t}(Vm),qm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.run=function(){return Oh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return[4,new Um(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach((function(e){e.score>t.score&&(t=e)})),[2,t]}}))}))},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise((function(t){return Oh(e,void 0,void 0,(function(){var e;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?cf({},e):void 0)]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new Hm(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new zm(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new Mm(this.runAndExtendWithFaceDetection(),this.input)},t}(Vm);function Km(e,t){return void 0===t&&(t=new Hp),new qm(e,t)}var Xm=function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,a=function(){return"person "+r++};this._labeledDescriptors=n.map((function(e){if(e instanceof lf)return e;if(e instanceof Float32Array)return new lf(a(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new lf(a(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")}))}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map((function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map((function(e,t){return e-r[t]})).reduce((function(e,t){return e+Math.pow(t,2)}),0))}(t,e)})).reduce((function(e,t){return e+t}),0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map((function(n){var r=n.descriptors,a=n.label;return new sf(a,t.computeMeanDistance(e,r))})).reduce((function(e,t){return e.distance<t.distance?e:t}))},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new sf("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map((function(e){return e.toJSON()}))}},e.fromJSON=function(t){var n=t.labeledDescriptors.map((function(e){return lf.fromJSON(e)}));return new e(n,t.distanceThreshold)},e}();var Zm=JSON.parse('{"Mj":["en","de","es","pl"],"U1":[{"language":"en","rotate":"Please rotate your device!"},{"language":"de","rotate":"Bitte drehen Sie Ihr Ger\xe4t!"},{"language":"es","rotate":"\xa1Por favor gire su dispositivo!"},{"language":"pl","rotate":"Prosz\u0119 obr\xf3ci\u0107 urz\u0105dzenie!"}],"R_":[{"language":"en","help":"How to use the app?","help_tour":"How to start a tour?","help_tour_content":"After opening the application, click on the \'Select tour\' button on the home page. Subsequently, you will see a list of all available tour circuits. Choose the one you bought a ticket for. By clicking on the tour, you will see an overview of the rooms that you will pass through during the tour. Choose the first one, i.e. the one marked with the number 1. After selecting it, a screen with more detailed information about the room, including audio, will appear.","help_room":"How do I switch between rooms?","help_room_content":"You can switch to the next or previous room using the buttons at the bottom of the screen. Gestures are also available to you. Swipe left to switch to next room, swipe left to previous room. You can also switch between rooms if you\'re listening to audio and your screen is locked. Arrows are available on the displayed notification to switch.","help_more_functions":"Does the audio guide have additional features?","help_more_functions_content":"Yes, the audio guide offers a lot of additional features. you can find their overview after clicking on the navigation under the item \'Menu\'."},{"language":"de","help":"Wie verwende ich die App?","help_tour":"Wie starte ich eine F\xfchrung?","help_tour_content":"Klicken Sie nach dem \xd6ffnen der App auf die Schaltfl\xe4che \'F\xfchrung ausw\xe4hlen\'. Anschlie\xdfend sehen Sie eine Liste aller verf\xfcgbaren F\xfchrungen. W\xe4hlen Sie diejenige aus, f\xfcr die Sie ein Ticket gekauft haben. Durch Anklicken der F\xfchrung erhalten Sie eine \xdcbersicht der R\xe4ume, die Sie w\xe4hrend der F\xfchrung durchlaufen. W\xe4hlen Sie den ersten aus, d. h. den mit der Nummer 1 markierten. Nachdem Sie ihn ausgew\xe4hlt haben, erscheint ein Bildschirm mit detaillierteren Informationen \xfcber den Raum, einschlie\xdflich Audio.","help_room":"Wie wechsle ich zwischen R\xe4umen?","help_room_content":"Mit den Schaltfl\xe4chen am unteren Bildschirmrand k\xf6nnen Sie zum n\xe4chsten oder vorherigen Raum wechseln. Auch Gesten stehen Ihnen zur Verf\xfcgung. Wische nach links, um zum n\xe4chsten Raum zu wechseln, wische nach links zum vorherigen Raum. Sie k\xf6nnen auch zwischen R\xe4umen wechseln, wenn Sie Audio h\xf6ren und Ihr Bildschirm gesperrt ist. Auf der angezeigten Benachrichtigung stehen Pfeile zum Wechseln zur Verf\xfcgung.","help_more_functions":"Hat der Audioguide zus\xe4tzliche Funktionen?","help_more_functions_content":"Ja, der Audioguide bietet viele zus\xe4tzliche Funktionen. deren \xdcbersicht finden Sie nach Klick auf die Navigation unter dem Punkt \'Men\xfc\'."},{"language":"es","help":"\xbfC\xf3mo usar la aplicaci\xf3n?","help_tour":"\xbfC\xf3mo iniciar un recorrido?","help_tour_content":"Despu\xe9s de abrir la aplicaci\xf3n, haga clic en el bot\xf3n \'Seleccionar recorrido\' en la p\xe1gina de inicio. Posteriormente, ver\xe1 una lista de todos los circuitos tur\xedsticos disponibles. Elija el que compr\xf3 un boleto para. Al hacer clic en el recorrido, ver\xe1 una descripci\xf3n general de las salas por las que pasar\xe1 durante el recorrido. Elige la primera, es decir, la marcada con el n\xfamero 1. Tras seleccionarla, aparecer\xe1 una pantalla con informaci\xf3n m\xe1s detallada de la sala, incluido el audio.","help_room":"\xbfC\xf3mo cambio de habitaci\xf3n?","help_room_content":"Puede cambiar a la habitaci\xf3n siguiente o anterior usando los botones en la parte inferior de la pantalla. Los gestos tambi\xe9n est\xe1n disponibles para usted. Desliza el dedo hacia la izquierda para cambiar a la habitaci\xf3n siguiente, desliza el dedo hacia la izquierda para ir a la habitaci\xf3n anterior. Tambi\xe9n puede cambiar de habitaci\xf3n si est\xe1 escuchando audio y su pantalla est\xe1 bloqueada. Las flechas est\xe1n disponibles en la notificaci\xf3n mostrada para cambiar.","help_more_functions":"\xbfLa audiogu\xeda tiene caracter\xedsticas adicionales?","help_more_functions_content":"S\xed, la audiogu\xeda ofrece muchas caracter\xedsticas adicionales. puede encontrar su descripci\xf3n general despu\xe9s de hacer clic en la navegaci\xf3n debajo del elemento \'Men\xfa\'."},{"language":"pl","help":"Jak korzysta\u0107 z aplikacji?","help_tour":"Jak rozpocz\u0105\u0107 wycieczk\u0119?","help_tour_content":"Po otwarciu aplikacji kliknij przycisk \u201eWybierz wycieczk\u0119\u201d na stronie g\u0142\xf3wnej. Nast\u0119pnie zobaczysz list\u0119 wszystkich dost\u0119pnych objazd\xf3w. Wybierz ten, na kt\xf3ry kupi\u0142e\u015b bilet. Klikaj\u0105c na wycieczk\u0119, zobaczysz przegl\u0105d pomieszcze\u0144, przez kt\xf3re b\u0119dziesz przechodzi\u0107 podczas wycieczki. Wybierz pierwszy, czyli ten oznaczony cyfr\u0105 1. Po jego wybraniu pojawi si\u0119 ekran z bardziej szczeg\xf3\u0142owymi informacjami o pomieszczeniu, w tym audio.","help_room":"Jak prze\u0142\u0105cza\u0107 si\u0119 mi\u0119dzy pokojami?","help_room_content":"Mo\u017cesz przej\u015b\u0107 do nast\u0119pnego lub poprzedniego pokoju za pomoc\u0105 przycisk\xf3w u do\u0142u ekranu. Dost\u0119pne s\u0105 r\xf3wnie\u017c gesty. Przesu\u0144 w lewo, aby przej\u015b\u0107 do nast\u0119pnego pokoju, przesu\u0144 w lewo do poprzedniego pokoju. Mo\u017cesz te\u017c prze\u0142\u0105cza\u0107 si\u0119 mi\u0119dzy pokojami, je\u015bli s\u0142uchasz d\u017awi\u0119ku, a ekran jest zablokowany. Strza\u0142ki s\u0105 dost\u0119pne na wy\u015bwietlanym powiadomieniu, aby si\u0119 prze\u0142\u0105czy\u0107.","help_more_functions":"Czy audioprzewodnik ma dodatkowe funkcje?","help_more_functions_content":"Tak, audioprzewodnik oferuje wiele dodatkowych funkcji. ich przegl\u0105d mo\u017cna znale\u017a\u0107 po klikni\u0119ciu nawigacji pod pozycj\u0105 \u201eMenu\u201d."}],"um":[{"language":"en","info":"Information","tours_info":"First, choose the tour for which you have purchased a ticket. Then wait at the place where the tour starts. Your guide will pick you up there.","history_info":"In this section, you can learn about the history of the castle and chateau. You can read a brief history or get to know the individual families that have owned the manor here over the years.","where_to_info":"If you would like to make another trip, we recommend visiting following places in the nearby area.","rooms_overview":"Here you can see an overview of the rooms located in the sightseeing route you have chosen."},{"language":"de","info":"Informationen","tours_info":"W\xe4hlen Sie zun\xe4chst die F\xfchrung aus, f\xfcr die Sie ein Ticket gekauft haben. Warten Sie dann an der Stelle, an der die F\xfchrung beginnt. Dort holt Sie Ihr Guide ab.","history_info":"In diesem Abschnitt k\xf6nnen Sie sich \xfcber die Geschichte der Burg und des Schlosses informieren. Hier k\xf6nnen Sie eine kurze Geschichte lesen oder die einzelnen Familien kennenlernen, die das Gut hier im Laufe der Jahre besessen haben.","where_to_info":"Wenn Sie einen weiteren Ausflug machen m\xf6chten, empflehlen wir Ihnen, die folgenden Orte in der n\xe4heren Umgebung zu besuchen.","rooms_overview":"Hier sehen Sie eine \xdcbersicht der Zimmer, die sich in der von Ihnen gew\xe4hlten F\xfchrung befinden."},{"language":"es","info":"Informaci\xf3n","tours_info":"Primero, elige el tour para el que has comprado un billete. Luego espere en el lugar donde comienza el recorrido. Su gu\xeda lo recoger\xe1 all\xed.","history_info":"En esta secci\xf3n, puede aprender sobre la historia del castillo y el castillo. Puede leer una breve historia o conocer a las familias individuales que han sido propietarias de la mansi\xf3n aqu\xed a lo largo de los a\xf1os.","where_to_info":"Si desea realizar otro viaje, le recomendamos visitar los siguientes lugares de la zona cercana.","rooms_overview":"Aqu\xed puede ver una descripci\xf3n general de las habitaciones ubicadas en la ruta tur\xedstica que ha elegido."},{"language":"pl","info":"Informacja","tours_info":"Najpierw wybierz wycieczk\u0119, na kt\xf3r\u0105 kupi\u0142e\u015b bilet. Nast\u0119pnie poczekaj w miejscu rozpocz\u0119cia wycieczki. Tw\xf3j przewodnik ci\u0119 tam zabierze.","history_info":"W tym dziale mo\u017cna zapozna\u0107 si\u0119 z histori\u0105 zamku i zamku. Mo\u017cna zapozna\u0107 si\u0119 z kr\xf3tk\u0105 histori\u0105 lub pozna\u0107 poszczeg\xf3lne rodziny, kt\xf3re na przestrzeni lat by\u0142y w\u0142a\u015bcicielami tutejszego dworu.","where_to_info":"Je\u015bli masz ochot\u0119 na kolejn\u0105 wycieczk\u0119, polecamy odwiedzenie nast\u0119puj\u0105cych miejsc w najbli\u017cszej okolicy.","rooms_overview":"Tutaj mo\u017cesz zobaczy\u0107 przegl\u0105d pokoi znajduj\u0105cych si\u0119 na wybranej trasie zwiedzania."}],"y4":[{"language":"en","install_download_label":"How to download?","install_step_1":"1. Open your browser\u2019s settings.","install_step_2":"2. Find and tap Add to Home screen.","install_step_1_safari":"2. Find and tap Share.","install_step_3":"3. Confirm by tapping Add.","warning":"Warning","install_use_safari":"You must use the Safari browser to install the application.","error_label":"Something went wrong...","invalid_scan_label":"We are sorry, but the given QR code could not be recognized.","close_label":"Close","no_face_detected":"We are sorry, but it was not possible to recognize anyone from the photo you took.","try_again_label":"Please try again. Zoom in on the face and take a photo.","wait_label":"Please wait"},{"language":"de","install_download_label":"Wie downloadet man das?","install_step_1":"1. \xd6ffnen Sie die Einstellungen Ihres Browsers.","install_step_2":"2. Suchen und tippen Sie auf Zum Startbildschirm hinzuf\xfcgen.","install_step_1_safari":"2. Suchen und tippen Sie auf Share.","install_step_3":"3. Best\xe4tigen Sie, indem Sie auf Installieren tippen.","warning":"Warnung","install_step_4_safari":"Sie m\xfcssen den Safari-Browser verwenden, um die Applikation zu installieren.","close_label":"Schlie\xdfen","invalid_scan_label":"Es tut uns leid, aber der angegebene QR-Code konnte nicht erkannt werden.","error_label":"Etwas ist schief gelaufen...","no_face_detected":"Wir entschuldigen uns, aber auf dem von Ihnen aufgenommenen Foto war niemand zu erkennen.","try_again_label":"Bitte versuchen Sie es nochmal. Vergr\xf6\xdfern Sie das Gesicht und machen Sie ein Foto.","wait_label":"Warten Sie bitte."},{"language":"es","install_download_label":"\xbfC\xf3mo descargar?","install_step_1":"1. Abra la configuraci\xf3n de su navegador.","install_step_2":"2. Busque y toque Agregar a la pantalla de inicio.","install_step_1_safari":"2. Busque y toque Compartir.","install_step_3":"3. Confirme tocando Agregar.","warning":"Advertencia","install_use_safari":"Debe utilizar el navegador Safari para instalar la aplicaci\xf3n.","error_label":"Algo sali\xf3 mal...","invalid_scan_label":"Lo sentimos, pero no se pudo reconocer el c\xf3digo QR proporcionado.","close_label":"Cerca","no_face_detected":"Lo sentimos, pero no fue posible reconocer a nadie de la foto que tom\xf3.","try_again_label":"Int\xe9ntalo de nuevo. Haga zoom en la cara y tome una foto.","wait_label":"Espere por favor"},{"language":"en","install_download_label":"How to download?","install_step_1":"1. Open your browser\u2019s settings.","install_step_2":"2. Find and tap Add to Home screen.","install_step_1_safari":"2. Find and tap Share.","install_step_3":"3. Confirm by tapping Add.","warning":"Warning","install_use_safari":"You must use the Safari browser to install the application.","error_label":"Something went wrong...","invalid_scan_label":"We are sorry, but the given QR code could not be recognized.","close_label":"Close","no_face_detected":"We are sorry, but it was not possible to recognize anyone from the photo you took.","try_again_label":"Please try again. Zoom in on the face and take a photo.","wait_label":"Please wait"},{"language":"pl","install_download_label":"Jak pobra\u0107?","install_step_1":"1. Otw\xf3rz ustawienia swojej przegl\u0105darki.","install_step_2":"2. Znajd\u017a i stuknij opcj\u0119 Dodaj do ekranu g\u0142\xf3wnego.","install_step_1_safari":"2. Znajd\u017a i stuknij Udost\u0119pnij.","install_step_3":"3. Potwierd\u017a, dotykaj\u0105c Dodaj.","warning":"Ostrze\u017cenie","install_use_safari":"Aby zainstalowa\u0107 aplikacj\u0119, musisz u\u017cy\u0107 przegl\u0105darki Safari.","error_label":"Co\u015b posz\u0142o nie tak...","invalid_scan_label":"Przepraszamy, ale podany kod QR nie zosta\u0142 rozpoznany.","close_label":"Zamkn\u0105\u0107","no_face_detected":"Przykro nam, ale nie mo\u017cna by\u0142o nikogo rozpozna\u0107 na zrobionym przez Ciebie zdj\u0119ciu.","try_again_label":"Prosz\u0119 spr\xf3buj ponownie. Przybli\u017c twarz i zr\xf3b zdj\u0119cie.","wait_label":"Prosz\u0119 czeka\u0107"}],"N9":[{"language":"en","install":"Install","install_label":"Install the app for offline access."},{"language":"de","install":"Installieren","install_label":"Installieren Sie die App f\xfcr den Offline-Zugriff."},{"language":"es","install":"Instalar","install_label":"Instale la aplicaci\xf3n para acceder sin conexi\xf3n."},{"language":"pl","install":"Zainstalowa\u0107","install_label":"Zainstaluj aplikacj\u0119, aby uzyska\u0107 dost\u0119p offline."}],"em":[{"language":"en","face_recognition":"Image recognition","title":"Don\'t know who is in the picture?","label":"If you\'ve come across an image on the tour and you\'re not sure who\'s in it, you can either ask the tourguide or use this feature, which recognizes who\'s in the image from the photo. Just follow the instructions below.","step_1":"Press the \u201eTake a picture\u201d button.","step_2":"Zoom in so that the face in the image you want to recognize is clearly visible.","step_3":"Now take a picture and then press OK.","step_4":"Wait a moment. When the image is recognized, you will be redirected to a new page with the depicted person.","button":"Take a picture","button_back":"Back"},{"language":"de","face_recognition":"Bilderkennung","title":"Sie wissen nicht, wer auf dem Bild ist?","label":"Wenn Sie bei der F\xfchrung auf ein Bild gesto\xdfen sind und sich nicht sicher sind, wer darauf abgebildet ist, k\xf6nnen Sie entweder den Begleiter fragen oder diese Funktion verwenden, die anhand des Fotos erkennt, wer auf dem Bild zu sehen ist. Befolgen Sie einfach die nachstehenden Anweisungen.","step_1":"Dr\xfccken Sie die Schaltfl\xe4che \u201eBild aufnehmen\u201d.","step_2":"Vergr\xf6\xdfern Sie die Kamera so, dass das Gesicht im Bild, das Sie erkennen m\xf6chten, deutlich sichtbar ist.","step_3":"Machen Sie jetzt ein Foto und dr\xfccken Sie dann OK.","step_4":"Moment mal. Wenn das Bild erkannt wird, werden Sie auf eine neue Seite mit der abgebildeten Person weitergeleitet.","button":"Bild aufnehmen","button_back":"Zur\xfcck"},{"language":"es","face_recognition":"Reconocimiento de imagen","title":"\xbfNo sabes qui\xe9n est\xe1 en la foto?","label":"Si te encuentras con una imagen en el recorrido y no est\xe1s seguro de qui\xe9n est\xe1 en ella, puedes preguntarle al gu\xeda o usar esta funci\xf3n, que reconoce qui\xe9n est\xe1 en la imagen de la foto. S\xf3lo tiene que seguir las siguientes instrucciones.","step_1":"Presiona el bot\xf3n \'Tomar una foto\'.","step_2":"Ac\xe9rquese para que la cara en la imagen que desea reconocer sea claramente visible.","step_3":"Ahora toma una foto y luego presiona OK.","step_4":"Espera un momento. Cuando se reconozca la imagen, ser\xe1 redirigido a una nueva p\xe1gina con la persona representada.","button":"Toma una foto","button_back":"Atr\xe1s"},{"language":"pl","face_recognition":"Rozpoznawanie obrazu","title":"Nie wiecie, kto jest na zdj\u0119ciu?","label":"Je\u015bli natkn\u0105\u0142e\u015b si\u0119 na zdj\u0119cie podczas wycieczki i nie masz pewno\u015bci, kto jest na nim, mo\u017cesz zapyta\u0107 przewodnika lub skorzysta\u0107 z tej funkcji, kt\xf3ra rozpoznaje, kto jest na zdj\u0119ciu ze zdj\u0119cia. Po prostu post\u0119puj zgodnie z poni\u017cszymi instrukcjami.","step_1":"Naci\u015bnij przycisk \u201eZr\xf3b zdj\u0119cie\u201d.","step_2":"Powi\u0119ksz, aby twarz na zdj\u0119ciu, kt\xf3r\u0105 chcesz rozpozna\u0107, by\u0142a wyra\u017anie widoczna.","step_3":"Teraz zr\xf3b zdj\u0119cie, a nast\u0119pnie naci\u015bnij OK.","step_4":"Poczekaj chwil\u0119. Gdy obraz zostanie rozpoznany, zostaniesz przekierowany na now\u0105 stron\u0119 z przedstawion\u0105 osob\u0105.","button":"Zrobi\u0107 zdj\u0119cie","button_back":"Z powrotem"}],"RS":[{"language":"en","qr_scanner":"QR code Scanner","title":"Don\'t know where you are right now?","label":"If you are not sure where exactly you are, you can ask your guide or use this feature to help you find out. Find the stand with QR code and follow the instructions below.","step_1":"Press the \u201eScan QR code\u201d button.","step_2":"Get close to the QR code so that it is clearly visible on the camera.","step_3":"Wait a moment. When the QR code is detected, you will be redirected to the correct location.","button":"Scan QR code","button_back":"Back"},{"language":"de","qr_scanner":"QR Code Scanner","title":"Sie wissen nicht, wo Sie gerade sind?","label":"Wenn Sie sich nicht sicher sind, wo genau Sie sich befinden, k\xf6nnen Sie Ihren Reiseleiter fragen oder diese Funktion nutzen, um Ihnen dabei zu helfen, Ihren Standort zu finden. Finden Sie den Stand mit QR-Code und folgen Sie den Anweisungen unten.","step_1":"Dr\xfccken Sie die Schaltfl\xe4che \u201eQR Code scannen\u201c.","step_2":"N\xe4hern Sie sich dem QR-Code, sodass er auf der Kamera gut sichtbar ist.","step_3":"Moment mal. Wenn der QR-Code erkannt wird, werden Sie an die richtige Stelle weitergeleitet.","button":"QR Code scannen","button_back":"Zur\xfcck"},{"language":"es","qr_scanner":"Esc\xe1ner de c\xf3digo QR","title":"\xbfNo sabes d\xf3nde est\xe1s ahora mismo?","label":"Si no est\xe1 seguro de d\xf3nde se encuentra exactamente, puede preguntarle a su gu\xeda o usar esta funci\xf3n para ayudarlo a averiguarlo. Encuentre el stand con c\xf3digo QR y siga las instrucciones a continuaci\xf3n.","step_1":"Presione el bot\xf3n \'Escanear c\xf3digo QR\'.","step_2":"Ac\xe9rquese al c\xf3digo QR para que sea claramente visible en la c\xe1mara.","step_3":"Espera un momento. Cuando se detecte el c\xf3digo QR, ser\xe1 redirigido a la ubicaci\xf3n correcta.","button":"Escanear c\xf3digo QR","button_back":"Atr\xe1s"},{"language":"pl","qr_scanner":"Skaner kod\xf3w QR","title":"Nie wiesz, gdzie teraz jeste\u015b?","label":"Je\u015bli nie jeste\u015b pewien, gdzie dok\u0142adnie jeste\u015b, mo\u017cesz zapyta\u0107 przewodnika lub skorzysta\u0107 z tej funkcji, aby si\u0119 dowiedzie\u0107. Znajd\u017a stoisko z kodem QR i post\u0119puj zgodnie z poni\u017cszymi instrukcjami.","step_1":"Naci\u015bnij przycisk \u201eZeskanuj kod QR\u201d.","step_2":"Zbli\u017c si\u0119 do kodu QR, aby by\u0142 dobrze widoczny w aparacie.","step_3":"Poczekaj chwil\u0119. Po wykryciu kodu QR zostaniesz przekierowany do w\u0142a\u015bciwej lokalizacji.","button":"Skanowania QR code","button_back":"Z powrotem"}],"Fs":[{"language":"en","rooms":"Rooms","menu":"Menu","history":"History","houses":"Houses","owners":"Owners","tours":"Tours","map":"Map","where_to_next":"Where to next?","gallery":"Gallery","about_app":"About app","settings":"Settings","contact":"Contact","scan":"QR code Scanner","help":"Help"},{"language":"de","rooms":"R\xe4ume","menu":"Men\xfc","history":"Geschichte","houses":"H\xe4user","owners":"Besitzer","tours":"F\xfchrungen","map":"Landkarte","where_to_next":"Wohin als n\xe4chstes?","gallery":"Galerie","about_app":"\xdcber App","settings":"Einstellung","contact":"Kontakt","scan":"QR Code Scanner","help":"Hilfe"},{"language":"es","rooms":"Habitaciones","menu":"Men\xfa","history":"Historia","houses":"Casas","owners":"Propietarios","tours":"Excursiones","map":"Mapa","where_to_next":"\xbfD\xf3nde seguir?","gallery":"Galer\xeda","about_app":"Acerca de la aplicaci\xf3n","settings":"Ajustes","contact":"Contacto","scan":"Esc\xe1ner de c\xf3digo QR","help":"Ayuda"},{"language":"pl","rooms":"Pokoje","menu":"Menu","history":"Historia","houses":"Rody","owners":"W\u0142a\u015bciciele","tours":"Wycieczki","map":"Mapa","where_to_next":"Gdzie teraz?","gallery":"Galeria","about_app":"O aplikacji","settings":"Ustawienia","contact":"Kontakt","scan":"kaner kod\xf3w QR","help":"Pomoc"}],"Xd":[{"language":"en","letter":"Font size","language_label":"Language","default":"Default","medium":"Medium","large":"Large"},{"language":"de","letter":"Schriftgr\xf6\xdfe","language_label":"Sprache","default":"Original","medium":"Mittlere","large":"Gro\xdf"},{"language":"es","letter":"Tama\xf1o de fuente","language_label":"Idioma","default":"Por defecto","medium":"Medio","large":"Grande"},{"language":"pl","letter":"Rozmiar czcionki","language_label":"J\u0119zyk","default":"Domy\u015blny","medium":"\u015aredni","large":"Du\u017cy"}],"YH":[{"language":"en","history":"History","gallery":"Gallery","image_recognition":"Image recognition","scan_room":"Scan the room","where_to_next":"Where to next?","contact":"Contact","settings":"Settings","help":"Help","about_app":"About app"},{"language":"de","history":"Geschichte","gallery":"Galerie","image_recognition":"Bilderkennung","scan_room":"Scannen Sie den Raum","where_to_next":"Wohin als n\xe4chstes?","contact":"Kontakt","settings":"Einstellung","help":"Hilfe","about_app":"\xdcber App"},{"language":"es","history":"Historia","gallery":"Galer\xeda","image_recognition":"Reconocimiento de imagen","scan_room":"Escanea la habitaci\xf3n","where_to_next":"\xbfD\xf3nde seguir?","contact":"Contacto","settings":"Ajustes","help":"Ayuda","about_app":"Acerca de la aplicaci\xf3n"},{"language":"pl","history":"Historia","gallery":"Galeria","image_recognition":"Rozpoznawanie obrazu","scan_room":"Zeskanuj pok\xf3j","where_to_next":"Gdzie teraz?","contact":"Kontakt","settings":"Ustawienia","help":"Pomoc","about_app":"O aplikacji"}],"mx":[{"language":"en","home":"Home","tours":"Tours","rooms":"Rooms in tour","menu":"Menu","back":"Back to previous"},{"language":"de","home":"Startseite","tours":"F\xfchrungen","rooms":"Zimmer in der F\xfchrung","menu":"Men\xfc","back":"Zur\xfcck zum vorherigen"},{"language":"es","home":"Hogar","tours":"Excursiones","rooms":"Habitaciones en recorrido","menu":"Men\xfa","back":"Volver al anterior"},{"language":"pl","home":"Dom","tours":"Wycieczki","rooms":"Pokoje w trasie","menu":"Menu","back":"Powr\xf3t do poprzedniego"}],"LE":[{"language":"en","label_1":"Welcome","label_2":"to the state castle","label_3":"and chateau Fr\xfddlant","button_label":"Choose tour"},{"language":"de","label_1":"Wilkommen","label_2":"auf der Burg und","label_3":"dem Schloss Friedland","button_label":"F\xfchrung ausw\xe4hlen"},{"language":"es","label_1":"Bienvenido","label_2":"al castillo estatal","label_3":"y palacio Fr\xfddlant","button_label":"Elige recorrido"},{"language":"pl","label_1":"Witamy","label_2":"w zamku pa\u0144stwowym","label_3":"i pa\u0142acu Fr\xfddlant","button_label":"Wybierz wycieczk\u0119"}],"Le":[{"language":"en","button":"Visit","places":[{"title":"Grab\u0161tejn castle","description":"Grab\u0161tejn was originally a Gothic castle, built in the middle of the thirteenth century, which stands near the Tri-Border Area where the Czech Republic, Germany and Poland meet. It was remodelled in the sixteenth century as a Renaissance castle, and now offers visitors several guided tours.","url":"https://hrad-grabstejn.cz/en","img":"/where_to_next/grabstejn.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Lemberk castle","description":"The predecessor of today\'s Baroque castle was the medieval castle of Lemberk, founded in the 1340s by Havel of Markvartic, husband of St. Zdislava. In the second half of the 16th century it was rebuilt into a Renaissance chateau and it acquired its present appearance after the mid-17th century under the the lords of Breda. The last owners were the Clam-Gallas family, until 1945.","url":"https://www.zamek-lemberk.cz/en","img":"/where_to_next/lemberk.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Brewery Albrecht","description":"Manor beer production in Fr\xfddlant is first documented in 1381, beer was apparently brewed right at the castle. In the 16th century, a new independent brewery was built under the Redern family near the Sm\u011bd\xe1 river, on the site where the current operation is still located. The half-timbered storey building of the Renaissance brewery is depicted on the so-called Glaubic map.","url":"https://pivovar-albrecht.com/","img":"/people/katerina_redern.jpg","src":""}]},{"language":"de","button":"Besuchen","places":[{"title":"Burg Grab\u0161tejn","description":"Grab\u0161tejn (Grafenstein), urspr\xfcnglich eine gotische Burg aus dem 13. Jahrhundert, die im 16. Jahrhundert in ein Renaissancesschloss umgebaut wurde, liegt nahe dem Dreil\xe4ndereck zwischen der Tschechischen Republik, Deutschland und Polen und stellt ein nationales Kulturdenkmal mit einer reichen Geschichte dar. Heutzutage bietet die Burg mehrere Touristenf\xfchrungen an, einschlie\xdflich der St. Barbara Kapelle, eines Renaissancejuwel aus der 2. H\xe4lfte des 16. Jahrhunderts.","url":"https://hrad-grabstejn.cz/de","img":"/where_to_next/grabstejn.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Schloss Lemberk","description":"Der Vorg\xe4nger des heutigen Barockschlosses war die mittelalterliche Burg Lemberk, das in den 1340er Jahren von Havel von Markvartic, dem Ehemann von St. Zdislava, gegr\xfcndet wurde. In der zweiten H\xe4lfte des 16. Jahrhunderts wurde es zu einem Renaissanceschloss umgebaut und erhielt sein heutiges Aussehen nach der Mitte des 17. Jahrhunderts unter den Herren von Breda. Die letzten Eigent\xfcmer waren bis 1945 die Familie Clam-Gallas.","url":"https://www.zamek-lemberk.cz/en","img":"/where_to_next/lemberk.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Brauerei Albrecht","description":"Die Herstellung von Bier in Fr\xfddlant wird erstmals 1381 erw\xe4hnt, Bier wurde angeblich direkt auf der Burg gebraut. Im 16. Jahrhundert wurde unter der Familie Redern in der N\xe4he des Flusses Sm\u011bd\xe1 an der Stelle, an der sich noch heute der Betrieb befindet, eine neue unabh\xe4ngige Brauerei gebaut. Der Fachwerkgeschossbau der Renaissance-Brauerei ist auf der sogenannten Glaubic-Karte abgebildet.","url":"https://pivovar-albrecht.com/","img":"/people/katerina_redern.jpg","src":""}]},{"language":"es","button":"Visita","places":[{"title":"Castillo de Grab\u0161tejn","description":"Grab\u0161tejn fue originalmente un castillo g\xf3tico, construido a mediados del siglo XIII, que se encuentra cerca del \xc1rea de la Triple Frontera donde se encuentran la Rep\xfablica Checa, Alemania y Polonia. Fue remodelado en el siglo XVI como castillo renacentista, y en la actualidad ofrece al visitante varias visitas guiadas.","url":"https://hrad-grabstejn.cz/en","img":"/where_to_next/grabstejn.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Castillo de lemberk","description":"El predecesor del castillo barroco actual fue el castillo medieval de Lemberk, fundado en la d\xe9cada de 1340 por Havel de Markvartic, esposo de Santa Zdislava. En la segunda mitad del siglo XVI fue reconstruido en un castillo renacentista y adquiri\xf3 su aspecto actual despu\xe9s de mediados del siglo XVII bajo los se\xf1ores de Breda. Los \xfaltimos propietarios fueron la familia Clam-Gallas, hasta 1945.","url":"https://www.zamek-lemberk.cz/en","img":"/where_to_next/lemberk.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Cervecer\xeda Albrecht","description":"La producci\xf3n de cerveza se\xf1orial en Fr\xfddlant se documenta por primera vez en 1381, aparentemente la cerveza se elaboraba en el castillo. En el siglo XVI, la familia Redern construy\xf3 una nueva cervecer\xeda independiente cerca del r\xedo Sm\u011bd\xe1, en el sitio donde todav\xeda se encuentra la operaci\xf3n actual. El edificio de pisos con entramado de madera de la cervecer\xeda Renaissance est\xe1 representado en el llamado mapa Glaubic.","url":"https://pivovar-albrecht.com/","img":"/people/katerina_redern.jpg","src":""}]},{"language":"pl","button":"Odwiedza\u0107","places":[{"title":"Zamek Grab\u0161tejn","description":"Grab\u0161tejn by\u0142 pierwotnie gotyckim zamkiem, zbudowanym w po\u0142owie XIII wieku, kt\xf3ry stoi w pobli\u017cu Tr\xf3jgranicznego Obszaru, gdzie spotykaj\u0105 si\u0119 Czechy, Niemcy i Polska. Zosta\u0142 przebudowany w XVI wieku jako renesansowy zamek i obecnie oferuje odwiedzaj\u0105cym kilka wycieczek z przewodnikiem.","url":"https://hrad-grabstejn.cz/en","img":"/where_to_next/grabstejn.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Zamek Lemberk","description":"Poprzednikiem dzisiejszego barokowego zamku by\u0142 \u015bredniowieczny zamek Lemberk, za\u0142o\u017cony w latach czterdziestych XIII wieku przez Havla z Markvartic, m\u0119\u017ca \u015bw. Zdzis\u0142awy. W drugiej po\u0142owie XVI wieku zosta\u0142 przebudowany na renesansowy zamek, a obecny wygl\u0105d uzyska\u0142 w po\u0142owie XVII wieku za czas\xf3w pan\xf3w z Bredy. Ostatnimi w\u0142a\u015bcicielami do 1945 roku by\u0142a rodzina Clam-Gallas.","url":"https://www.zamek-lemberk.cz/en","img":"/where_to_next/lemberk.jpg","src":"Source: N\xe1rodn\xed pam\xe1tkov\xfd \xfastav, link: www.npu.cz"},{"title":"Browar Albrecht","description":"Pierwsza wzmianka o produkcji piwa dworskiego we Fr\xfddlancie pochodzi z 1381 roku, podobno piwo warzono w\u0142a\u015bnie na zamku. W XVI wieku w pobli\u017cu rzeki Sm\u011bd\xe1, w miejscu, w kt\xf3rym nadal znajduje si\u0119 obecna dzia\u0142alno\u015b\u0107, wybudowano nowy samodzielny browar rodziny Redern\xf3w. Szachulcowy pi\u0119trowy budynek renesansowego browaru jest przedstawiony na tzw. mapie glaubicznej.","url":"https://pivovar-albrecht.com/","img":"/people/katerina_redern.jpg","src":""}]}],"PU":[{"language":"en","for_label":"Official app for","for":"Castle and chateau Fr\xfddlant","author_label":"Author","author":"Veronika Pavl\xedkov\xe1","collaboration_label":"In collaboration with","collaboration":"Palack\xfd University Olomouc","photos_label":"Photos by","photos1":"Luk\xe1\u0161 H\xfcbner","photos2":"Ji\u0159\xed Holub","logo_label":"Logo by","logo":"Lucie Pavl\xedkov\xe1"},{"language":"de","for_label":"Ofizielle App f\xfcr","for":"Das Schloss und die Burg Fr\xfddlant","author_label":"Author","author":"Veronika Pavl\xedkov\xe1","collaboration_label":"In Zusammenarbeit mit","collaboration":"Palack\xfd Universit\xe4t Olm\xfctz","photos_label":"Fotos von","photos1":"Luk\xe1\u0161 H\xfcbner","photos2":"Ji\u0159\xed Holub","logo_label":"Logo von","logo":"Lucie Pavl\xedkov\xe1"},{"language":"es","for_label":"Aplicaci\xf3n oficial para","for":"Castillo y palacio Fr\xfddlant","author_label":"Autora","author":"Veronika Pavl\xedkov\xe1","collaboration_label":"En colaboraci\xf3n con","collaboration":"Universidad Palack\xfd Olomouc","photos_label":"Fotos por","photos1":"Luk\xe1\u0161 H\xfcbner","photos2":"Ji\u0159\xed Holub","logo_label":"Logotipo por","logo":"Lucie Pavl\xedkov\xe1"},{"language":"pl","for_label":"Oficjalna aplikacja dla","for":"Zamek i pa\u0142ac Fr\xfddlant","author_label":"Autor","author":"Veronika Pavl\xedkov\xe1","collaboration_label":"We wsp\xf3\u0142pracy z","collaboration":"Uniwersytet Palackiego w O\u0142omu\u0144cu","photos_label":"Zdj\u0119cia wg","photos1":"Luk\xe1\u0161 H\xfcbner","photos2":"Ji\u0159\xed Holub","logo_label":"Logo firmy","logo":"Lucie Pavl\xedkov\xe1"}],"ZR":[{"language":"en","tour_not_selected":"First, please choose the sightseeing route you want to take.","seen":"Already visited rooms","not_seen":"Rooms not yet visited","nothing_more":"Nothing more to see"},{"language":"de","tour_not_selected":"Bitte w\xe4hlen Sie zun\xe4chst die F\xfchrung aus, die Sie nehmen m\xf6chten.","seen":"Bereits besuchte R\xe4ume","not_seen":"Noch nicht besuchte R\xe4ume","nothing_more":"Nichts mehr zu sehen"},{"language":"es","tour_not_selected":"Primero, elija la ruta tur\xedstica que desea tomar.","seen":"Salas ya visitadas","not_seen":"Habitaciones a\xfan no visitadas","nothing_more":"Nada m\xe1s que ver"},{"language":"pl","tour_not_selected":"Najpierw wybierz tras\u0119 zwiedzania, kt\xf3r\u0105 chcesz obra\u0107.","seen":"Odwiedzone ju\u017c pokoje","not_seen":"Pokoje jeszcze nie odwiedzone","nothing_more":"Nic wi\u0119cej do zobaczenia"}],"PX":[{"language":"en","title":"Contact","address":"Address","web":"Web","reservation":"Ticket reservation","phone":"Phone number"},{"language":"de","title":"Kontakt","address":"Addresse","web":"Web","reservation":"Ticketbuchung","phone":"Telefonnummer"},{"language":"es","title":"Contacto","address":"Direcci\xf3n","web":"Web","reservation":"Reserva de entradas","phone":"N\xfamero de tel\xe9fono"},{"language":"pl","title":"Kontakt","address":"Adres","web":"Sie\u0107","reservation":"Rezerwacja bilet\xf3w","phone":"Numer telefonu"}],"Lx":[{"language":"en","people":[{"name":"Fridrich of Redern","img":"/people/katerina_redern.jpg"},{"name":"Melchior of Redern","img":"/people/melchior_redern.jpg"},{"name":"Catherine of Redern","img":"/people/katerina_redern.jpg"},{"name":"Christopher of Redern","img":"/people/katerina_redern.jpg"},{"name":"Albrecht of Wallenstein","img":"/people/albrecht_valdstejn.jpg"},{"name":"Matthias of Gallas","img":"/people/matyas_gallas.jpg"},{"name":"Antonius of Gallas","img":"/people/antonin_pankrac_gallas.jpg"},{"name":"Francis Ferdinand of Gallas","img":"/people/frantisek_ferdinand_gallas.jpg"},{"name":"John Wenceslas of Gallas","img":"/people/jan_vaclav_gallas.jpg"},{"name":"Philip Joseph of Gallas","img":"/people/filip_josef_gallas.jpg"},{"name":"Christian Philip of Clam-Gallas","img":"/people/kristian_filip_clamgallas.jpg"},{"name":"Christian Christopher of Clam-Gallas","img":"/people/kristian_krystof_clamgallas.jpg"},{"name":"William of Clam-Gallas","img":"/people/vilem_clamgallas.jpg"},{"name":"Edward of Clam-Gallas","img":"/people/eduard_clamgallas.jpg"},{"name":"Francis of Clam-Gallas","img":"/people/frantisek_clamgallas.jpg"},{"name":"Clotilde of Clam-Gallas","img":"/people/clotilda_clamgallas_mladsi.jpg"}]},{"language":"de","people":[{"name":"Fridrich von R\xf6dern","img":"/people/katerina_redern.jpg"},{"name":"Melchior von R\xf6dern","img":"/people/melchior_redern.jpg"},{"name":"Katharina von R\xf6dern","img":"/people/katerina_redern.jpg"},{"name":"Christoph von R\xf6dern","img":"/people/katerina_redern.jpg"},{"name":"Albrecht von Wallenstein","img":"/people/albrecht_valdstejn.jpg"},{"name":"Matthias von Gallas","img":"/people/matyas_gallas.jpg"},{"name":"Antonius von Gallas","img":"/people/antonin_pankrac_gallas.jpg"},{"name":"Franz Ferdinand von Gallas","img":"/people/frantisek_ferdinand_gallas.jpg"},{"name":"Johann Wenzeslaus von Gallas","img":"/people/jan_vaclav_gallas.jpg"},{"name":"Philip Joseph von Gallas","img":"/people/filip_josef_gallas.jpg"},{"name":"Christian Philip von Clam-Gallas","img":"/people/kristian_filip_clamgallas.jpg"},{"name":"Christian Christoph von Clam-Gallas","img":"/people/kristian_krystof_clamgallas.jpg"},{"name":"Wilhelm von Clam-Gallas","img":"/people/vilem_clamgallas.jpg"},{"name":"Eduard von Clam-Gallas","img":"/people/eduard_clamgallas.jpg"},{"name":"Franz von Clam-Gallas","img":"/people/frantisek_clamgallas.jpg"},{"name":"Clotilde von Clam-Gallas","img":"/people/clotilda_clamgallas_mladsi.jpg"}]},{"language":"es","people":[{"name":"Fridrich de Redern","img":"/people/katerina_redern.jpg"},{"name":"Melchior de Redern","img":"/people/melchior_redern.jpg"},{"name":"Catherine de Redern","img":"/people/katerina_redern.jpg"},{"name":"Christopher de Redern","img":"/people/katerina_redern.jpg"},{"name":"Albrecht de Wallenstein","img":"/people/albrecht_valdstejn.jpg"},{"name":"Matthias de Gallas","img":"/people/matyas_gallas.jpg"},{"name":"Antonius de Gallas","img":"/people/antonin_pankrac_gallas.jpg"},{"name":"Francis Ferdinand de Gallas","img":"/people/frantisek_ferdinand_gallas.jpg"},{"name":"John Wenceslas de Gallas","img":"/people/jan_vaclav_gallas.jpg"},{"name":"Philip Joseph de Gallas","img":"/people/filip_josef_gallas.jpg"},{"name":"Christian Philip de Clam-Gallas","img":"/people/kristian_filip_clamgallas.jpg"},{"name":"Christian Christopher de Clam-Gallas","img":"/people/kristian_krystof_clamgallas.jpg"},{"name":"William de Clam-Gallas","img":"/people/vilem_clamgallas.jpg"},{"name":"Edward de Clam-Gallas","img":"/people/eduard_clamgallas.jpg"},{"name":"Francis de Clam-Gallas","img":"/people/frantisek_clamgallas.jpg"},{"name":"Clotilde de Clam-Gallas","img":"/people/clotilda_clamgallas_mladsi.jpg"}]},{"language":"pl","people":[{"name":"Fridrich of Redern","img":"/people/katerina_redern.jpg"},{"name":"Melchior of Redern","img":"/people/melchior_redern.jpg"},{"name":"Catherine of Redern","img":"/people/katerina_redern.jpg"},{"name":"Christopher of Redern","img":"/people/katerina_redern.jpg"},{"name":"Albrecht of Wallenstein","img":"/people/albrecht_valdstejn.jpg"},{"name":"Matthias of Gallas","img":"/people/matyas_gallas.jpg"},{"name":"Antonius of Gallas","img":"/people/antonin_pankrac_gallas.jpg"},{"name":"Francis Ferdinand of Gallas","img":"/people/frantisek_ferdinand_gallas.jpg"},{"name":"John Wenceslas of Gallas","img":"/people/jan_vaclav_gallas.jpg"},{"name":"Philip Joseph of Gallas","img":"/people/filip_josef_gallas.jpg"},{"name":"Christian Philip of Clam-Gallas","img":"/people/kristian_filip_clamgallas.jpg"},{"name":"Christian Christopher of Clam-Gallas","img":"/people/kristian_krystof_clamgallas.jpg"},{"name":"William of Clam-Gallas","img":"/people/vilem_clamgallas.jpg"},{"name":"Edward of Clam-Gallas","img":"/people/eduard_clamgallas.jpg"},{"name":"Francis of Clam-Gallas","img":"/people/frantisek_clamgallas.jpg"},{"name":"Clotilde of Clam-Gallas","img":"/people/clotilda_clamgallas_mladsi.jpg"}]}],"m8":[{"language":"en","path":"/history_overview","title":"History overview","button":"Learn more","img":"/history/history.jpg","card_label":"Get to know the history of the Fr\xfddlant castle and chateau.","description":"Fr\xfddlant is one of largest and most important heritage sites in Northern Bohemia. It consists of two architectural complexes: a medieval castle and a renaissance chateau. The castle was built around the mid-13th century. In 1278, the domain became property of the Biberstein house who took major part in building the large castle palace. Between 1558 and 1620, Fr\xfddlant was owned by the Redern house that continued to upgrade the domain. The Rederns were good managers and warriors, but also builders and art supporters. They built the new renaissance chateau and the chapel. \\n\\nBetween 1622 and 1634, the castle belonged to Albrecht of Wallenstein. He bought it for 150,000 guldens and gradually built a large domain. His estates flourished greatly during the Thirty Years War as they supplied his army. The Fr\xfddlant region was called Terra felix \u2013 the happy country. \\n\\nAfter Albrecht\u2019s murder in 1634, the emperor gave Fr\xfddlant to the Gallas house, and since 1759 the domain was owned by the Clam-Gallases, an important aristocratic house active in diplomatic and military circles at the imperial court. They remained until 1945 when Fr\xfddlant became property of the state. \\n\\nThe original gothic castle hasn\u2019t been preserved in its entirety. Nowadays, the castle is a large two-floor building around the small, irregularly shaped courtyard, with the predominant cylindrical tower \u2013 a bergfrit. The castle was growing over time, and underwent two renaissance reconstructions in the 16th century. The chapel and the renaissance chateau were built at the turn of the 16th and 17th century by Marco Spazzio di Lancio. The last big reconstruction took place in the 1860s, when the castle warden wing was rebuilt. \\n\\nIn 1801, the Clam-Gallases enabled public access to a part of the castle with exhibitions, making it the first castle museum in the Central Europe. The current exhibition includes this museum, the chapel with valuable items, and two chateau wings.","label":"History of castle Fr\xfddlant"},{"language":"en","path":"/houses","title":"Houses","img":"/history/houses.jpg","card_label":"Get to know the individual owners of the Fr\xfddlant manor.","button":"Learn more","houses":[{"title":"Ronowitzer","description":"Founders of Fr\xfddlant Castle.","img":"/coat_of_arms/ronovci.png","button":"More","owners":[{"number":1,"name":"Ronowitzer","years":"?-1278","label":"The oldest history of the Fr\xfddlant castle is connected with the Ronowitzer family, who had it built in the 13th century.","button":"More","text":"The oldest history of the Fr\xfddlant castle is connected with the Ronowitzer family, who had it built in the 13th century. We don\'t know much about their activities in the northern part of Bohemia. The first known member of this family was Smil, who was a member of the retinue of King P\u0159emysl Otakar I. His sons Henry and \u010castolov still use the epithet \'of Zittau\' in 1238, but in 1257 we already find a mention of \'\u010castolov of Fr\xfddlant\'. The expansion of this family was limited in 1278 by King P\u0159emysl Otakar II., when he took the estate from the Ronowitzer family and sold it to the Biberstein family.","img":"/coat_of_arms/ronovci.png"}]},{"title":"Biberstein","description":"The longest ruling house, which was responsible for the expansion of the castle.","img":"/coat_of_arms/biberstejnove.png","button":"More","owners":[{"number":1,"name":"Biberstein","years":"1278-1551","label":"Representatives of the Biberstein family became the owners of the Fr\xfddlant castle for the next almost 300 years, and their reign is mainly connected with the construction expansion of the castle and the further growth of Fr\xfddlant manor.","button":"More","text":"Representatives of the Biberstein family became the owners of the Fr\xfddlant castle for the next almost 300 years, and their reign is mainly connected with the construction expansion of the castle and the further growth of Fr\xfddlant manor. Due to this family\'s efforts for further territorial gains, there have been several conflicts with neighboring ones nobles (e.g. the burning of Nymburk in 1326) and even clash with the royal army of Wenceslaus IV. \\n\\nDuring the Hussite Wars, Fr\xfddlant became the center of the anti-Hussite opposition, and the Fr\xfddlant manor was attacked several times between 1420 and 1433. The town of Fr\xfddlant and other villages in the vicinity were several times burned out. The Biberstein family then remained in opposition even against King Charles of Pod\u011bbrady and were involved in other military conflicts. During the rule of the last Biberstein, the Fr\xfddlant manor became completely Protestant, which was followed by family of Redern. The last male descendant, Christoph, died in 1551 without an heir and thus the manor fell to the Czech royal chamber.","img":"/coat_of_arms/biberstejnove.png"}]},{"title":"Redern","description":"The Silesian house, which contributed to the growth of Protestantism and the construction of the chateau.","img":"/coat_of_arms/redernove.png","button":"More","owners":[{"number":1,"name":"Friedrich of Redern","years":"?-1564","label":"Friedrich of Redern was a member of the Silesian knightly family.","button":"More","text":"Friedrich of Redern was a member of the Silesian knightly family. During his lifetime, he held the position of president of the Silesian Land Chamber and was a member of the royal commission to record the state of the Fr\xfddlant manor after death of the last owner. In 1558 it was Friedrich, who bought the North Bohemian estates of Liberec, Fr\xfddlant and Zawidow. After buying them, he reached elevation to nobility. He and his wife Salomena of Sch\xf6naich had a total of 10 children. He died in 1564 while staying in Wroclaw, Poland.","img":"/coat_of_arms/redernove.png"},{"number":2,"name":"Melchior of Redern","years":"1555-1600","label":"He was the ninth of a total of ten children of Friedrich of Redern.","button":"More","text":"He was the ninth of a total of ten children of Friedrich of Redern. He studied law at a protestant university in Heidelberg and then together with his brother Christopher went on a cavalier trip to France, where in 1572 he witnessed the murder of the Huguenots during the so-called Bartholomew\'s Night. In addition to France, he also visited the Italian cities of Rome, Padua or Naples. Melchior eventually joined the service in the army. In the 1570s and 1580s, he took part in the siege of Gda\u0144sk, the anti-Hungarian campaign, the war in the Netherlands or the Siege of Pskov. \\n\\nAfter death of his brother Christopher in 1591 he became the owner of the Fr\xfddlant manor. He married Catherine of \u0160lik, the sister of one of the most influential Protestant noblemen, J\xe1chym Ond\u0159ej of \u0160lik, who was the owner of the neighboring estate. During his lifetime, construction modifications were made in the castle area. He added one castle wing, the of the castle, the Renaissance wing of thechateau was created, and eventually also the chateau chapel. In the 1590s, Melchior returned to the Hungarian battlefields several times as an officer. As early as the spring of 1600, he participated in a meeting in Vienna about the next military advance against the Turks, during the autumn however, he interrupts his military campaign due to health reasons and died in September of this year.","img":"/people/melchior_redern.jpg"},{"number":3,"name":"Catherine of Redern","years":"1553-1617","label":"Catherine of Redern, born \u0160lik, was the sister of J\xe1chym Ond\u0159ej of \u0160lik, one of those executed at Old Town Square in 1621.","button":"More","text":"Catherine of Redern, born \u0160lik, was the sister of J\xe1chym Ond\u0159ej of \u0160lik, one of those executed at Old Town Square in 1621. Between 1600 and 1611 she managed the Fr\xfddlant manor for her underaged son Christopher. Her work on the Fr\xfddlant estate is mainly connected with disputes with the local townspeople regarding the right to brew beer. Bad relations with the locals eventually resulted in her staying primarily at castle in Liberec. \\n\\nDuring her tenure, the chateau chapels in Fr\xfddlant and Liberec were completed, and other churches were built in the entire Fr\xfddlant manor. She died in 1617 in Liberec, she was to be buried in the family tomb in Fr\xfddlant, but that never happened and the place of burial is still unknown.","img":"/people/katerina_redern.jpg"},{"number":4,"name":"Christopher of Redern","years":"1591-1641","label":"Christopher took over the administration of the estate in 1611.","button":"More","text":"Christopher took over the administration of the estate in 1611. He continued the dispute with the townspeople of Fr\xfddlant, which began during his mother\'s reign. After the outbreak of Bohemian uprising, together with his uncle J\xe1chym Ond\u0159ej of \u0160lik, he was involved on the side of Protestant union where he became the commander of a cavalry division. He was already suffering from health problems at this time. \\n\\nAfter defeat in 1620, his manor was confiscated and he lived in exile on the Zawidow estate. In 1627, the Zawidow estate was also confiscated from him. He then lived in the residence of his wife Magdalena of Hundt in Poland. During the raid Swedes to Bohemia between 1639-1640, he returned to Fr\xfddlant, but in the same year he had to leave Fr\xfddlant manor to Wallenstein. He dies in exile sometime after 1641.","img":"/people/krystof_redern.jpg"}]},{"title":"Albrecht of Wallenstein","description":"Albrecht of Wallenstein was a Czech military leader, politician and one of the most important figures in the Czech history.","img":"/coat_of_arms/albrecht.png","button":"More","owners":[{"number":1,"name":"Albrecht von Wallenstein","years":"1591-1641","label":"Albrecht of Wallenstein was born into a not very wealthy and influential Protestant family and eventually became one of the most powerful men of European importance.","button":"More","text":"Albrecht of Wallenstein was born into a not very wealthy and influential Protestant family and eventually became one of the most powerful men of European importance. His tenure at Fr\xfddlant was not long, it lasted only 12 years, even so, this is the time that made this place and the manor the most famous and it was even raised to a dukedom.\\n\\n The life of Albrecht of Wallenstein was connected with service in the army from a young age. He soon defected from the Protestant camp to the imperial service and on the battlefields of the Thirty Years\' War he attained the highest rank in military command, i.e. Generalissimo of the Imperial Army. His possessions, which included the manor of Fr\xfddlant were then more or less spared from major war conflicts and that is why they were referred to as \'the happy land - terra felix\'.\\n\\n As for the Fr\xfddlant manor, during Wallenstein\'s reign, we can talk about an economic rise, primarily in industries that were associated with the needs of the time \u2013 mining and metal processing or gunpowder production. The castle and chateau were uninhabited and only minor structural modifications took place. Wallenstein stayed here only for a few days in 1627, 1628 and 1630. The end of Wallenstein\'s life was heralded by the loss of trust from the emperor, who felt threatened by Walstein, which is why Wallenstein was murdered by his officers at the beginning of 1634.","img":"/people/albrecht_valdstejn.jpg"}]},{"title":"Gallas","description":"House from northern Italy, which contributed to the expansion of the Fr\xfddlant manor to include Lemberk Castle and its surroundings.","img":"/coat_of_arms/gallasove.png","button":"More","owners":[{"number":1,"name":"Matthias of Gallas","years":"1588-1647","label":"The life of Matthias of Gallas and his social rise were, as in the case of Wallenstein, tightly connected with the period of the Thirty Years\' War.","button":"More","text":"The life of Matthias of Gallas and his social rise were, as in the case of Wallenstein, tightly connected with the period of the Thirty Years\' War. Matthias joined the army as a young man and became famous for the first time in the wars for the Mantuan inheritance on the side of the Catholic League. In 1628 he entered the service of Albrecht of Wallenstein and became one of his generals. In 1632 he attained the rank of earl. After the betrayal of Wallenstein, he became the heir to the Frydlant manor and later the commander-in-chief of the Imperial army, where he worked until the end of the Thirty Years\' War. For Fr\xfddlant, his reign meant the period between 1640-1649 when the castle and town were occupied by Swedish crew. Matthias died in Vienna in 1647.","img":"/people/matyas_gallas.jpg"},{"number":2,"name":"Antonius of Gallas","years":"1638-1695","label":"Antonius is the younger of the sons of Matthias of Gallas.","button":"More","text":"Antonius is the younger of the sons of Matthias of Gallas. He lost his father at the age of 9. After studies and a cavalier journey after France and Benelux, together with his brother Francis Ferdinand, he took over the administration of inherited manors. During his lifetime, he worked as a chamberlain in the service of the Elector of Bavaria and inherited from his father the command of military regiments. His economic situation worsened to the point that he was forced to sell his share to manor and to gave up military regiments as well. In the end, he fell into debt and lived in Kladsk on estates of his son Philip Francis.","img":"/people/antonin_pankrac_gallas.jpg"},{"number":3,"name":"Francis Ferdinand of Gallas","years":"1635-1697","label":"Francis is the elder of the sons of Matthias of Gallas.","button":"More","text":"Francis is the elder of the sons of Matthias of Gallas. After completing his studies and cavalier journey, he took over the administration of the inherited manors. The only court title he received was the titular court chamberlain. During his life he stayed mainly on his manors in Bohemia, mostly in Prague and at the castle in Ho\u0159\xedn\u011bves. His life in Fr\xfddlant is mainly connected with the rebellion of the subjects led by the blacksmith Ond\u0159ej of Stelzig, which was suppressed in 1680. He died in 1697 and his remains are kept in the ancestral tomb in Hejnice.","img":"/people/frantisek_ferdinand_gallas.jpg"},{"number":4,"name":"John Wenceslaus of Gallas","years":"1671-1719","label":"The most important member of this family together with Matthias of Gallas.","button":"More","text":"The most important member of this family together with Matthias of Gallas. He worked in the service of emperors Joseph I. and Charles VI. as an imperial chamberlain, a true privy councilor and diplomat. He worked in the diplomatic service in London, The Hague and Rome. He was eventually appointed viceroy in Naples, where he died in 1719. He is the founder of the later Clam-Gallas Palace in Prague\'s Old Town.","img":"/people/jan_vaclav_gallas.jpg"},{"number":5,"name":"Philip Joseph of Gallas","years":"1703-1757","label":"The last member of the Gallas family, thanks to whom the Fr\xfddlant estate was expanded to include the area around Lemberk.","button":"More","text":"The last member of the Gallas family, thanks to whom the Fr\xfddlant estate was expanded to include the area around Lemberk. During his life he held the official positions of the highest regional hofmeister of the Kingdom of Bohemia and the highest court judge. After the Habsburg army suffered a defeat by the Prussians in the Battle of Liberec, the Fr\xfddlant region was plundered by the Prussians. \\n\\nHe died in 1757 without a male heir, the estate was then managed by his wife Marie Anna. After her death the estate was passed to his nephew Christian Philip of Clam. The condition for this was the merging coats of arms and the addition of the name Gallas. This gave rise to the house Clam-Gallas.","img":"/people/filip_josef_gallas.jpg"}]},{"title":"Clam-Gallas","description":"The last family living in the Fr\xfddlant castle. During her tenure, a major reconstruction of the Renaissance wing of the chateau and the construction of a new wing took place.","img":"/coat_of_arms/clamgallasove.png","button":"Learn","owners":[{"number":1,"name":"Christian Philip of Clam-Gallas","years":"1748-1805","label":"The first of the Clam-Gallas line, who also held offices at the Habsburg court during his lifetime.","button":"More","text":"The first of the Clam-Gallas line, who also held offices at the Habsburg court during his lifetime. He became royal chamberlain of three emperors and was promoted to knight of the order of St. Stephen. He expanded the family estates by another territory. \\n\\nHe was a great lover and patron of the arts. In his Prague residence he hosted, for example, Mozart or Beethoven. In the Fr\xfddlant region, he is primarily associated with the founding of the spa town of Libverda, in Prague then with the Klamovka estate.","img":"/people/kristian_filip_clamgallas.jpg"},{"number":2,"name":"Christian Christopher of Clam-Gallas","years":"1771-1838","label":"Christian Christopher of Clam-Gallas continued his father\'s legacy in terms of career and patronage.","button":"More","text":"Christian Christopher of Clam-Gallas continued his father\'s legacy in terms of career and patronage. He had the rank of Supreme Marshal of the Czech Kingdom. He married Josefina Caroline Clary-Aldringen, also a great lover of art. Together they maintained contact with, for example, Ludwig van Beethoven. \\n\\nHe contributed to further construction activity in Libverda, where new spa pavilions were built. Around Klamovka,he established gardens with sculptural decoration.","img":"/people/kristian_krystof_clamgallas.jpg"},{"number":3,"name":"William of Clam-Gallas","years":"1801-1822","label":"The elder of Christian Christopher\'s sons.","button":"More","text":"The elder of Christian Christopher\'s sons. He died very young at the age of 21. He is buried in the ancestral tomb in Hejnice.","img":"/people/vilem_clamgallas.jpg"},{"number":4,"name":"Edward of Clam-Gallas","years":"1805-1891","label":"Edward was the younger of Christian Christopher\'s sons and also the most prominent member of the Clam-Gallas family.","button":"More","text":"Edward was the younger of Christian Christopher\'s sons and also the most prominent member of the Clam-Gallas family. In 1823 he entered the army as a young man, where he reached the rank of general. He fought under the command of Marshal Radeck\xfd in Northern Italy during the First Italian War of Independence, then fought in Hungary and returned to the Second War in Northern Italy. The most significant of the battles in which he participated are the battles of Magenta and Solferin. \\n\\nDuring the Prussian-Austrian War, he suffered a defeat at the Battle of Ji\u010d\xedn, for which he was judged by a court-martial. Even though he was acquitted, he never returned to the army and lived out his life in Fr\xfddlant and Liberec. \\n\\nDuring his stay in Fr\xfddlant, he had the local chateau undergo extensive reconstruction and building modifications, during which the newest wing of the chateau was created. He died in 1891 at the age of 86.","img":"/people/eduard_clamgallas.jpg"},{"number":5,"name":"Francis of Clam-Gallas","years":"1854-1930","label":"The last male descendant of the Clam-Gallas family.","button":"More","text":"The last male descendant of the Clam-Gallas family. He too continued his civil service career, was chamberlain and privy councilor, but above all he devoted himself to the management of the family estates Liberec, Fr\xfddlant, Grab\u0161tejn and Lemberk. \\n\\nThe First World War, the creation of the Czechoslovak Republic and also the land reform intervened in his life. In addition to farming, he also devoted his whole life to volunteer work and charity, to which he actively contributed. \\n\\nHe died in Fr\xfddlanta in 1930 and left behind 7 daughters. The youngest of them, Clotilde, lived in Fr\xfddlant until the end of World War II.","img":"/people/frantisek_clamgallas.jpg"},{"number":6,"name":"Clotilde of Clam-Gallas","years":"1898-1975","label":"Clotilde of Clam-Gallas was the youngest daughter of Francis Clam-Gallas and Maria Hoyos-Sprinzenstein.","button":"More","text":"Clotilde of Clam-Gallas was the youngest daughter of Francis Clam-Gallas and Maria Hoyos-Sprinzenstein. During Francis\' lifetime, his properties were divided between his daughters. Clotilde then received the Fr\xfddlant Castle. She remained single after her father\'s death, she took care of her widowed mother. After 1945, she had to move abroad and the castle was nationalized.","img":"/people/clotilda_clamgallas_mladsi.jpg"}]}]},{"language":"de","path":"/history_overview","title":"Geschichte \xdcbersicht","button":"Mehr","img":"/history/history.jpg","card_label":"Lernen Sie die Geschichte der Burg und des Schlosses Fr\xfddlant kennen.","description":"Fr\xfddlant ist eine der gr\xf6\xdften und bedeutendsten Denkm\xe4ler in Nordb\xf6hmen. Es besteht aus zwei architektonischen Komplexen: einer mittelalterlichen Burg und einem Renaissanceschloss. Die Burg wurde um die Mitte des 13. Jahrhunderts erbaut. 1278 ging die Dom\xe4ne in den Besitz des Hauses Biberstein \xfcber, das ma\xdfgeblich am Bau des gro\xdfen Burgschlosses beteiligt war. Zwischen 1558 und 1620 war Fr\xfddlant im Besitz des Hauses Redern, das die Herrschaft weiter ausbaute. Die Rederns waren gute Manager und Krieger, aber auch Baumeister und Kunstf\xf6rderer. Sie bauten das Neurenaissanceschloss und die Kapelle. \\n\\nZwischen 1622 und 1634 geh\xf6rte die Burg Albrecht von Wallenstein. Er kaufte es f\xfcr 150.000 Gulden und baute nach und nach eine gro\xdfe Dom\xe4ne auf. Seine L\xe4ndereien bl\xfchten w\xe4hrend des Drei\xdfigj\xe4hrigen Krieges sehr auf, als sie seine Armee versorgten. Die Region Fr\xfddlant wurde Terra felix \u2013 das gl\xfcckliche Land \u2013 genannt. \\n\\nNach der Ermordung Albrechts im Jahre 1634 schenkte der Kaiser Fr\xfddlant dem Haus Gallas, und seit 1759 geh\xf6rte die Dom\xe4ne den Clam-Gallas, einem wichtigen Adelshaus, das in diplomatischen und milit\xe4rischen Kreisen am kaiserlichen Hof aktiv war. Sie blieben bis 1945, als Fr\xfddlant Staatseigentum wurde. \\n\\nDie urspr\xfcngliche gotische Burg ist nicht vollst\xe4ndig erhalten. Heutzutage ist die Burg ein gro\xdfes zweist\xf6ckiges Geb\xe4ude um den kleinen, unregelm\xe4\xdfig geformten Innenhof mit dem vorherrschenden zylindrischen Turm \u2013 einem Bergfrit. Die Burg wuchs im Laufe der Zeit und wurde im 16. Jahrhundert zweimal im Renaissancestil umgebaut. Die Kapelle und das Renaissanceschloss wurden um die Wende vom 16. zum 17. Jahrhundert von Marco Spazzio di Lancio erbaut. Der letzte gro\xdfe Umbau fand in den 1860er Jahren statt, als der Burgw\xe4rterfl\xfcgel wieder aufgebaut wurde. \\n\\nIn 1801 machten die Clam-Gallases einen Teil der Burgs mit Ausstellungen \xf6ffentlich zug\xe4nglich und machten es zum ersten Schlossmuseum in Mitteleuropa. Die aktuelle Ausstellung umfasst dieses Museum, die Kapelle mit wertvollen Gegenst\xe4nden und zwei Schlossfl\xfcgel.","label":"Geschichte der Burg Fr\xfddlant"},{"language":"de","path":"/houses","title":"Houses","img":"/history/houses.jpg","card_label":"Lernen Sie die einzelnen Besitzer der Herrschaft Fr\xfddlant kennen","button":"Mehr","houses":[{"title":"Ronowitzer","description":"Gr\xfcnder der Burg Fr\xfddlant.","img":"/coat_of_arms/ronovci.png","button":"Mehr","owners":[{"number":1,"name":"Ronowitzer","years":"?-1278","label":"Die \xe4lteste Geschichte der Burg Fr\xfddlant ist mit der Familie Ronowitzer verbunden, die sie offenbar im 13. Jahrhundert in den 1340er Jahren erbauen lie\xdf.","button":"Mehr","text":"Die \xe4lteste Geschichte der Burg Fr\xfddlant ist mit der Familie Ronowitzer verbunden, die sie offenbar im 13. Jahrhundert in den 1340er Jahren erbauen lie\xdf. Wir wissen nicht viel \xfcber ihre Aktivit\xe4ten in Nordb\xf6hmen. Das erste bekannte Mitglied aus dieser Familie war Smil, der zum Gefolge von K\xf6nig P\u0159emysl Otakar I. geh\xf6rte. Seine S\xf6hne Jind\u0159ich und \u010castolov verwenden noch 1238 den Beinamen \'von Zittau\', aber schon 1257 finden wir eine Erw\xe4hnung \'Der Vogel von Fr\xfddlant\'. Die Expansion dieser Familie wurde 1278 von K\xf6nig P\u0159emysl Otakar II. begrenzt, als er den Besitz von der Familie Ronowitzer \xfcbernahm und an die benachbarte Familie Biberstein verkaufte.","img":"/coat_of_arms/ronovci.png"}]},{"title":"Biberstein","description":"Das l\xe4ngste Herrscherhaus, das f\xfcr den Ausbau des Schlosses verantwortlich war.","img":"/coat_of_arms/biberstejnove.png","button":"Mehr","owners":[{"number":1,"name":"Biberstein","years":"1278-1551","label":"Die Vertreter der Familie Biberstein wurden f\xfcr die n\xe4chsten 300 Jahre Eigent\xfcmer der Herrschaft Fr\xfddlant, und ihre T\xe4tigkeit ist haupts\xe4chlich mit dem Ausbau der Burg und dem weiteren Wachstum der Herrschaft Fr\xfddlant verbunden.","button":"Mehr","text":"Die Vertreter der Familie Biberstein wurden f\xfcr die n\xe4chsten 300 Jahre Eigent\xfcmer der Herrschaft Fr\xfddlant, und ihre T\xe4tigkeit ist haupts\xe4chlich mit dem Ausbau der Burg und dem weiteren Wachstum der Herrschaft Fr\xfddlant verbunden. Dank der Bem\xfchungen dieser Familie um weitere Gebietsgewinne kam es zu mehreren Konflikten mit benachbarten Adligen (z. B. dem Brand von Nymburk im Jahr 1326) und schlie\xdflich zu einem Zusammensto\xdf mit der k\xf6niglichen Armee von Wenzel IV. \\n\\nW\xe4hrend der Hussitenkriege wurde Fr\xfddlant zum Zentrum der antihussitischen Opposition, und die Herrschaft Fr\xfddlant wurde zwischen 1420 und 1433 mehrmals angegriffen. Die Stadt Fr\xfddlant und andere D\xf6rfer in der N\xe4he waren mehrmals ausgebrannt. Die Familie Biberstein blieb dann in Opposition zu K\xf6nig Ji\u0159\xed von Pod\u011bbrady und nahm an anderen kriegerischen Auseinandersetzungen teil. W\xe4hrend der Herrschaft der letzten Mitglieder det Familie Biberstein wurde die Herrschaft Fr\xfddlant vollst\xe4ndig protestantisch, worauf die aufstrebende Familie Redern folgte. Der letzte m\xe4nnliche Nachkomme, Kry\u0161tof, starb 1551 ohne Erben und somit fiel die Herrschaft an die b\xf6hmische K\xf6nigskammer.","img":"/coat_of_arms/biberstejnove.png"}]},{"title":"R\xf6dern","description":"Das Schlesische Haus, das zum Wachstum des Protestantismus und zum Bau des Schlosses beitrug.","img":"/coat_of_arms/redernove.png","button":"Mehr","owners":[{"number":1,"name":"Friedrich von R\xf6dern","years":"?-1564","label":"Friedrich von R\xf6dern war ein Mitglied des schlesischen Rittergeschlechts.","button":"Mehr","text":"Friedrich von R\xf6dern war ein Mitglied des schlesischen Rittergeschlechts. Zu seinen Lebzeiten bekleidete er das Amt des Pr\xe4sidenten der Schlesischen L\xe4nderkammer und war Mitglied der k\xf6niglichen Kommission zur Erfassung des Zustandes des Guts nach dem Tod des letzten Besitzers des Gutshofes Fr\xfddlant. In 1558 kaufte Friedrich die nordb\xf6hmischen G\xfcter Liberec, Fr\xfddlant und Zawidow. Nach dem Kauf wurde er in den Adelsstand erhoben. Er und seine Frau Salomena aus Sch\xf6naich hatten insgesamt 10 Kinder. Er starb 1564 w\xe4hrend eines Aufenthalts in Wroclaw, Polen.","img":"/coat_of_arms/redernove.png"},{"number":2,"name":"Melchior von R\xf6dern","years":"1555-1600","label":"Er war das neunte von insgesamt zehn Kindern von Friedrich von R\xf6dern.","button":"Mehr","text":"Er war das neunte von insgesamt zehn Kindern von Friedrich von R\xf6dern. In seiner Jugend studierte er der Rechtswissenschaften an einer evangelischen Universit\xe4t in Heidelberg und begab sich anschlie\xdfend zusammen mit seinem Bruder Christoph auf eine Kavaliersreise nach Frankreich, wo er 1572 Zeuge des Massakers an den Hugenotten in der sogenannten Bartholom\xe4usnacht wurde. Neben Frankreich besuchte er auch die italienischen St\xe4dte Rom, Padua und Neapel. Alle m\xe4nnlichen Nachkommen wurden an der Verwaltung des Frydlant-Anwesens beteiligt, und Melchior trat schlie\xdflich der Armee bei. In den 1570er und 1580er Jahren nahm er an der Belagerung von Danzig, dem Feldzug gegen Ungarn, dem Krieg in den Niederlanden oder der Belagerung von Pskow teil.\\n\\nErst 1581 verwaltete er das Gut nur mit seinem Bruder Kry\u0161tof, und nach seinem Tod 1591 wurde er alleiniger Eigent\xfcmer. Er heiratete Katharina von \u0160lik, die Schwester eines der einflussreichsten protestantischen Adligen, J\xe1chym Ond\u0159ej von \u0160lik. Zu seinen Lebzeiten wurden im Burgbereich bauliche Ver\xe4nderungen vorgenommen. Ein Burgfl\xfcgel wurde angebaut, ein Renaissancefl\xfcgel des Schlosses wurde in der N\xe4he der Burg errichtet und schlie\xdflich auch eine Schlosskapelle. In den 1590er Jahren kehrte Melchior mehrmals als Offizier auf die ungarischen Schlachtfelder zur\xfcck. Bereits im Fr\xfchjahr 1600 nahm er an einer Versammlung in Wien \xfcber das weitere milit\xe4rische Vorgehen gegen die T\xfcrken teil, unterbrach jedoch im Herbst aus gesundheitlichen Gr\xfcnden seinen Feldzug und starb im September dieses Jahres.","img":"/people/melchior_redern.jpg"},{"number":3,"name":"Katharina von R\xf6dern","years":"1553-1617","label":"Katharina von R\xf6dern, geborene \u0160lik, war die Schwester von J\xe1chym Ond\u0159ej von \u0160lik, einem von denen, die 1621 auf dem Altst\xe4dter Ring hingerichtet wurden.","button":"Mehr","text":"Katharina von R\xf6dern, geborene \u0160lik, war die Schwester von J\xe1chym Ond\u0159ej von \u0160lik, einem von denen, die 1621 auf dem Altst\xe4dter Ring hingerichtet wurden. Zwischen 1600 und 1611 verwaltete sie das Gut f\xfcr ihren minderj\xe4hrigen Sohn Christoph. Ihre Arbeit auf dem Gut Fr\xfddlant ist vor allem mit Streitigkeiten mit den B\xfcrgern der Stadt um das Bierbraurecht verbunden. Schlechte Beziehungen zu den Einheimischen f\xfchrten schlie\xdflich dazu, dass sie haupts\xe4chlich auf dem Schloss in Liberec blieb, und f\xfchrten zu lokalem Aberglauben \xfcber den b\xf6sen Adel. \\n\\nW\xe4hrend ihrer Amtszeit wurde die Schlosskapelle in Fr\xfddlant und Liberec fertig gestellt, und weitere Kirchen wurden im gesamten Gut Fr\xfddlant gebaut. Sie starb 1617 in Liberec, sie sollte in der Familiengruft in Fr\xfddlant beerdigt werden, aber das geschah nie und der Bestattungsort ist bis heute unbekannt.","img":"/people/katerina_redern.jpg"},{"number":4,"name":"Christoph von R\xf6dern","years":"1591-1641","label":"Christoph \xfcbernahm nach Vollj\xe4hrigkeit im Jahre 1611 die Herrschafr Fr\xfddlant.","button":"Mehr","text":"Christoph \xfcbernahm nach Vollj\xe4hrigkeit im Jahre 1611 die Herrschafr Fr\xfddlant. Er setzte den Streit mit den B\xfcrgern von Frydlant fort, der bereits w\xe4hrend der Regentschaft seiner Mutter begonnen hatte. Nach dem Ausbruch des St\xe4ndeaufstandes engagierte er sich zusammen mit seinem Onkel J\xe1chym Ond\u0159ej von \u0160lik auf der Seite des Protestantischen Bundes, als er Kommandeur einer Kavallerieeinheit wurde. Er litt zu diesem Zeitpunkt bereits unter gesundheitlichen Problemen. \\n\\nNach der Niederlage der b\xf6hmischen Staaten 1620 wurde sein Verm\xf6gen beschlagnahmt und er lebte im Exil auf dem Gut Zawidow. Er trat in den Dienst von K\xf6nig Christian von D\xe4nemark und setzte seinen Kampf gegen den Kaiser fort. Er unterhielt auch Beziehungen zu anderen Exilanten, z.B. Jind\u0159ich Maty\xe1\u0161 Thurn. 1627 wurde ihm auch das Gut Zawidow entzogen. Anschlie\xdfend residierte er in der Residenz seiner Frau Magdalena von Hundt im heutigen Polen. Als die Schweden zwischen 1639 und 1640 in B\xf6hmen einfielen, kehrte er nach Fr\xfddlant zur\xfcck, musste es aber im selben Jahr wieder nach Wallenstein verlassen. Er starb irgendwann nach 1641 im Exil.","img":"/people/krystof_redern.jpg"}]},{"title":"Albrecht von Wallenstein","description":"Albrecht von Wallenstein war ein tschechischer Heerf\xfchrer, Politiker und eine der bedeutendsten Pers\xf6nlichkeiten der tschechischen Geschichte.","img":"/coat_of_arms/albrecht.png","button":"Mehr","owners":[{"number":1,"name":"Albrecht von Wallenstein","years":"1591-1641","label":"Albrecht von Wallenstein wurde in eine nicht sehr wohlhabende und einflussreiche protestantische Familie hineingeboren und wurde schlie\xdflich einer der m\xe4chtigsten M\xe4nner von gesamteurop\xe4ischer Bedeutung.","button":"Mehr","text":"Albrecht von Wallenstein wurde in eine nicht sehr wohlhabende und einflussreiche protestantische Familie hineingeboren und wurde schlie\xdflich einer der m\xe4chtigsten M\xe4nner von gesamteurop\xe4ischer Bedeutung. Seine Amtszeit bei Fr\xfddlant war nicht lang, es dauerte nur 12 Jahre, dennoch ist dies die Zeit, die diesen Ort am ber\xfchmtesten machte und das Anwesen zum Herzogtum erhoben wurde. \\n\\nDas Leben von Albrecht von Wallenstein war schon in jungen Jahren mit dem Milit\xe4rdienst verbunden. Er trat bald aus dem protestantischen Lager in den kaiserlichen Dienst \xfcber und erreichte auf den Schlachtfeldern des Drei\xdfigj\xe4hrigen Krieges die h\xf6chste Position in der Heeresleitung, d.h. Generalissimus der kaiserlichen Armee. Seine Besitzungen, zu denen auch das Herzogtum Fr\xfddlant geh\xf6rte, blieben damals von gr\xf6\xdferen kriegerischen Auseinandersetzungen mehr oder weniger verschont und wurden daher als \u201edas gl\xfcckliche Land \u2013 terra felix\u201c bezeichnet. \\n\\nWas das Gut Fr\xfddlan betrifft, k\xf6nnen wir w\xe4hrend der Herrschaft von Wallenstein von wirtschaftlichem Wachstum sprechen, insbesondere in Industriezweigen, die mit den Bed\xfcrfnissen der Zeit verbunden waren - Metallabbau und -verarbeitung oder Schie\xdfpulverherstellung. Die Burg und das Schloss waren unbewohnt und es wurden nur geringf\xfcgige bauliche Ver\xe4nderungen vorgenommen. Wallenstein hielt sich hier nur wenige Tage in den Jahren 1627, 1628 und 1630 auf. Das Ende von Wallensteins Leben k\xfcndigte der Vertrauensverlust des Kaisers an, der sich durch seine Pers\xf6nlichkeit bedroht f\xfchlte, und so wurde Wallenstein Anfang 1634 von seinen Offizieren entfernt . Damit endete eine Zeit ohne gr\xf6\xdfere Kriegsn\xf6te und Ver\xe4nderungen auch f\xfcr seinen Nachlass.","img":"/people/albrecht_valdstejn.jpg"}]},{"title":"Gallas","description":"Herrscherhaus aus Norditalien, das zur Erweiterung des Gutshofs Fr\xfddlant um das Schloss Lemberk und seine Umgebung beitrug.","img":"/coat_of_arms/gallasove.png","button":"Mehr","owners":[{"number":1,"name":"Matthias von Gallas","years":"1588-1647","label":"Das Leben des Matthias von Gallas und sein gesellschaftlicher Aufstieg waren wie im Falle Wallensteins fest mit der Zeit des Drei\xdfigj\xe4hrigen Krieges verbunden.","button":"Mehr","text":"Das Leben des Matthias von Gallas und sein gesellschaftlicher Aufstieg waren wie im Falle Wallensteins fest mit der Zeit des Drei\xdfigj\xe4hrigen Krieges verbunden. Matthias trat als junger Mann in die Armee ein und wurde zum ersten Mal in den Kriegen ber\xfchmt f\xfcr das mantuanische Erbe auf der Seite der Katholischen Liga. 1628 trat er in die Dienste von Albrecht von Wallenstein und wurde einer seiner Feldherren. 1632 erlangte er den Rang eines Earls. Nach dem Verrat an Wallenstein wurde er Erbe des Gutshofes Fr\xfddlant und sp\xe4ter Oberbefehlshaber der kaiserlichen Armee, wo er bis zum Ende des Drei\xdfigj\xe4hrigen Krieges diente. F\xfcr Fr\xfddlant bedeutete seine Regierungszeit die Zeit zwischen 1640 und 1649, als das Schloss und die Stadt von einer schwedischen Garnison besetzt waren. Matthias starb 1647 in Wien.","img":"/people/matyas_gallas.jpg"},{"number":2,"name":"Antonius von Gallas","years":"1638-1695","label":"Der j\xfcngere der S\xf6hne des Matthias von Gallas.","button":"Mehr","text":"Der j\xfcngere der S\xf6hne des Matthias von Gallas. Er verlor seinen Vater im Alter von 9 Jahren. Nach seinem Studium und einer Kavaliersreise durch Frankreich und die Benelux-L\xe4nder \xfcbernahm er zusammen mit seinem Bruder Franz Ferdinand die F\xfchrung der Familieng\xfcter. Zu Lebzeiten arbeitete er als Kammerherr im Dienst des Kurf\xfcrsten von Bayern und erbte von seinem Vater die F\xfchrung von Milit\xe4rregimentern. Seine wirtschaftliche Situation verschlechterte sich derart, dass er gezwungen war, seinen Anteil an den G\xfctern zu verkaufen und seine Milit\xe4rregimenter aufzugeben. Schlie\xdflich verschuldete er sich und lebte in Kladsk auf den G\xfctern seines Sohnes Filip Franz.","img":"/people/antonin_pankrac_gallas.jpg"},{"number":3,"name":"Franz Ferdinand von Gallas","years":"1635-1697","label":"\xc4ltester der S\xf6hne des Matthias von Gallas.","button":"Mehr","text":"\xc4ltester der S\xf6hne des Matthias von Gallas. Nach Abschluss seiner Ritterlehre \xfcbernahm er die Verwaltung der ererbten L\xe4ndereien. Der einzige Gerichtstitel, den er erhielt, war der Titulargerichtsk\xe4mmerer. Zu seinen Lebzeiten lebte er haupts\xe4chlich auf seinen G\xfctern in B\xf6hmen, haupts\xe4chlich in Prag und auf der Burg in Ho\u0159\xednevs. Sein Leben in Fr\xfddlant ist vor allem mit dem Aufstand der Untertanen unter F\xfchrung des Peitschenschmieds Ond\u0159ej von Stelzig verbunden, der 1680 niedergeschlagen wurde. Er starb 1697 und seine sterblichen \xdcberreste werden in der Ahnengruft in Hejnice aufbewahrt.","img":"/people/frantisek_ferdinand_gallas.jpg"},{"number":4,"name":"Johann Wenzeslaus von Gallas","years":"1671-1719","label":"Das wichtigste Mitglied dieser Familie zusammen mit Matthias von Gallas.","button":"Mehr","text":"Das wichtigste Mitglied dieser Familie zusammen mit Matthias von Gallas. Er arbeitete im Dienst der Kaiser Joseph I. und Karl VI. als kaiserlicher K\xe4mmerer, echter Geheimrat und Diplomat. Er diente im diplomatischen Dienst in London, Den Haag und Rom. Er wurde schlie\xdflich zum Vizek\xf6nig in Neapel ernannt, wo er 1719 starb. Er ist der Gr\xfcnder des sp\xe4teren Clam-Gallas-Palais in der Prager Altstadt.","img":"/people/jan_vaclav_gallas.jpg"},{"number":5,"name":"Philip Joseph von Gallas","years":"1703-1757","label":"Prvni majitel frydlantu","button":"Mehr","text":"Das letzte Mitglied der Familie Gallas, dank dessen das Gut Fr\xfddlant auf das Gebiet um Lemberk ausgedehnt wurde. Zu seinen Lebzeiten bekleidete er die \xc4mter des h\xf6chsten Landeshofmeisters des K\xf6nigreichs B\xf6hmen und des obersten Gerichtsrichters. Nachdem die habsburgische Armee in der Schlacht bei Liberec eine Niederlage gegen die Preu\xdfen erlitten hatte, wurde ganz Friedland von den Preu\xdfen gepl\xfcndert. \\n\\nEr starb 1757 ohne m\xe4nnlichen Erben, das Gut wurde dann von seiner Frau Marie Anna verwaltet. Nach ihren Tod musste das Gut an seinen Neffen Christian Philip von Clam \xfcbergehen. Voraussetzung daf\xfcr war die Zusammenlegung der Wappen und die Hinzuf\xfcgung des Namens Gallas.","img":"/people/filip_josef_gallas.jpg"}]},{"title":"Clam-Gallas","description":"Die letzte Familie, die im Schloss Fr\xfddlant lebte. W\xe4hrend ihrer Amtszeit fand eine umfassende Rekonstruktion des Renaissancefl\xfcgels des Schlosses und der Bau eines neuen Fl\xfcgels statt.","img":"/coat_of_arms/clamgallasove.png","button":"Mehr","owners":[{"number":1,"name":"Christian Philip von Clam-Gallas","years":"1748-1805","label":"Der erste aus der Clam-Gallas-Linie, der zu Lebzeiten auch \xc4mter am habsburgischen Hof bekleidete.","button":"Mehr","text":"Der erste aus der Clam-Gallas-Linie, der zu Lebzeiten auch \xc4mter am habsburgischen Hof bekleidete. Er wurde k\xf6niglicher Kammerherr von drei Kaisern und wurde in den Rang eines Ritters des St.-Stephans-Ordens erhoben. Er erweiterte die Familieng\xfcter mit zus\xe4tzlichem Territorium. \\n\\nEr war ein gro\xdfer Liebhaber und M\xe4zen der K\xfcnste. Er beherbergte zum Beispiel Mozart oder Beethoven in seiner Prager Residenz. In der Region Frydlant ist es vor allem mit der Gr\xfcndung der Kurstadt Libverda und in Prag mit dem Gut Klamovka verbunden.","img":"/people/kristian_filip_clamgallas.jpg"},{"number":2,"name":"Christian Christoph von Clam-Gallas","years":"1771-1838","label":"Christian Christoph setzte das Erbe seines Vaters in Bezug auf Karriere und M\xe4zenatentum fort.","button":"Mehr","text":"Christian Christoph setzte das Erbe seines Vaters in Bezug auf Karriere und M\xe4zenatentum fort. Er bekleidete den Rang eines Obersten Marschalls des b\xf6hmischen K\xf6nigreichs. Er heiratete Josefina Caroline von Clary-Aldringen, ebenfalls eine gro\xdfe Kunstliebhaberin. Gemeinsam pflegten sie den Kontakt zum Beispiel zu Ludwig van Beethoven. \\n\\nEr trug zur weiteren Baut\xe4tigkeit in Libverda bei, wo neue Spa-Pavillons gebaut wurden. Rund um das Geh\xf6ft Klamovka lie\xdf er G\xe4rten mit Skulpturenschmuck anlegen.","img":"/people/kristian_krystof_clamgallas.jpg"},{"number":3,"name":"Wilhelm von Clam-Gallas","years":"1801-1822","label":"Der \xe4ltere der S\xf6hne von Christian Christoph.","button":"Mehr","text":"Der \xe4ltere der S\xf6hne von Christian Christoph. Er starb sehr jung im Alter von 21 Jahren. Er ist in der Familiengruft in Hejnice begraben.","img":"/people/vilem_clamgallas.jpg"},{"number":4,"name":"Eduard von Clam-Gallas","years":"1805-1891","label":"Der j\xfcngere Sohn von Christian Christoph.","button":"Mehr","text":"Der j\xfcngere Sohn von Christian Christoph. Das prominenteste Mitglied der Clam-Gallas-Familie. Bereits als junger Mann trat er 1823 in die Armee ein, wo er den Rang eines Generals erreichte. Unter dem Kommando von Marschall Radeck\xfd k\xe4mpfte er w\xe4hrend des Ersten Italienischen Unabh\xe4ngigkeitskrieges in Norditalien, schloss sich dann den K\xe4mpfen in Ungarn an und kehrte in den Zweiten Krieg nach Norditalien zur\xfcck. Die wichtigsten der Schlachten, an denen er teilnahm, sind die Schlachten von Magenta und Solferino. \\n\\nW\xe4hrend des Preu\xdfisch-\xd6sterreichischen Krieges erlitt er in der Schlacht bei Ji\u010d\xedn eine Niederlage, f\xfcr die er vor ein Kriegsgericht gestellt wurde. Dieser sprach ihn frei, aber er kehrte nie zur Armee zur\xfcck und verbrachte sein Leben in Fr\xfddlant und Liberec. \\n\\nW\xe4hrend seines Aufenthaltes in Fr\xfddlant lie\xdf er das Renaissanceschloss umfassend umbauen, wobei der neueste Fl\xfcgel des Schlosses entstand. Er starb 1891 im Alter von 86 Jahren.","img":"/people/eduard_clamgallas.jpg"},{"number":5,"name":"Franz von Clam-Gallas","years":"1854-1930","label":"Der letzte m\xe4nnliche Nachkomme der Familie Clam-Gallas.","button":"Mehr","text":"Der letzte m\xe4nnliche Nachkomme der Familie Clam-Gallas. Auch er setzte seine Beamtenlaufbahn fort, war Kammerherr und Geheimrat, widmete sich aber vor allem der Verwaltung der Familieng\xfcter Liberec, Fr\xfddlant, Grab\u0161tejn und Lemberk. \\n\\nDer Erste Weltkrieg, die Gr\xfcndung der Tschechoslowakischen Republik und auch die Bodenreform griffen in sein Leben ein. Neben der Landwirtschaft widmete er sein ganzes Leben der Freiwilligenarbeit und der Wohlt\xe4tigkeit, zu der er aktiv beitrug. \\n\\nEr starb 1930 in Fr\xfddlant und hinterlie\xdf 7 T\xf6chter. Die j\xfcngste von ihnen, Clotilde, lebte bis zum Ende des Zweiten Weltkriegs in Fr\xfddlant.","img":"/people/frantisek_clamgallas.jpg"},{"number":6,"name":"Clotilde von Clam-Gallas","years":"1898-1975","label":"Klotilde von Clam-Gallas war die j\xfcngste Tochter von Franz Clam-Gallas und Maria Hoyos-Sprinzenstein.","button":"Mehr","text":"Klotilde von Clam-Gallas war die j\xfcngste Tochter von Franz Clam-Gallas und Maria Hoyos-Sprinzenstein. Zu Franz Lebzeiten wurde sein Verm\xf6gen zwischen seinen T\xf6chtern aufgeteilt. Clotilde erhielt dann die Burg Fr\xfddlant. Nach Franzs Tod k\xfcmmerte sie sich um ihre verwitwete Mutter und blieb ledig. Nach 1945 musste sie ins Ausland umziehen und das Schloss wurde verstaatlicht.","img":"/people/clotilda_clamgallas_mladsi.jpg"}]}]},{"language":"es","path":"/history_overview","title":"Descripci\xf3n general de la historia","button":"Aprende m\xe1s","img":"/history/history.jpg","card_label":"Conozca la historia del castillo y palacio de Fr\xfddlant.","description":"Fr\xfddlant is one of largest and most important heritage sites in Northern Bohemia. It consists of two architectural complexes: a medieval castle and a renaissance chateau. The castle was built around the mid-13th century. In 1278, the domain became property of the Biberstein house who took major part in building the large castle palace. Between 1558 and 1620, Fr\xfddlant was owned by the Redern house that continued to upgrade the domain. The Rederns were good managers and warriors, but also builders and art supporters. They built the new renaissance chateau and the chapel. \\n\\nBetween 1622 and 1634, the castle belonged to Albrecht of Wallenstein. He bought it for 150,000 guldens and gradually built a large domain. His estates flourished greatly during the Thirty Years War as they supplied his army. The Fr\xfddlant region was called Terra felix \u2013 the happy country. \\n\\nAfter Albrecht\u2019s murder in 1634, the emperor gave Fr\xfddlant to the Gallas house, and since 1759 the domain was owned by the Clam-Gallases, an important aristocratic house active in diplomatic and military circles at the imperial court. They remained until 1945 when Fr\xfddlant became property of the state. \\n\\nThe original gothic castle hasn\u2019t been preserved in its entirety. Nowadays, the castle is a large two-floor building around the small, irregularly shaped courtyard, with the predominant cylindrical tower \u2013 a bergfrit. The castle was growing over time, and underwent two renaissance reconstructions in the 16th century. The chapel and the renaissance chateau were built at the turn of the 16th and 17th century by Marco Spazzio di Lancio. The last big reconstruction took place in the 1860s, when the castle warden wing was rebuilt. \\n\\nIn 1801, the Clam-Gallases enabled public access to a part of the castle with exhibitions, making it the first castle museum in the Central Europe. The current exhibition includes this museum, the chapel with valuable items, and two chateau wings.","label":"History of castle Fr\xfddlant"},{"language":"es","path":"/houses","title":"Casas","img":"/history/houses.jpg","card_label":"Conozca a los propietarios individuales de la mansi\xf3n Fr\xfddlant.","button":"Aprende m\xe1s","houses":[{"title":"Ronowitzer","description":"Founders of Fr\xfddlant Castle.","img":"/coat_of_arms/ronovci.png","button":"More","owners":[{"number":1,"name":"Ronowitzer","years":"?-1278","label":"The oldest history of the Fr\xfddlant castle is connected with the Ronowitzer family, who had it built in the 13th century.","button":"More","text":"The oldest history of the Fr\xfddlant castle is connected with the Ronowitzer family, who had it built in the 13th century. We don\'t know much about their activities in the northern part of Bohemia. The first known member of this family was Smil, who was a member of the retinue of King P\u0159emysl Otakar I. His sons Henry and \u010castolov still use the epithet \'of Zittau\' in 1238, but in 1257 we already find a mention of \'\u010castolov of Fr\xfddlant\'. The expansion of this family was limited in 1278 by King P\u0159emysl Otakar II., when he took the estate from the Ronowitzer family and sold it to the Biberstein family.","img":"/coat_of_arms/ronovci.png"}]},{"title":"Biberstein","description":"The longest ruling house, which was responsible for the expansion of the castle.","img":"/coat_of_arms/biberstejnove.png","button":"More","owners":[{"number":1,"name":"Biberstein","years":"1278-1551","label":"Representatives of the Biberstein family became the owners of the Fr\xfddlant castle for the next almost 300 years, and their reign is mainly connected with the construction expansion of the castle and the further growth of Fr\xfddlant manor.","button":"More","text":"Representatives of the Biberstein family became the owners of the Fr\xfddlant castle for the next almost 300 years, and their reign is mainly connected with the construction expansion of the castle and the further growth of Fr\xfddlant manor. Due to this family\'s efforts for further territorial gains, there have been several conflicts with neighboring ones nobles (e.g. the burning of Nymburk in 1326) and even clash with the royal army of Wenceslaus IV. \\n\\nDuring the Hussite Wars, Fr\xfddlant became the center of the anti-Hussite opposition, and the Fr\xfddlant manor was attacked several times between 1420 and 1433. The town of Fr\xfddlant and other villages in the vicinity were several times burned out. The Biberstein family then remained in opposition even against King Charles of Pod\u011bbrady and were involved in other military conflicts. During the rule of the last Biberstein, the Fr\xfddlant manor became completely Protestant, which was followed by family of Redern. The last male descendant, Christoph, died in 1551 without an heir and thus the manor fell to the Czech royal chamber.","img":"/coat_of_arms/biberstejnove.png"}]},{"title":"Redern","description":"The Silesian house, which contributed to the growth of Protestantism and the construction of the chateau.","img":"/coat_of_arms/redernove.png","button":"More","owners":[{"number":1,"name":"Friedrich of Redern","years":"?-1564","label":"Friedrich of Redern was a member of the Silesian knightly family.","button":"More","text":"Friedrich of Redern was a member of the Silesian knightly family. During his lifetime, he held the position of president of the Silesian Land Chamber and was a member of the royal commission to record the state of the Fr\xfddlant manor after death of the last owner. In 1558 it was Friedrich, who bought the North Bohemian estates of Liberec, Fr\xfddlant and Zawidow. After buying them, he reached elevation to nobility. He and his wife Salomena of Sch\xf6naich had a total of 10 children. He died in 1564 while staying in Wroclaw, Poland.","img":"/coat_of_arms/redernove.png"},{"number":2,"name":"Melchior of Redern","years":"1555-1600","label":"He was the ninth of a total of ten children of Friedrich of Redern.","button":"More","text":"He was the ninth of a total of ten children of Friedrich of Redern. He studied law at a protestant university in Heidelberg and then together with his brother Christopher went on a cavalier trip to France, where in 1572 he witnessed the murder of the Huguenots during the so-called Bartholomew\'s Night. In addition to France, he also visited the Italian cities of Rome, Padua or Naples. Melchior eventually joined the service in the army. In the 1570s and 1580s, he took part in the siege of Gda\u0144sk, the anti-Hungarian campaign, the war in the Netherlands or the Siege of Pskov. \\n\\nAfter death of his brother Christopher in 1591 he became the owner of the Fr\xfddlant manor. He married Catherine of \u0160lik, the sister of one of the most influential Protestant noblemen, J\xe1chym Ond\u0159ej of \u0160lik, who was the owner of the neighboring estate. During his lifetime, construction modifications were made in the castle area. He added one castle wing, the of the castle, the Renaissance wing of thechateau was created, and eventually also the chateau chapel. In the 1590s, Melchior returned to the Hungarian battlefields several times as an officer. As early as the spring of 1600, he participated in a meeting in Vienna about the next military advance against the Turks, during the autumn however, he interrupts his military campaign due to health reasons and died in September of this year.","img":"/people/melchior_redern.jpg"},{"number":3,"name":"Catherine of Redern","years":"1553-1617","label":"Catherine of Redern, born \u0160lik, was the sister of J\xe1chym Ond\u0159ej of \u0160lik, one of those executed at Old Town Square in 1621.","button":"More","text":"Catherine of Redern, born \u0160lik, was the sister of J\xe1chym Ond\u0159ej of \u0160lik, one of those executed at Old Town Square in 1621. Between 1600 and 1611 she managed the Fr\xfddlant manor for her underaged son Christopher. Her work on the Fr\xfddlant estate is mainly connected with disputes with the local townspeople regarding the right to brew beer. Bad relations with the locals eventually resulted in her staying primarily at castle in Liberec. \\n\\nDuring her tenure, the chateau chapels in Fr\xfddlant and Liberec were completed, and other churches were built in the entire Fr\xfddlant manor. She died in 1617 in Liberec, she was to be buried in the family tomb in Fr\xfddlant, but that never happened and the place of burial is still unknown.","img":"/people/katerina_redern.jpg"},{"number":4,"name":"Christopher of Redern","years":"1591-1641","label":"Christopher took over the administration of the estate in 1611.","button":"More","text":"Christopher took over the administration of the estate in 1611. He continued the dispute with the townspeople of Fr\xfddlant, which began during his mother\'s reign. After the outbreak of Bohemian uprising, together with his uncle J\xe1chym Ond\u0159ej of \u0160lik, he was involved on the side of Protestant union where he became the commander of a cavalry division. He was already suffering from health problems at this time. \\n\\nAfter defeat in 1620, his manor was confiscated and he lived in exile on the Zawidow estate. In 1627, the Zawidow estate was also confiscated from him. He then lived in the residence of his wife Magdalena of Hundt in Poland. During the raid Swedes to Bohemia between 1639-1640, he returned to Fr\xfddlant, but in the same year he had to leave Fr\xfddlant manor to Wallenstein. He dies in exile sometime after 1641.","img":"/people/krystof_redern.jpg"}]},{"title":"Albrecht of Wallenstein","description":"Albrecht of Wallenstein was a Czech military leader, politician and one of the most important figures in the Czech history.","img":"/coat_of_arms/albrecht.png","button":"More","owners":[{"number":1,"name":"Albrecht von Wallenstein","years":"1591-1641","label":"Albrecht of Wallenstein was born into a not very wealthy and influential Protestant family and eventually became one of the most powerful men of European importance.","button":"More","text":"Albrecht of Wallenstein was born into a not very wealthy and influential Protestant family and eventually became one of the most powerful men of European importance. His tenure at Fr\xfddlant was not long, it lasted only 12 years, even so, this is the time that made this place and the manor the most famous and it was even raised to a dukedom.\\n\\n The life of Albrecht of Wallenstein was connected with service in the army from a young age. He soon defected from the Protestant camp to the imperial service and on the battlefields of the Thirty Years\' War he attained the highest rank in military command, i.e. Generalissimo of the Imperial Army. His possessions, which included the manor of Fr\xfddlant were then more or less spared from major war conflicts and that is why they were referred to as \'the happy land - terra felix\'.\\n\\n As for the Fr\xfddlant manor, during Wallenstein\'s reign, we can talk about an economic rise, primarily in industries that were associated with the needs of the time \u2013 mining and metal processing or gunpowder production. The castle and chateau were uninhabited and only minor structural modifications took place. Wallenstein stayed here only for a few days in 1627, 1628 and 1630. The end of Wallenstein\'s life was heralded by the loss of trust from the emperor, who felt threatened by Walstein, which is why Wallenstein was murdered by his officers at the beginning of 1634.","img":"/people/albrecht_valdstejn.jpg"}]},{"title":"Gallas","description":"House from northern Italy, which contributed to the expansion of the Fr\xfddlant manor to include Lemberk Castle and its surroundings.","img":"/coat_of_arms/gallasove.png","button":"More","owners":[{"number":1,"name":"Matthias of Gallas","years":"1588-1647","label":"The life of Matthias of Gallas and his social rise were, as in the case of Wallenstein, tightly connected with the period of the Thirty Years\' War.","button":"More","text":"The life of Matthias of Gallas and his social rise were, as in the case of Wallenstein, tightly connected with the period of the Thirty Years\' War. Matthias joined the army as a young man and became famous for the first time in the wars for the Mantuan inheritance on the side of the Catholic League. In 1628 he entered the service of Albrecht of Wallenstein and became one of his generals. In 1632 he attained the rank of earl. After the betrayal of Wallenstein, he became the heir to the Frydlant manor and later the commander-in-chief of the Imperial army, where he worked until the end of the Thirty Years\' War. For Fr\xfddlant, his reign meant the period between 1640-1649 when the castle and town were occupied by Swedish crew. Matthias died in Vienna in 1647.","img":"/people/matyas_gallas.jpg"},{"number":2,"name":"Antonius of Gallas","years":"1638-1695","label":"Antonius is the younger of the sons of Matthias of Gallas.","button":"More","text":"Antonius is the younger of the sons of Matthias of Gallas. He lost his father at the age of 9. After studies and a cavalier journey after France and Benelux, together with his brother Francis Ferdinand, he took over the administration of inherited manors. During his lifetime, he worked as a chamberlain in the service of the Elector of Bavaria and inherited from his father the command of military regiments. His economic situation worsened to the point that he was forced to sell his share to manor and to gave up military regiments as well. In the end, he fell into debt and lived in Kladsk on estates of his son Philip Francis.","img":"/people/antonin_pankrac_gallas.jpg"},{"number":3,"name":"Francis Ferdinand of Gallas","years":"1635-1697","label":"Francis is the elder of the sons of Matthias of Gallas.","button":"More","text":"Francis is the elder of the sons of Matthias of Gallas. After completing his studies and cavalier journey, he took over the administration of the inherited manors. The only court title he received was the titular court chamberlain. During his life he stayed mainly on his manors in Bohemia, mostly in Prague and at the castle in Ho\u0159\xedn\u011bves. His life in Fr\xfddlant is mainly connected with the rebellion of the subjects led by the blacksmith Ond\u0159ej of Stelzig, which was suppressed in 1680. He died in 1697 and his remains are kept in the ancestral tomb in Hejnice.","img":"/people/frantisek_ferdinand_gallas.jpg"},{"number":4,"name":"John Wenceslaus of Gallas","years":"1671-1719","label":"The most important member of this family together with Matthias of Gallas.","button":"More","text":"The most important member of this family together with Matthias of Gallas. He worked in the service of emperors Joseph I. and Charles VI. as an imperial chamberlain, a true privy councilor and diplomat. He worked in the diplomatic service in London, The Hague and Rome. He was eventually appointed viceroy in Naples, where he died in 1719. He is the founder of the later Clam-Gallas Palace in Prague\'s Old Town.","img":"/people/jan_vaclav_gallas.jpg"},{"number":5,"name":"Philip Joseph of Gallas","years":"1703-1757","label":"The last member of the Gallas family, thanks to whom the Fr\xfddlant estate was expanded to include the area around Lemberk.","button":"More","text":"The last member of the Gallas family, thanks to whom the Fr\xfddlant estate was expanded to include the area around Lemberk. During his life he held the official positions of the highest regional hofmeister of the Kingdom of Bohemia and the highest court judge. After the Habsburg army suffered a defeat by the Prussians in the Battle of Liberec, the Fr\xfddlant region was plundered by the Prussians. \\n\\nHe died in 1757 without a male heir, the estate was then managed by his wife Marie Anna. After her death the estate was passed to his nephew Christian Philip of Clam. The condition for this was the merging coats of arms and the addition of the name Gallas. This gave rise to the house Clam-Gallas.","img":"/people/filip_josef_gallas.jpg"}]},{"title":"Clam-Gallas","description":"The last family living in the Fr\xfddlant castle. During her tenure, a major reconstruction of the Renaissance wing of the chateau and the construction of a new wing took place.","img":"/coat_of_arms/clamgallasove.png","button":"Learn","owners":[{"number":1,"name":"Christian Philip of Clam-Gallas","years":"1748-1805","label":"The first of the Clam-Gallas line, who also held offices at the Habsburg court during his lifetime.","button":"More","text":"The first of the Clam-Gallas line, who also held offices at the Habsburg court during his lifetime. He became royal chamberlain of three emperors and was promoted to knight of the order of St. Stephen. He expanded the family estates by another territory. \\n\\nHe was a great lover and patron of the arts. In his Prague residence he hosted, for example, Mozart or Beethoven. In the Fr\xfddlant region, he is primarily associated with the founding of the spa town of Libverda, in Prague then with the Klamovka estate.","img":"/people/kristian_filip_clamgallas.jpg"},{"number":2,"name":"Christian Christopher of Clam-Gallas","years":"1771-1838","label":"Christian Christopher of Clam-Gallas continued his father\'s legacy in terms of career and patronage.","button":"More","text":"Christian Christopher of Clam-Gallas continued his father\'s legacy in terms of career and patronage. He had the rank of Supreme Marshal of the Czech Kingdom. He married Josefina Caroline Clary-Aldringen, also a great lover of art. Together they maintained contact with, for example, Ludwig van Beethoven. \\n\\nHe contributed to further construction activity in Libverda, where new spa pavilions were built. Around Klamovka,he established gardens with sculptural decoration.","img":"/people/kristian_krystof_clamgallas.jpg"},{"number":3,"name":"William of Clam-Gallas","years":"1801-1822","label":"The elder of Christian Christopher\'s sons.","button":"More","text":"The elder of Christian Christopher\'s sons. He died very young at the age of 21. He is buried in the ancestral tomb in Hejnice.","img":"/people/vilem_clamgallas.jpg"},{"number":4,"name":"Edward of Clam-Gallas","years":"1805-1891","label":"Edward was the younger of Christian Christopher\'s sons and also the most prominent member of the Clam-Gallas family.","button":"More","text":"Edward was the younger of Christian Christopher\'s sons and also the most prominent member of the Clam-Gallas family. In 1823 he entered the army as a young man, where he reached the rank of general. He fought under the command of Marshal Radeck\xfd in Northern Italy during the First Italian War of Independence, then fought in Hungary and returned to the Second War in Northern Italy. The most significant of the battles in which he participated are the battles of Magenta and Solferin. \\n\\nDuring the Prussian-Austrian War, he suffered a defeat at the Battle of Ji\u010d\xedn, for which he was judged by a court-martial. Even though he was acquitted, he never returned to the army and lived out his life in Fr\xfddlant and Liberec. \\n\\nDuring his stay in Fr\xfddlant, he had the local chateau undergo extensive reconstruction and building modifications, during which the newest wing of the chateau was created. He died in 1891 at the age of 86.","img":"/people/eduard_clamgallas.jpg"},{"number":5,"name":"Francis of Clam-Gallas","years":"1854-1930","label":"The last male descendant of the Clam-Gallas family.","button":"More","text":"The last male descendant of the Clam-Gallas family. He too continued his civil service career, was chamberlain and privy councilor, but above all he devoted himself to the management of the family estates Liberec, Fr\xfddlant, Grab\u0161tejn and Lemberk. \\n\\nThe First World War, the creation of the Czechoslovak Republic and also the land reform intervened in his life. In addition to farming, he also devoted his whole life to volunteer work and charity, to which he actively contributed. \\n\\nHe died in Fr\xfddlanta in 1930 and left behind 7 daughters. The youngest of them, Clotilde, lived in Fr\xfddlant until the end of World War II.","img":"/people/frantisek_clamgallas.jpg"},{"number":6,"name":"Clotilde of Clam-Gallas","years":"1898-1975","label":"Clotilde of Clam-Gallas was the youngest daughter of Francis Clam-Gallas and Maria Hoyos-Sprinzenstein.","button":"More","text":"Clotilde of Clam-Gallas was the youngest daughter of Francis Clam-Gallas and Maria Hoyos-Sprinzenstein. During Francis\' lifetime, his properties were divided between his daughters. Clotilde then received the Fr\xfddlant Castle. She remained single after her father\'s death, she took care of her widowed mother. After 1945, she had to move abroad and the castle was nationalized.","img":"/people/clotilda_clamgallas_mladsi.jpg"}]}]},{"language":"pl","path":"/history_overview","title":"Przegl\u0105d historii","button":"Ucz si\u0119 wi\u0119cej","img":"/history/history.jpg","card_label":"Get to know the history of the Fr\xfddlant castle and chateau.","description":"Fr\xfddlant is one of largest and most important heritage sites in Northern Bohemia. It consists of two architectural complexes: a medieval castle and a renaissance chateau. The castle was built around the mid-13th century. In 1278, the domain became property of the Biberstein house who took major part in building the large castle palace. Between 1558 and 1620, Fr\xfddlant was owned by the Redern house that continued to upgrade the domain. The Rederns were good managers and warriors, but also builders and art supporters. They built the new renaissance chateau and the chapel. \\n\\nBetween 1622 and 1634, the castle belonged to Albrecht of Wallenstein. He bought it for 150,000 guldens and gradually built a large domain. His estates flourished greatly during the Thirty Years War as they supplied his army. The Fr\xfddlant region was called Terra felix \u2013 the happy country. \\n\\nAfter Albrecht\u2019s murder in 1634, the emperor gave Fr\xfddlant to the Gallas house, and since 1759 the domain was owned by the Clam-Gallases, an important aristocratic house active in diplomatic and military circles at the imperial court. They remained until 1945 when Fr\xfddlant became property of the state. \\n\\nThe original gothic castle hasn\u2019t been preserved in its entirety. Nowadays, the castle is a large two-floor building around the small, irregularly shaped courtyard, with the predominant cylindrical tower \u2013 a bergfrit. The castle was growing over time, and underwent two renaissance reconstructions in the 16th century. The chapel and the renaissance chateau were built at the turn of the 16th and 17th century by Marco Spazzio di Lancio. The last big reconstruction took place in the 1860s, when the castle warden wing was rebuilt. \\n\\nIn 1801, the Clam-Gallases enabled public access to a part of the castle with exhibitions, making it the first castle museum in the Central Europe. The current exhibition includes this museum, the chapel with valuable items, and two chateau wings.","label":"History of castle Fr\xfddlant"},{"language":"pl","path":"/houses","title":"Rody","img":"/history/houses.jpg","card_label":"Poznajcie poszczeg\xf3lnych w\u0142a\u015bcicieli dworu Fr\xfddlant.","button":"Ucz si\u0119 wi\u0119cej","houses":[{"title":"Ronowitzer","description":"Founders of Fr\xfddlant Castle.","img":"/coat_of_arms/ronovci.png","button":"More","owners":[{"number":1,"name":"Ronowitzer","years":"?-1278","label":"The oldest history of the Fr\xfddlant castle is connected with the Ronowitzer family, who had it built in the 13th century.","button":"More","text":"The oldest history of the Fr\xfddlant castle is connected with the Ronowitzer family, who had it built in the 13th century. We don\'t know much about their activities in the northern part of Bohemia. The first known member of this family was Smil, who was a member of the retinue of King P\u0159emysl Otakar I. His sons Henry and \u010castolov still use the epithet \'of Zittau\' in 1238, but in 1257 we already find a mention of \'\u010castolov of Fr\xfddlant\'. The expansion of this family was limited in 1278 by King P\u0159emysl Otakar II., when he took the estate from the Ronowitzer family and sold it to the Biberstein family.","img":"/coat_of_arms/ronovci.png"}]},{"title":"Biberstein","description":"The longest ruling house, which was responsible for the expansion of the castle.","img":"/coat_of_arms/biberstejnove.png","button":"More","owners":[{"number":1,"name":"Biberstein","years":"1278-1551","label":"Representatives of the Biberstein family became the owners of the Fr\xfddlant castle for the next almost 300 years, and their reign is mainly connected with the construction expansion of the castle and the further growth of Fr\xfddlant manor.","button":"More","text":"Representatives of the Biberstein family became the owners of the Fr\xfddlant castle for the next almost 300 years, and their reign is mainly connected with the construction expansion of the castle and the further growth of Fr\xfddlant manor. Due to this family\'s efforts for further territorial gains, there have been several conflicts with neighboring ones nobles (e.g. the burning of Nymburk in 1326) and even clash with the royal army of Wenceslaus IV. \\n\\nDuring the Hussite Wars, Fr\xfddlant became the center of the anti-Hussite opposition, and the Fr\xfddlant manor was attacked several times between 1420 and 1433. The town of Fr\xfddlant and other villages in the vicinity were several times burned out. The Biberstein family then remained in opposition even against King Charles of Pod\u011bbrady and were involved in other military conflicts. During the rule of the last Biberstein, the Fr\xfddlant manor became completely Protestant, which was followed by family of Redern. The last male descendant, Christoph, died in 1551 without an heir and thus the manor fell to the Czech royal chamber.","img":"/coat_of_arms/biberstejnove.png"}]},{"title":"Redern","description":"The Silesian house, which contributed to the growth of Protestantism and the construction of the chateau.","img":"/coat_of_arms/redernove.png","button":"More","owners":[{"number":1,"name":"Friedrich of Redern","years":"?-1564","label":"Friedrich of Redern was a member of the Silesian knightly family.","button":"More","text":"Friedrich of Redern was a member of the Silesian knightly family. During his lifetime, he held the position of president of the Silesian Land Chamber and was a member of the royal commission to record the state of the Fr\xfddlant manor after death of the last owner. In 1558 it was Friedrich, who bought the North Bohemian estates of Liberec, Fr\xfddlant and Zawidow. After buying them, he reached elevation to nobility. He and his wife Salomena of Sch\xf6naich had a total of 10 children. He died in 1564 while staying in Wroclaw, Poland.","img":"/coat_of_arms/redernove.png"},{"number":2,"name":"Melchior of Redern","years":"1555-1600","label":"He was the ninth of a total of ten children of Friedrich of Redern.","button":"More","text":"He was the ninth of a total of ten children of Friedrich of Redern. He studied law at a protestant university in Heidelberg and then together with his brother Christopher went on a cavalier trip to France, where in 1572 he witnessed the murder of the Huguenots during the so-called Bartholomew\'s Night. In addition to France, he also visited the Italian cities of Rome, Padua or Naples. Melchior eventually joined the service in the army. In the 1570s and 1580s, he took part in the siege of Gda\u0144sk, the anti-Hungarian campaign, the war in the Netherlands or the Siege of Pskov. \\n\\nAfter death of his brother Christopher in 1591 he became the owner of the Fr\xfddlant manor. He married Catherine of \u0160lik, the sister of one of the most influential Protestant noblemen, J\xe1chym Ond\u0159ej of \u0160lik, who was the owner of the neighboring estate. During his lifetime, construction modifications were made in the castle area. He added one castle wing, the of the castle, the Renaissance wing of thechateau was created, and eventually also the chateau chapel. In the 1590s, Melchior returned to the Hungarian battlefields several times as an officer. As early as the spring of 1600, he participated in a meeting in Vienna about the next military advance against the Turks, during the autumn however, he interrupts his military campaign due to health reasons and died in September of this year.","img":"/people/melchior_redern.jpg"},{"number":3,"name":"Catherine of Redern","years":"1553-1617","label":"Catherine of Redern, born \u0160lik, was the sister of J\xe1chym Ond\u0159ej of \u0160lik, one of those executed at Old Town Square in 1621.","button":"More","text":"Catherine of Redern, born \u0160lik, was the sister of J\xe1chym Ond\u0159ej of \u0160lik, one of those executed at Old Town Square in 1621. Between 1600 and 1611 she managed the Fr\xfddlant manor for her underaged son Christopher. Her work on the Fr\xfddlant estate is mainly connected with disputes with the local townspeople regarding the right to brew beer. Bad relations with the locals eventually resulted in her staying primarily at castle in Liberec. \\n\\nDuring her tenure, the chateau chapels in Fr\xfddlant and Liberec were completed, and other churches were built in the entire Fr\xfddlant manor. She died in 1617 in Liberec, she was to be buried in the family tomb in Fr\xfddlant, but that never happened and the place of burial is still unknown.","img":"/people/katerina_redern.jpg"},{"number":4,"name":"Christopher of Redern","years":"1591-1641","label":"Christopher took over the administration of the estate in 1611.","button":"More","text":"Christopher took over the administration of the estate in 1611. He continued the dispute with the townspeople of Fr\xfddlant, which began during his mother\'s reign. After the outbreak of Bohemian uprising, together with his uncle J\xe1chym Ond\u0159ej of \u0160lik, he was involved on the side of Protestant union where he became the commander of a cavalry division. He was already suffering from health problems at this time. \\n\\nAfter defeat in 1620, his manor was confiscated and he lived in exile on the Zawidow estate. In 1627, the Zawidow estate was also confiscated from him. He then lived in the residence of his wife Magdalena of Hundt in Poland. During the raid Swedes to Bohemia between 1639-1640, he returned to Fr\xfddlant, but in the same year he had to leave Fr\xfddlant manor to Wallenstein. He dies in exile sometime after 1641.","img":"/people/krystof_redern.jpg"}]},{"title":"Albrecht of Wallenstein","description":"Albrecht of Wallenstein was a Czech military leader, politician and one of the most important figures in the Czech history.","img":"/coat_of_arms/albrecht.png","button":"More","owners":[{"number":1,"name":"Albrecht von Wallenstein","years":"1591-1641","label":"Albrecht of Wallenstein was born into a not very wealthy and influential Protestant family and eventually became one of the most powerful men of European importance.","button":"More","text":"Albrecht of Wallenstein was born into a not very wealthy and influential Protestant family and eventually became one of the most powerful men of European importance. His tenure at Fr\xfddlant was not long, it lasted only 12 years, even so, this is the time that made this place and the manor the most famous and it was even raised to a dukedom.\\n\\n The life of Albrecht of Wallenstein was connected with service in the army from a young age. He soon defected from the Protestant camp to the imperial service and on the battlefields of the Thirty Years\' War he attained the highest rank in military command, i.e. Generalissimo of the Imperial Army. His possessions, which included the manor of Fr\xfddlant were then more or less spared from major war conflicts and that is why they were referred to as \'the happy land - terra felix\'.\\n\\n As for the Fr\xfddlant manor, during Wallenstein\'s reign, we can talk about an economic rise, primarily in industries that were associated with the needs of the time \u2013 mining and metal processing or gunpowder production. The castle and chateau were uninhabited and only minor structural modifications took place. Wallenstein stayed here only for a few days in 1627, 1628 and 1630. The end of Wallenstein\'s life was heralded by the loss of trust from the emperor, who felt threatened by Walstein, which is why Wallenstein was murdered by his officers at the beginning of 1634.","img":"/people/albrecht_valdstejn.jpg"}]},{"title":"Gallas","description":"House from northern Italy, which contributed to the expansion of the Fr\xfddlant manor to include Lemberk Castle and its surroundings.","img":"/coat_of_arms/gallasove.png","button":"More","owners":[{"number":1,"name":"Matthias of Gallas","years":"1588-1647","label":"The life of Matthias of Gallas and his social rise were, as in the case of Wallenstein, tightly connected with the period of the Thirty Years\' War.","button":"More","text":"The life of Matthias of Gallas and his social rise were, as in the case of Wallenstein, tightly connected with the period of the Thirty Years\' War. Matthias joined the army as a young man and became famous for the first time in the wars for the Mantuan inheritance on the side of the Catholic League. In 1628 he entered the service of Albrecht of Wallenstein and became one of his generals. In 1632 he attained the rank of earl. After the betrayal of Wallenstein, he became the heir to the Frydlant manor and later the commander-in-chief of the Imperial army, where he worked until the end of the Thirty Years\' War. For Fr\xfddlant, his reign meant the period between 1640-1649 when the castle and town were occupied by Swedish crew. Matthias died in Vienna in 1647.","img":"/people/matyas_gallas.jpg"},{"number":2,"name":"Antonius of Gallas","years":"1638-1695","label":"Antonius is the younger of the sons of Matthias of Gallas.","button":"More","text":"Antonius is the younger of the sons of Matthias of Gallas. He lost his father at the age of 9. After studies and a cavalier journey after France and Benelux, together with his brother Francis Ferdinand, he took over the administration of inherited manors. During his lifetime, he worked as a chamberlain in the service of the Elector of Bavaria and inherited from his father the command of military regiments. His economic situation worsened to the point that he was forced to sell his share to manor and to gave up military regiments as well. In the end, he fell into debt and lived in Kladsk on estates of his son Philip Francis.","img":"/people/antonin_pankrac_gallas.jpg"},{"number":3,"name":"Francis Ferdinand of Gallas","years":"1635-1697","label":"Francis is the elder of the sons of Matthias of Gallas.","button":"More","text":"Francis is the elder of the sons of Matthias of Gallas. After completing his studies and cavalier journey, he took over the administration of the inherited manors. The only court title he received was the titular court chamberlain. During his life he stayed mainly on his manors in Bohemia, mostly in Prague and at the castle in Ho\u0159\xedn\u011bves. His life in Fr\xfddlant is mainly connected with the rebellion of the subjects led by the blacksmith Ond\u0159ej of Stelzig, which was suppressed in 1680. He died in 1697 and his remains are kept in the ancestral tomb in Hejnice.","img":"/people/frantisek_ferdinand_gallas.jpg"},{"number":4,"name":"John Wenceslaus of Gallas","years":"1671-1719","label":"The most important member of this family together with Matthias of Gallas.","button":"More","text":"The most important member of this family together with Matthias of Gallas. He worked in the service of emperors Joseph I. and Charles VI. as an imperial chamberlain, a true privy councilor and diplomat. He worked in the diplomatic service in London, The Hague and Rome. He was eventually appointed viceroy in Naples, where he died in 1719. He is the founder of the later Clam-Gallas Palace in Prague\'s Old Town.","img":"/people/jan_vaclav_gallas.jpg"},{"number":5,"name":"Philip Joseph of Gallas","years":"1703-1757","label":"The last member of the Gallas family, thanks to whom the Fr\xfddlant estate was expanded to include the area around Lemberk.","button":"More","text":"The last member of the Gallas family, thanks to whom the Fr\xfddlant estate was expanded to include the area around Lemberk. During his life he held the official positions of the highest regional hofmeister of the Kingdom of Bohemia and the highest court judge. After the Habsburg army suffered a defeat by the Prussians in the Battle of Liberec, the Fr\xfddlant region was plundered by the Prussians. \\n\\nHe died in 1757 without a male heir, the estate was then managed by his wife Marie Anna. After her death the estate was passed to his nephew Christian Philip of Clam. The condition for this was the merging coats of arms and the addition of the name Gallas. This gave rise to the house Clam-Gallas.","img":"/people/filip_josef_gallas.jpg"}]},{"title":"Clam-Gallas","description":"The last family living in the Fr\xfddlant castle. During her tenure, a major reconstruction of the Renaissance wing of the chateau and the construction of a new wing took place.","img":"/coat_of_arms/clamgallasove.png","button":"Learn","owners":[{"number":1,"name":"Christian Philip of Clam-Gallas","years":"1748-1805","label":"The first of the Clam-Gallas line, who also held offices at the Habsburg court during his lifetime.","button":"More","text":"The first of the Clam-Gallas line, who also held offices at the Habsburg court during his lifetime. He became royal chamberlain of three emperors and was promoted to knight of the order of St. Stephen. He expanded the family estates by another territory. \\n\\nHe was a great lover and patron of the arts. In his Prague residence he hosted, for example, Mozart or Beethoven. In the Fr\xfddlant region, he is primarily associated with the founding of the spa town of Libverda, in Prague then with the Klamovka estate.","img":"/people/kristian_filip_clamgallas.jpg"},{"number":2,"name":"Christian Christopher of Clam-Gallas","years":"1771-1838","label":"Christian Christopher of Clam-Gallas continued his father\'s legacy in terms of career and patronage.","button":"More","text":"Christian Christopher of Clam-Gallas continued his father\'s legacy in terms of career and patronage. He had the rank of Supreme Marshal of the Czech Kingdom. He married Josefina Caroline Clary-Aldringen, also a great lover of art. Together they maintained contact with, for example, Ludwig van Beethoven. \\n\\nHe contributed to further construction activity in Libverda, where new spa pavilions were built. Around Klamovka,he established gardens with sculptural decoration.","img":"/people/kristian_krystof_clamgallas.jpg"},{"number":3,"name":"William of Clam-Gallas","years":"1801-1822","label":"The elder of Christian Christopher\'s sons.","button":"More","text":"The elder of Christian Christopher\'s sons. He died very young at the age of 21. He is buried in the ancestral tomb in Hejnice.","img":"/people/vilem_clamgallas.jpg"},{"number":4,"name":"Edward of Clam-Gallas","years":"1805-1891","label":"Edward was the younger of Christian Christopher\'s sons and also the most prominent member of the Clam-Gallas family.","button":"More","text":"Edward was the younger of Christian Christopher\'s sons and also the most prominent member of the Clam-Gallas family. In 1823 he entered the army as a young man, where he reached the rank of general. He fought under the command of Marshal Radeck\xfd in Northern Italy during the First Italian War of Independence, then fought in Hungary and returned to the Second War in Northern Italy. The most significant of the battles in which he participated are the battles of Magenta and Solferin. \\n\\nDuring the Prussian-Austrian War, he suffered a defeat at the Battle of Ji\u010d\xedn, for which he was judged by a court-martial. Even though he was acquitted, he never returned to the army and lived out his life in Fr\xfddlant and Liberec. \\n\\nDuring his stay in Fr\xfddlant, he had the local chateau undergo extensive reconstruction and building modifications, during which the newest wing of the chateau was created. He died in 1891 at the age of 86.","img":"/people/eduard_clamgallas.jpg"},{"number":5,"name":"Francis of Clam-Gallas","years":"1854-1930","label":"The last male descendant of the Clam-Gallas family.","button":"More","text":"The last male descendant of the Clam-Gallas family. He too continued his civil service career, was chamberlain and privy councilor, but above all he devoted himself to the management of the family estates Liberec, Fr\xfddlant, Grab\u0161tejn and Lemberk. \\n\\nThe First World War, the creation of the Czechoslovak Republic and also the land reform intervened in his life. In addition to farming, he also devoted his whole life to volunteer work and charity, to which he actively contributed. \\n\\nHe died in Fr\xfddlanta in 1930 and left behind 7 daughters. The youngest of them, Clotilde, lived in Fr\xfddlant until the end of World War II.","img":"/people/frantisek_clamgallas.jpg"},{"number":6,"name":"Clotilde of Clam-Gallas","years":"1898-1975","label":"Clotilde of Clam-Gallas was the youngest daughter of Francis Clam-Gallas and Maria Hoyos-Sprinzenstein.","button":"More","text":"Clotilde of Clam-Gallas was the youngest daughter of Francis Clam-Gallas and Maria Hoyos-Sprinzenstein. During Francis\' lifetime, his properties were divided between his daughters. Clotilde then received the Fr\xfddlant Castle. She remained single after her father\'s death, she took care of her widowed mother. After 1945, she had to move abroad and the castle was nationalized.","img":"/people/clotilda_clamgallas_mladsi.jpg"}]}]}],"gB":[{"tour_id":"castle","language":"en","title":"Castle","img":"/castle/castle.jpg","rooms_label":"rooms","time":"60 minutes","description":"This tour takes the visitor through the Upper Castle, which is the oldest part of the Fr\xfddlant area. The entire route is dominated by a large knight\'s hall with an ancestral gallery, armory, banquet hall or a large collection of employee uniforms.","button":"Start tour","rooms":[{"audio":"/en/castle/en_room_1.mp3","number":1,"img":"/castle/dolni_nadvori.jpg","title":"The lower courtyard","card_label":"We are currently standing in the lower courtyard, where we can see the whole complex.","button":"Visit","text":"Dear visitors, we welcome you to the state castle and chateau of Fr\xfddlant. Before the start of the tour, we ask you to silence your mobile phones so that the tour is not disturbed. If you are using an audio guide, wear headphones while listening. Furthermore, we ask you not to touch the displayed exhibits and stay with your group. Thank you for your understanding and we wish you a pleasant visit.\\n\\n We are currently standing in the lower courtyard, where we can see the whole complex.\\n\\nThe oldest part is the round tower called Indica. According to the legend, a fire was being lit on the top of Indica, so the tower served as a beacon for the trade route between the Czech Kingdom and the Kingdoms in the North. The tower is 49 meters high and its walls are on the first floor 4 meters thick.\\n\\n In the 13th century, the old gothic castle was built around the tower. Then in the 16th century, it was rebuilt in the renaissance style, which is the current form of the castle.\\n\\nThe yellow building behind the tree is the chapel. It was built between 1598 - 1602 by Catherine Redern. Next to the chapel is the renaissance wing of the chateau from the 16th century. On its facade, we can see the original renaissance pictures called sgraffito. And the youngest part of the complex is the last wing of the chateau, called the Castellan wing. That was built in the 19th century by Eduard Clam-Gallas.\\n\\nUnder the original defensive wall, we can see the path leading up to the castle. The path is called the Knights road because knights rode their horses all the way to the castle doors in olden times while ladies were carried up in sedans. But unfortunately today we have to go by ourselves."},{"audio":"/en/castle/en_room_2.mp3","number":2,"img":"/castle/pred_kapli.jpg","title":"In front of the castle","card_label":"Here we can see that the castle was erected on a natural rock foundation","button":"Visit","text":"Here we can see that the castle was erected on a natural rock foundation. The nickname for the rock is the Devil\'s Organ because, according to the legend, the Devil played a game of dice with a castle owner. Because he lost, he had to plough the furrows in this basalt rock base.\\n\\n Here above us, we can see this arc. It\'s called the Diaphragm arch. Owners used it as a corridor between the upper courtyard and the chapel.\\n\\nAbove the castle gate, there are two coats of arms. The one on the left belongs to one of the castle\'s former owners - Anton Pancratius Gallas. The right one belongs to his wife, to Del Arco\'s family.\\n\\nHere is also this platform where we can admire a beautiful view of the Jizera Mountains and the valley of the river Sm\u011bd\xe1.\\n\\nWhen we go upstairs, there are three fire extinguishers from the 19th century along the corridor walls."},{"audio":"/en/castle/en_room_3.mp3","number":3,"img":"/castle/hradni_nadvori.jpg","title":"The small castle courtyard","card_label":"This courtyard is this small due to the rock we had seen before, which did not allow the owners to build the castle very wide.","button":"Visit","text":"This courtyard is this small due to the rock we had seen before, which did not allow the owners to build the castle very wide.\\n\\nAs you already know, the oldest part is the tower called Indica. Only two cells are in the tower (behind the wooden doors). They used to serve as a prison and later as a treasure room.\\n\\nThe table above the door commemorates that Christopher Bierberstein completed the first renaissance rebuilding of the castle in the year 1551.\\n\\nOn the wall above is the coat of arms of Matthias Gallas, and the coat of arms above the door belongs to the Bieberstein family.\\n\\nWe will now go inside the castle, and we want to remind you that you cannot touch any exhibits inside. We appreciate your understanding."},{"audio":"/en/castle/en_room_4.mp3","number":4,"img":"/castle/prvni_hradni.jpg","title":"The first room of the castle","card_label":"From the second half of the 13th century, this region of Bohemia was ruled by a family called Ronovci, whose coat of arms can be seen above the entrance door.","button":"Visit","text":"From the second half of the 13th century, this region of Bohemia was ruled by a family called Ronovci, whose coat of arms can be seen above the entrance door.\\n\\nIn the year 1278, the Czech king confiscated the castle and sold it to the house of Bieberstein. They remained at Fr\xfddlant for almost 300 years. However, the Bieberstein family that lived on Fr\xfddland died out in 1551.\\n\\n Then in 1558, Rederns came to this castle. In this room, we have three pictures of members of the Redern family. Next to the window is Melchior Redern. He fought against the Turks with great success and even became the Imperial marshall. During his absence and after his death, his wife Catherine (between windows) controlled his property and affairs.\\n\\nAt the beginning of the 17th century, she built the castle chapel, the old section of the chateau, and the family tomb in a local church. In addition, she was able to finance all her son\'s journeys to Italy and all around Europe. Unfortunately, many of these expenses were paid by taxes from the local population, which angered them. So they started calling her Catherine the Bad.\\n\\nThen their son Christopher Redern controlled the castle. He took part in the insurrection of the Czech protestants against the catholic Habsburgs from 1618 to 1620. The rebellion culminated on the 8th of November 1620. After the decisive battle of White Mountain, Christopher was forced to emigrate. The Habsburg emperor then confiscated all his property and sold it to Albrecht of Wallenstein in 1622.\\n\\nThe most interesting things in this room are those two models of Fr\xfddlant. They are both from the 19th century. The right one is the actual form of the castle, and the left one is a reconstruction that was never built.\\n\\nIn the glass case, the relics of Melchior Redern are displayed. It is his left armbone, his helmet, and his sword. Above it is his burial clothing robe."},{"audio":"/en/castle/en_room_5.mp3","number":5,"img":"/castle/albrecht.jpg","title":"Albrecht of Wallenstein","card_label":"In 1622 the country around the Fr\xfddlant was purchased by Albrecht of Wallenstein (picture on the wall next to the entrance doors). ","button":"Visit","text":"In 1622 the country around the Fr\xfddlant was purchased by Albrecht of Wallenstein (picture on the wall next to the entrance doors). Although Albrecht became the Duke of Fr\xfddlant, the castle was never his chief residence.\\n\\nAlbrecht of Wallenstein was the most important and best-known person in the Thirty years\' war (1618-1648) in the 17th century. At the war\'s end, he started to negotiate with enemies and was accused of high treason. In 1634 he was assassinated in the town of Cheb.\\n\\nTwo paintings on the side of the door represent the murder of Wallenstein. The one on the left is a murder of his friends, and the one on the right is the murder of Wallenstein himself.\\n\\nLook at the other portraits in this room: \\n\\nHis daughter and wife are next to Albrecht\'s painting.\\n\\n On the left wall, next to the window, is Albrecht\'s brother-in-law, cardinal Harrach.\\n\\nThe great painting presents Wallenstein\'s favorite horse, which he took as a spoil of war in 1632. The Spanish inscription MAS QUERIDO means My darling."},{"audio":"/en/castle/en_room_6.mp3","number":6,"img":"/castle/rytirsky_sal.jpg","title":"The knight hall","card_label":"Now we are in the knight hall, which was established as a gallery in 1801 when the castle was opened to the public as the first castle museum in central Europe.","button":"Visit","text":"Now we are in the knight hall, which was established as a gallery in 1801 when the castle was opened to the public as the first castle museum in central Europe.\\n\\nOn the left wall is situated the picture of Matthias Gallas. He betrayed Albrecht of Wallenstein, so he got the castle from the emperor. Next to there is his wife, Dorothy. They had four sons and five daughters. Here we can see only 2 of their sons - Anton Pancratius and Francis Ferdinand.\\n\\nFrancis reconstructed the castle in the baroque style. His portrait is on the right side of the door. His wife Joanne (on the other side of the door) died when she was 92 years old, which means that she outlived her husband and their son.\\n\\n Their son John Wenceslaus (between windows on the right side) was in 1719 appointed as a Viceroy of Naples. Opposite him is a painting of his wife, Mary Ann, who is thought to be the most beautiful lady in the castle.\\n\\nPhillip Joseph, their son, was the last ruling member of the house of Gallas. As he had no children, his family line ended with him. According to his last will, Fr\xfddlant should be passed on to his nephew Christian Philip of Clam (on the left side of the door) under the condition that the name and coat of arms of the Clam family would be joined by the name and coat of arms of the Gallas family.\\n\\nAnd so in 1757, Clam-Gallas family gained Fr\xfddlant."},{"audio":"/en/castle/en_room_7.mp3","number":7,"img":"/castle/piano.jpg","title":"The piano room","card_label":"In this room, there are portraits of the Clam-Gallas family members. ","button":"Visit","text":"In this room, there are portraits of the Clam-Gallas family members.\\n\\nChristian Christopher and his wife Josephine (paintings on the left side of the door we came through) sponsored many cultural events such as theater plays and musical performances. Josephine was an accomplished singer, guitarist, and pianist. She was a friend of Ludwig van Beethoven who dedicated two of his musical compositions to her.\\n\\nJosephine and Christian had two sons - William and Eduard.\\n\\n William (next to the window) died during a hunting trip when he was only 20.\\n\\n Eduard was a famous general in the Habsburg army. He fought side by side with Marshal Radetzky in the war in Northern Italy. For his deeds, he was rewarded the Order of the Golden Fleece - the highest honors in the Habsburg Monarchy. For his defeats in 1866, he was court-martialled, but he was acquitted because of his position in society. After he abandoned military life, he retired to Fr\xfddlant Castle.\\n\\nEduard had one son named Francis, whose bust we can see between the windows. Francis left no male heir, although he had seven daughters.\\n\\n His second youngest daughter Clotilde lived at Fr\xfddlant castle till 1945.\\n\\n In 1945 Fr\xfddlant was due to the Bene\u0161 decrees (after the 2WW - series of laws, thanks to which the German population was expelled from the state) confiscated by the Czechoslovakian state. Clotilde then moved to Wien, where she died in 1975 without heirs, so the castle is forever in the ownership of the Czech Republic.\\n\\nAnd that is the end of our long history. Now we will visit the rest of the castle, which is set up as the Castle Museum precisely as it was in 1801 when the owners of the castle opened it."},{"audio":"/en/castle/en_room_8.mp3","number":8,"img":"/castle/eduard.jpg","title":"Eduard\'s study","card_label":"In this room, you can examine Eduard\'s personal belongings. ","button":"Visit","text":"In this room, you can examine Eduard\'s personal belongings.\\n\\n In the glass boxes on the tables are two books. The bigger one is Eduard\'s photo album, and the smaller one is a birthday wish with photos inside.\\n\\nPictures around the rooms represent battles in North Italy, where Eduard fought alongside Marshal Radetzky. In the showcase at the wall, there are gifts from Radetzky to Eduard for his 80th birthday.\\n\\nIn the showcase on the left side of the door are other gifts. On the right side of the door are Eduard\'s three general uniforms - (from the left) Hussar uniform, Uhlan uniform, and Dragoon uniform.\\n\\nThe showcase by the left window contains the personal belongings of Eduard\'s wife, Clotilde Dietrichstein. The one by the right window has military honors, sealing stamps, or keys inside it. There is also the Order of the Golden Fleece - golden sheep on the red ribbon."},{"audio":"/en/castle/en_room_9.mp3","number":9,"img":"/castle/uniformy.jpg","title":"The uniforms","card_label":"Previously this room served as a luxury accommodation place for all important visitors to the castle. ","button":"Visit","text":"Previously this room served as a luxury accommodation place for all important visitors to the castle. Nowadays, several uniforms of the castle servants are displayed in this room.\\n\\nIn the smaller wardrobe at the wall are four different uniforms of the coachman. There are festive/ordinary and winter/summer uniforms.\\n\\nIn the more extensive wardrobe in the middle of the room are uniforms of the castle foresters, porters, or valets. Underneath are several military hats and wigs, some of which were made from real human hair."},{"audio":"/en/castle/en_room_10.mp3","number":10,"img":"/castle/nositka.jpg","title":"Means of transport","card_label":"Here in this room are displayed several means of transport used by nobles","button":"Visit","text":"Here in this room are displayed several means of transport used by nobles. \\n\\nFrom the left, the first one is the chassis of the children\'s coach. Goats or ponies usually pulled that. \\n\\nNext are two children\'s baroque sleds. The bigger one has an animal\'s motive on it, specifically a dolphin\'s. However, it does not look like a dolphin because the maker of the sled never saw a real dolphin and only read about them, that they look like fish with the head of a dog.\\n\\nThe last means of transport is a lady\'s sedan.\\n\\nOther exhibits are a folding screen from 1719, used as a portable wall when changing clothes, or a very rare shooting target because already used targets were usually burned."},{"audio":"/en/castle/en_room_11.mp3","number":11,"img":"/castle/lovecky_salon.jpg","title":"Hunting salon","card_label":"Hunting was a very popular amusement for the aristocracy. ","button":"Visit","text":"Hunting was a very popular amusement for the aristocracy. Here on Fr\xfddlant, the castle owners were no exception. Like the other nobles, they organized many hunts, mainly in the nearby forests of the Jizera mountains. Trophies from their hunts decorate the walls around the whole complex. Many of the antlers on the walls also have signs stating when, where, and by whom the animal was killed. Some also note the animal\'s weight.\\n\\nIn this room, we have this scarce table. It was made from the trunk of 130 years old birch tree. On it is a collection of pipes that belonged to Eduard Clam-Gallas. Eduard and his son Francis had collected and gathered more than 220 pipes worldwide. Some of them are displayed like this throughout the entire tour of the castle.\\n\\nOpposite the table, on the wall, is the great painting of the last killed wolf in Fr\xfddlant woods, which was shot in 1766."},{"audio":"/en/castle/en_room_12.mp3","number":12,"img":"/castle/jidelna.jpg","title":"Renaissance dining room","card_label":"This old Redern\'s dining room is equipped in renaissance style. ","button":"Visit","text":"This old Redern\'s dining room is equipped in renaissance style. The collection of dishes made from the tin is from the 17th, 18th, and 19th centuries. The stove in this room is the oldest in the whole castle, from the 17th century. On the wall next to the stove is the clock from the 17th century, entirely made from wood, except for three glass bells. Behind the door is a terrace with a view of the lower courtyard and the town of Fr\xfddlant."},{"audio":"/en/castle/en_room_13.mp3","number":13,"img":"/castle/vezeni.jpg","title":"The hallway","card_label":"The wall here is curved due to the fact, that we are going along the high tower called Indica. ","button":"Visit","text":"The wall here is curved due to the fact, that we are going along the high tower called Indica. The first door was used for putting the wood into the stove, and the second one leads into one of the cells (used as a prison, later as a treasure room) that are in the tower. Now we will go upstairs to the Castle\'s armory."},{"audio":"/en/castle/en_room_14.mp3","number":14,"img":"/castle/zbrojnice1.jpg","title":"The armory \u2013 Main hall","card_label":"On the ceiling of this room are coats of arms of families from the Thirty years\' war which lasted from 1618 to 1648.","button":"Visit","text":"On the ceiling of this room are coats of arms of families from the Thirty years\' war which lasted from 1618 to 1648. Most weapons are muskets (long guns on the walls) from the 17th century. They can shoot up to 300 metres and weigh 5-9 kilos. On the left are very rare those two big guns. They are called Arquebus. They were used from the 14th century. One was operated by two men, weighed 50 kilos and could shoot up to 100 metres. On the wall above the doors are copies of Hussit\'s weapons as a reminder that Hussites tried to conquer the castle twice but never succeeded."},{"audio":"/en/castle/en_room_15.mp3","number":15,"img":"/castle/zbrojnice2.jpg","title":"The armory \u2013 the second room","card_label":"In this room we have equipment for castle garrison. ","button":"Visit","text":"In this room we have equipment for castle garrison. It was bought by one of the castle owners - Count Francis Ferdinand Gallas. His initials are also on the cartridge bags on the walls (from German) - Franz Ferdinand Gr\xe4f von Gallas. Displayed are also mortars and tiny cannons used as festive weapons."},{"audio":"/en/castle/en_room_16.mp3","number":16,"img":"/castle/postroje.jpg","title":"Equipment for horses","card_label":"On the left are four silver harnesses used last time in 1930 at the funeral of the last male owner of the castle - Francis Clam-Gallas.","button":"Visit","text":"On the left are four silver harnesses used last time in 1930 at the funeral of the last male owner of the castle - Francis Clam-Gallas. Behind them, next to the door, are boots and a hat. That belonged to the courier. Couriers filled the boots with hay and put them over their own shoes so their feet would stay warm. The hat is, in fact, a secret backpack for letters or money.\\n\\nThe other two harnesses are golden, and behind them, on the wall, are three nets. They were used as protection for horses against insects. In the adjoining room, you can view some other equipment for horses."},{"audio":"/en/castle/en_room_17.mp3","number":17,"img":"/castle/obrazarna.jpg","title":"The Castle\u2019s gallery","card_label":"Here in the gallery are pictures of many owners of the castle, like Christian Philip of Clam-Gallas, William Clam-Gallas, Albrecht Wallenstein or John Wenceslaus Gallas.","button":"Visit","text":"Here in the gallery are pictures of many owners of the castle, like Christian Philip of Clam-Gallas, William Clam-Gallas, Albrecht Wallenstein or John Wenceslaus Gallas.\\n\\nSome of the pictures also show aristocracy all around Europe. \\n\\nA fruit bowl made from alabaster is on the table in the middle of the room. On the other table is a showcase with ostrich egg (a souvenir from travels of the Clam-Gallas family) and burned money - another tourist attraction for the Castle Museum."},{"audio":"/en/castle/en_room_18.mp3","number":18,"img":"/castle/vrchnostenska.jpg","title":"Administrative office","card_label":"Here we have many casual things clerks required for their job.","button":"Visit","text":"Here we have many casual things clerks required for their job.\\n\\nThis office has two cabinets: the younger one in front from the 19th century and the older one in the back from the 18th century. On the wall is the oldest map of the Fr\xfddlant region from the 17th century. The interesting thing is that it has north on the bottom and south on the top. The following map is a map from school. The roughcast on the table is a map of the park around the castle from the 19th century. The last map is a map of the region from 1880.\\n\\nBetween the windows is a photo of Eduard Clam-Gallas. Above the door is a woodcut of Saint Florian because the castle owners believed it would protect the castle against fire.\\n\\nOn our way out, you can spot a table on the wall that states the prize of entry into the Castle Museum.\\n\\nDear visitors, our tour ends here. Thank you for your attention and I wish you a nice rest of the day."}]},{"tour_id":"castle","language":"de","title":"Die Burg","img":"/castle/castle.jpg","rooms_label":"R\xe4ume","time":"60 Minuten","description":"Die F\xfchrung f\xfchrt den Besucher durch die Obere Burg, den \xe4ltesten Teil des Fr\xfddlant-Gebiets. Der gesamte Weg wird dominiert von einem gro\xdfen Rittersaal mit Ahnenempore, einer R\xfcstkammer, einem Festsaal oder einer gro\xdfen Sammlung von Dienstkleidung.","button":"F\xfchrung beginnen","rooms":[{"audio":"/de/castle/de_room_1.mp3","number":1,"img":"/castle/dolni_nadvori.jpg","title":"Der untere Schlosshof","card_label":"Wir befinden uns auf dem unteren Schlosshof, woher wir das ganze Objekt \xfcberblicken k\xf6nnen.","button":"Besuchen","text":"Sehr geehrte Besucher, herzlich willkommen auf dem Staatsschloss und der Staatsburg Fr\xfddlant. Bevor wir anfangen, bitte ich Sie, Ihre Handys stumm zu schalten, damit die F\xfchrung nicht gest\xf6rt wird. Wenn Sie einen Audioguide benutzen, setzen Sie bitte Ihre Kopfh\xf6rer auf. Au\xdferdem bitten wir Sie, die ausgestellten Exponate nicht zu ber\xfchren und immer bei Ihrer Gruppe zu bleiben. Fotografieren ist erlaubt. Wir bedanken uns bei Ihnen f\xfcr Ihr Verst\xe4ndnis und w\xfcnschen Ihnen einen angenehmen Besuch.\\n\\n Wir befinden uns auf dem unteren Schlosshof, von wo aus Sie das ganze Objekt \xfcberblicken k\xf6nnen. Rechts, am Eingang, gibt es urspr\xfcngliche Burgmauern. Als Sie hierher gegangen sind, mussten sie an einem steilen Weg vorbei gehen. Dieser Weg wird \u201eRitterweg\u201c genannt, weil hier damals Ritter auf Pferden bis hinauf in die Burg geritten sind. Die Damen wiederum wurden in ihren S\xe4nften getragen. Aber heutzutage m\xfcssen leider alle zu Fu\xdf gehen. Die S\xe4nften sehen Sie dann sp\xe4ter in der Burg.\\n\\n Noch h\xf6her, hinter den B\xe4umen, steht die Burg. Sie geh\xf6rt zu den \xe4ltesten und m\xe4chtigsten Burgen in Nordb\xf6hmen. Die Burg wurde im 13. Jahrhundert im gotischen Baustil erbaut. Neben ihr gibt es die Schlosskapelle - das kleine, gelbe Geb\xe4ude. Von der Schlosskapelle kann man in das sog. Alte Schloss aus dem 16. Jahrhundert gehen. An seiner Fassade k\xf6nnen wir noch erhaltene Renaissance Sgraffitos sehen. Und das gro\xdfe gelbe Geb\xe4ude ist der j\xfcngste Teil des Objektes. Das ist das sog. Neue Schloss aus dem 19. Jahrhundert.\\n\\n Wir gehen jedoch in die Burg und haben gleich zwei M\xf6glichkeiten. Entweder benutzen wir die Treppe oder gehen \xfcber den Ritterweg. Wir treffen uns wieder vor der Schlosskapelle."},{"audio":"/de/castle/de_room_2.mp3","number":2,"img":"/castle/pred_kapli.jpg","title":"Vor der Schlosskapelle","card_label":"Wir befinden uns vor der Burg und der Schlosskapelle.","button":"Besuchen","text":"Wir befinden uns vor der Burg und der Schlosskapelle. Die Burg steht auf einem nat\xfcrlichen Basaltfelsen, der einer Sage nach vom Teufel gepfl\xfcgt wurde. Darum wird er auch Teufelsorgel genannt.\\n\\nDer Bogen \xfcber uns hei\xdft Schwibbogen und diente damals als Br\xfccke zwischen der Burg und der Kapelle. Weil die Schlosskapelle wiederum auch mit dem Schloss verbunden ist, konnte man trockenen Fu\xdfes durch alle Hauptgeb\xe4ude des Areals gehen. Heute ist der Schwibbogen leider nicht mehr zug\xe4nglich. Wir gehen wenigstens unter ihm weiter bis zum oberen Burghof.\\n\\nW\xe4hrend Sie die Treppe hinaufsteigen, sehen Sie rechts 3 alte Feuerl\xf6scher. Bei so einem Feuerl\xf6scher mussten gleichzeitig zwei M\xe4nner pumpen, w\xe4hrend das Wasser durch einen Wasserschlauch gespritzt wurde. Zum Gl\xfcck waren die Feuerl\xf6scher nie im Einsatz - das bedeutet, dass hier nie ein Feuer ausbrach."},{"audio":"/de/castle/de_room_3.mp3","number":3,"img":"/castle/hradni_nadvori.jpg","title":"Der obere Burghof","card_label":"Wir haben nun den oberen Burghof betreten.","button":"Besuchen","text":"Wir haben nun den oberen Burghof betreten. Der Basaltfelsen ist hier ziemlich klein, deshalb beschloss man, die Burg nicht in die Breite, sondern in die H\xf6he zu bauen. Diese Tatsache ist zum Beispiel auf dem hohen Turm zu sehen. Er ist 49 m hoch und seine Mauern sind im ersten Stockwerk fast 4 m breit. Dort k\xf6nnen Sie auch zwei kleine Fenster sehen, die mal ein Gef\xe4ngnis, mal eine Schatzkammer waren. Der Turm wurde bereits 1014 erbaut und so ist er der \xe4lteste Teil der ganzen Burg. Oben war der Turm urspr\xfcnglich flach und oft wurde hier Feuer angez\xfcndet, so dass er als Leuchtturm auf dem Handelsweg zwischen B\xf6hmen, der Lausitz und Polen diente. Darum wird er Indica genannt. Diesen Turm werden wir w\xe4hrend unserer F\xfchrung zusammen besuchen.\\n\\nObwohl die Burg zun\xe4chst im gotischen Baustil erbaut wurde, wurde sie mehrmals umgebaut und heute steht hier eine Renaissanceburg aus dem 16 Jahrhundert Als Hinweis darauf gilt die urspr\xfcngliche Fassade der Burg. Werfen Sie bitte einen Blick nach rechts, wo noch erhaltene Renaisancesgraffitos aus dem 16. Jahrhundert zu sehen sind. Die Sgraffitos wurden erst Jahrhunderte sp\xe4ter, im Jahre 1960 w\xe4hrend einer Rekonstruktion, entdeckt. Sie waren n\xe4mlich unter der alten Fassade versteckt. Ihre Entdeckung war f\xfcr alle eine riesengro\xdfe \xdcberraschung. \xc4hnliche Sgraffitos konnten Sie auch unten auf dem Alten Schloss erkennen.\\n\\nBevor wir die Burg betreten, beachten Sie noch zwei Wappen, die zwei verschiedene \xf6rtliche Adelsgeschlechter darstellen. Das kleine Wappen \xfcber dem Vordach \xfcber der T\xfcr geh\xf6rte der Adelsfamilie von Bieberstein, die unter anderem f\xfcr den Renaissanceumbau der Burg sorgte. Das zweite gro\xdfe Wappen an der Mauer geh\xf6rte dem Grafen Matthias aus der Adelsfamilie Gallas, der vor allem f\xfcr seine Mitwirkung an der Ermordung von Albrecht von Waldstein bekannt ist. \xdcber beide Adelsfamilien und nat\xfcrlich auch \xfcber weitere Besitzer der Herrschaft Fr\xfddlant werden Sie mehr in der Burg erfahren."},{"audio":"/de/castle/de_room_4.mp3","number":4,"img":"/castle/prvni_hradni.jpg","title":"Der erste Burgraum","card_label":"Wir befinden uns nun im ersten Burgraum und beginnen mit der \xe4ltesten Geschichte.","button":"Besuchen","text":"Wir befinden uns nun im ersten Burgraum und beginnen mit der \xe4ltesten Geschichte: Der Gr\xfcnder der Burg ist heute nicht mehr bekannt. Seit dem 13. Jahrhundert herrschte hier das Adelsgeschlecht von Ronow, eine der m\xe4chtigsten b\xf6hmischen Adelsfamilien. Das Baum\xe4stewappen der Familie ist \xfcber dem Eingang zu sehen.\\n\\nIm Jahre 1278 wurde ihnen aber von dem b\xf6hmischen K\xf6nig P\u0159emysl Otakar II. die Herrschaft genommen, um sie damit zu schw\xe4chen. Noch im selben Jahr wurde das Gut vom Adelsgeschlecht von Bieberstein gekauft. Auch ihr Geweihwappen ist in diesem Raum zu sehen. Unter ihm befinden sich Gipsabg\xfcsse der K\xf6pfe der Ritter dieser Familie aus ihrer Familiengruft. Au\xdfer dass Biebersteiner gegen die Hussiten k\xe4mpften, realisierten sie auch den Renaissanceumbau der alten Burg. Sie blieben am l\xe4ngsten hier, fast 300 Jahre. Dann hatte aber der letzte Biebesteiner keinen m\xe4nnlichen Nachfolger und so starb das Adelsgeschlecht von Bieberstein 1551 aus. Nach sieben Jahren wurde Fr\xfddlant von der Adelsfamilie von Redern gekauft. Ihr Wappen ist bereits viel verzierter als die vorherigen und auch entsprechend gr\xf6\xdfer. Dieser Adelsfamilie schulden wir viel \u2013 ohne sie w\xe4ren hier gar kein Schloss und auch keine Schlosskapelle. Der bekannteste von ihnen war Melchior von Redern, der auf dem Gem\xe4lde in der Mitte abgebildet ist. Melchior war angeblich ein hervorragender K\xe4mpfer. Er k\xe4mpfte zum Beispiel gegen die T\xfcrken in Ungarn. Nach seinem Tod im Jahre 1600 \xfcbernahm das Gut Fr\xfddlant seine Frau Katharina von Redern. Ihr Bild ist zwischen den Fenstern zu sehen. Die sterblichen \xdcberreste von Melchior sind in dieser Vitrine links von der T\xfcr ausgestellt. Und in dem kleinen Sarg liegt sein Armknochen.\\n\\nKatharina von Redern war eine sehr energische, aber auch sehr selbsts\xfcchtige Frau, weshalb sie von der Bev\xf6lkerung den Spitznamen \'b\xf6se Katharina\' erhielt. Sie lie\xdf die Schlosskapelle, das Alte Schloss und die Familiengruft in der Kirche von Fr\xfddlant bauen und schaffte es auch sogar, fast alle alten Schulden der Melchiors abzuzahlen. Auf der anderen Seite stritt sie sich lange mit den B\xfcrgern um das Braurecht und als sie diesen Streit verlor, lie\xdf sie den B\xfcrgern zum Trotz das sog. \'Trotz-Haus\' hier auf dem Marktplatz in Fr\xfddlant errichten, um die B\xfcrger damit \xe4rgern zu k\xf6nnen. Es steht bis heute dort. Weil sie so unbeliebt war, sorgten ihre Untertanen nach ihrem Tod 1618 daf\xfcr, dass ihre Leiche nie gefunden wurde.\\n\\nAls Katharina starb, \xfcbernahm ihr Sohn Christoph von Redern die Verwaltung der Herrschaft. Der ist auf dem Bild rechts mit einem Schwert in der Hand zu sehen. Weil er protestantisch war, k\xe4mpfte er im Drei\xdfigj\xe4hrigen Krieg gegen den Kaiser. Im Jahre 1620 nahm er zusammen mit seinem Onkel an der Schlacht auf dem Wei\xdfen Berg teil. Als der Widerstand geschlagen wurde, musste Christoph fliehen, um nicht hingerichtet zu werden. Sein Onkel schaffte das jedoch nicht und wurde am 21. Juni 1621 auf dem Altst\xe4dterring in Prag mit noch 26 anderen Herren hingerichtet.\\n\\nSeit 1620 war das Gut Fr\xfddlant ohne Besitzer, blieb so aber nicht lange. Bald nutzte n\xe4mlich der bekannteste Besitzer Albrecht von Waldstein diese seltene M\xf6glichkeit aus und kaufte das Gut zu einem g\xfcnstigen Preis. \xdcber ihn werden wir in dem n\xe4chsten Raum sprechen."},{"audio":"/de/castle/de_room_5.mp3","number":5,"img":"/castle/albrecht.jpg","title":"Albrecht von Wallenstein","card_label":"Als die Adelsfamilie von Redern ihre Herrschaft verlassen musste, wurde Fr\xfddlant 1622 von Albrecht von Waldstein, Herzog von Fr\xfddlant, \xfcbernommen.","button":"Besuchen","text":"Als die Adelsfamilie von Redern ihre Herrschaft verlassen musste, wurde Fr\xfddlant 1622 von Albrecht von Waldstein, Herzog von Fr\xfddlant, \xfcbernommen. Seine Herrschaft hatte zwar keine Auswirkungn auf die Burggestalt \u2013 er lie\u03b2 keine neuen Geb\xe4ude bauen, aber es gab eine gro\xdfe wirtschaftliche Entwicklung. Albrecht von Waldstein erlangte seinen ganzen Ruhm und Reichtum als General der kaiserlichen Armee. Er wurde zu einer der ber\xfchmtesten Pers\xf6nlichkeiten des Drei\xdfigj\xe4hrigen Krieges und erlangte sogar den Titel Herzog von Fr\xfddlant. Obwohl er der bekannteste Besitzer von Fr\xfddlant ist, tauchte er hier paradoxerweise nur insgesamt viermal auf \u2013 sein Haupsitz blieb n\xe4mlich das Schloss Ji\u010d\xedn.\\n\\nVielleicht wundern Sie sich jetzt, \xfcber wen wir hier jetzt eigentlich sprechen, weil Sie Albrecht von Waldstein vorher vielleicht nur unter dem Namen Wallenstein kannten. Sein urspr\xfcnglicher b\xf6hmischer Name Waldstein ist jedoch sein richtiger Familienname, den Sie auch auf allen Wappen oder Bildern sehen k\xf6nnen. Den Namen Wallenstein dachte sich in Wirklichkeit nur Friedrich Schiller in seiner Wallenstein-Trilogie aus. Sein Portr\xe4t stammt aus der Zeit seines gr\xf6\xdften Ruhmes. Es wurde 1930 gemalt, als Waldstein in kurzer Zeit unermesslich reich und bekannt wurde. Alles, was ihm noch fehlte, war die b\xf6hmische K\xf6nigskrone. Um diese Krone zu erlangen, z\xf6gerte er angeblich nicht, mit Schweden und anderen Gegnern der Habsburger zu verhandeln. Dies erregte das Misstrauen des Kaisers, und als Waldstein von einem seiner Gener\xe4le, Matthias Gallas, verraten wurde, wurde Albrecht von Waldstein am 25. Februar 1634 in Eger, einer b\xf6hmishen Stadt an der Grenze zu Deutschland, im Schlaf ermordet.\\n\\nMan muss aber noch erw\xe4hnen, dass wir bis heute immer noch nicht genau wissen, ob Waldstein wirklich mit Schweden paktierte oder ob es sich nur Matthias Gallas ausdachte. Wie auch immer, denken Sie aber nicht, dass Waldstein wirklich der B\xf6hmische K\xf6nig geworden w\xe4re, sofern er vorher nicht verraten und ermordet worden w\xe4re. Als er 1634 starb, befand er sich n\xe4mlich schon im Endstadium der Krankheit Syphilis und so w\xe4re er sowieso bald gestorben.\\n\\nWaldsteins ehemaliger General und sp\xe4ter auch sein Verr\xe4ter, Graf Matthias Gallas, erhielt vom Kaiser f\xfcr seine Zusammenarbeit an Waldsteins Ermordung das Gut Fr\xfddlant. \xdcber Matthias Gallas werden wir im n\xe4chsten Burgraum, dem gro\xdfen Rittersaal, sprechen. Schauen Sie sich im Saal um: Links von Waldstein sehen wir ein Portr\xe4t seiner Frau Isabella und rechts von ihm h\xe4ngt ein Portr\xe4t seiner einzigen Tochter Elisabetta. In der hinteren Ecke gibt es ein Horoskop aus dem 18. Jahrhundert Au\xdferdem gibt es hier auch ein Portr\xe4t von Waldsteins privatem Astrologen. Es ist bekannt, dass Waldstein ein gro\xdfer Astrologie- Liebhaber war und vor jeder Schlacht oder einer diplomatischen Verhandlung das Ergebnis von Astrologen vorhersagen lie\xdf.\\n\\nAuf seinen Erfolg weist auch das gr\xf6\xdfte Gem\xe4lde im Saal hin, auf dem ein wundersch\xf6nes Pferd abgebildet ist. Dieses Pferd geh\xf6rte urspr\xfcnglich dem K\xf6nig Gustav II. von Schweden. Als er aber in einer Schlacht gegen Waldstein starb, erwarb Waldstein dieses Pferd als seine Kriegsbeute. Die Inschrift Mas Querido bedeutet auf Spanisch: Mein Liebling, weil es Waldsteins Lieblingsross war."},{"audio":"/de/castle/de_room_6.mp3","number":6,"img":"/castle/rytirsky_sal.jpg","title":"Gro\xdfer Rittersaal","card_label":"Wir haben den Rittersaal erreicht, der 1801 in eine Gem\xe4ldegalerie mit Portr\xe4ts der Familienmitglieder der Adelsfamilien Gallas und Clam-Gallas umgewandelt wurde.","button":"Besuchen","text":"Wir haben den Rittersaal erreicht, der 1801 in eine Gem\xe4ldegalerie mit Portr\xe4ts der Familienmitglieder der Adelsfamilien Gallas und Clam-Gallas umgewandelt wurde. Gleichzeitig wurde er als Teil des neu gegr\xfcndeten Schlossmuseums f\xfcr die \xd6ffentlichkeit zug\xe4nglich gemacht. Damit wurde Fr\xfddlant nach Schloss Versailles zum zweit\xe4ltesten Schlossmuseum in Europa.\\n\\nBeginnen wir mit der Adelsfamilie Gallas. Die Familie Gallas war ein relativ armes Adelsgeschlecht, das durch seinen Verrat an Waldstein reich wurde. Graf Matthias Gallas, Waldsteins ehemaliger General, wurde nach Waldsteins Ermordung Befehlshaber der kaiserlichen Armee. Matthias ist auf dem Gem\xe4lde rechts von der T\xfcr neben seiner Gemahlin abgebildet.\\n\\nMatthias genoss Fr\xfddlant jedoch nicht lange, denn Ende 1634, kurz nach Waldsteins Tod, besetzten Fr\xfddlant Schweden und blieben hier bis 1649. Zwei Jahre danach starb auch Matthias selbst.\\n\\nLinks von der T\xfcr sehen Sie seinen Sohn, Franz Ferdinand von Gallas. Er gr\xfcndete im 17. Jahrhundert in Heindorf, in der N\xe4he von Fr\xfddlant, ein Kloster und in seiner Kirche lie\u03b2 er die Familiengruft der Adelsfamilie Gallas errichten. Franz war ein typischer habsburgischer Herrscher \u2013 er liebte Luxus und, um auf gro\xdfem Fu\xdf leben zu k\xf6nnen, erhob oft Steuern, unterdr\xfcckte seine Untertanen und war daher sehr verhasst. Rechts von der T\xfcr sehen Sie auf dem Bild seine Gemahlin Johanna Emerenziana. Sie herrschte noch lange nach dem Tod ihres Mannes und starb 1735 im unglaublichen Alter von 92 Jahren.\\n\\nEin weiteres interessantes Portr\xe4t ist das von Jan Wenzeslaus Gallas, dem Sohn von Franz. Jan Wenzeslaus hielt sich nur selten in Fr\xfddlant auf, im Gegensatz zu seinen Vorg\xe4ngern w\xe4hlte er n\xe4mlich nicht die milit\xe4rische, sondern die diplomatische Karriere. Sein gr\xf6\xdfter Erfolg war, als er zum Vizek\xf6nig von Neapel wurde. Schon drei Tage danach starb er aber unerwartet und laut seinem letzten Wunsch wurde sein Herz, als der einzige Teil seines K\xf6rpers, in der Familiengruft in Heindorf begraben. Au\xdferdem lie\xdf Johann Wenzeslaus das sog. \u201eClam-Gallas Palais\u201c in Prag umbauen. Im Saal befindet sich auch ein Bild seines Sohnes Philipp Joseph von Gallas, der der letzte Repr\xe4sentant der Familie Gallas wurde.\\n\\nPhilip Joseph starb n\xe4mlich ohne m\xe4nnliche Nachfolger. Ihm passierte 1757 das Gleiche wie der Adelsfamilie von Bieberstein. Diesmal kam er aber mit einem besonderen Rettungsplan: Er \xfcbergab die Herrschaft seinem Neffen, Christian Philip von Clam, allerdings unter einer Bedingung und zwar, dass der Name \u201eGallas\u201c zum Familiennamen und Wappen der Adelsfamilie Clam hinzugef\xfcgt werden muss. Sein Plan ging auf und so entstand eine nagelneue und bereits die letzte Adelsfamilie hier: die Adelsfamilie Clam- Gallas. Und \xfcber die werden wir weiter im n\xe4chsten Raum sprechen. Dort bringen wir auch die Geschichte dieser Herrschaft zu Ende."},{"audio":"/de/castle/de_room_7.mp3","number":7,"img":"/castle/piano.jpg","title":"Beim Klavier","card_label":"In diesem Raum finden wir zahlreiche Bildnisse, die eng mit der Familie Clam-Gallas zusammenh\xe4ngen.","button":"Besuchen","text":"In diesem Raum finden wir zahlreiche Bildnisse, die eng mit der Familie Clam-Gallas zusammenh\xe4ngen.\\n\\nDas erste ist ein Portr\xe4t von Christian Christoph Clam-Gallas, dem Sohn von Christian Philip, dem gerade erw\xe4hnten Mann, der zu seinem urspr\xfcnglichen Namen \'Clam\' den Namen \'Gallas\' hinzuf\xfcgen musste. Neben ihm k\xf6nnen wir auch seine sch\xf6ne Frau Josefine Clam-Gallas sehen. Beide waren echte Kunst- und Musikliebhaber und zusammen f\xf6rderten sie diesen Bereich. Josefine war sogar mit Ludwig van Beethoven befreundet, der ihr zwei seiner Kompositionen widmete.\\n\\nDas Ehepaar hatte zwei S\xf6hne, William und Eduard. William k\xf6nnen Sie hier links sehen. William war der \xe4ltere Sohn und so sollte er auch der Erbe des Familienverm\xf6gens werden. Das w\xe4re auch passiert, wenn William im jungen Alter von 20 Jahren w\xe4hrend einer Jagd nicht stark verletzt worden w\xe4re. Er fiel n\xe4mlich beim Reiten von seinem Pferd [x] und erschoss sich dabei aus Versehen. Das w\xe4re an sich aber nicht fatal gewesen, weil er nat\xfcrlich sofort ins Krankenhaus gebracht und dort gepflegt wurde. Im Krankenhaus bekam aber William in seine Wunde Typhus und das f\xfchrte zu seinem Tod.. Nach Williams Tod bekam sein j\xfcngerer Bruder Eduard auch die Chance, sich durchzusetzen. F\xfcr ihn wurde es der Anfang einer erfolgreichen Karriere.\\n\\nEduard Clam-Gallas wurde ein sehr bedeutender \xf6sterreichischer General und war in diesem Bereich so erfolgreich, dass er sogar den Orden vom Goldenen Vlies, einer der h\xf6chsten Auszeichnungen in Europa, erhielt. Au\xdfer ihm erhielt diesen Orden hier nur ein einziger Mann und zwar Albrecht von Waldstein, der Herzog von Fr\xfddlant. Das ist schlie\xdflich auch der Grund, warum hier in der Burg der Orden vom Goldenen Vlies zu sehen ist. Bevor wir den n\xe4chsten Raum betreten, um uns ihn sogar im Original anzuschauen, beachten Sie noch Eduards gro\xdfes Portr\xe4t rechts vom Ausgang. Um seinen Hals h\xe4ngt n\xe4mlich nichts Geringeres als der gerade erw\xe4hnte Orden.\\n\\nDie Verwaltung des Gutes \xfcbernahm nach Eduard sein Sohn Franz Clam-Gallas, der bereits der letzte m\xe4nnliche Besitzer war. Franz war unter seinen Untertanen sehr beliebt, weil er gerecht war und Sinn f\xfcr Humor hatte. Mit seiner Frau hatte er sogar 7 T\xf6chter. Nach seinem Tod im Jahre 1930 bekam jede Tochter eine seiner Herrschaften. Fr\xfddlant wurde von der zweitj\xfcngsten Tochter Clotilde geerbt. Clotilde war die allerletzte Besitzerin von Fr\xfddlant, bis das Gut 1645 nach dem Zweiten Weltkrieg vom Staat wegen ihrer deutschen Staatsangeh\xf6rigkeit konfisziert wurde.\\n\\nNach der Verstaatlichung hatte Fr\xfddlant n\xe4mlich im Vergleich zu anderen Burgen Gl\xfcck. Als Clotilde wegzog, wurde das ganze Objekt sofort geschlossen und so blieb fast alles sehr gut erhalten. Darum sind die Burg und das Schloss Fr\xfddlant ungew\xf6hlich gut ausgestattet und \xfcber 90 % der Ausstattung stammt direkt von hier."},{"audio":"/de/castle/de_room_8.mp3","number":8,"img":"/castle/eduard.jpg","title":"Eduards Arbeitszimmer","card_label":"Dieser Raum ist als B\xfcro von Eduard Clam-Gallas eingerichtet.","button":"Besuchen","text":"Dieser Raum ist als B\xfcro von Eduard Clam-Gallas eingerichtet. Im Schaukasten sind Geschenke ausgestellt, die er von seinen Kollegen und Freunden bekam und in der Vitrine rechts vom Fenster sind seine milit\xe4rischen Auszeichnungen zu sehen, darunter auch der originale Orden vom Goldenen Vlies. An den W\xe4nden h\xe4ngen Bilder, die verschiedene Schlachten in \xd6sterreich und Norditalien im 19. Jahrhundert darstellen."},{"audio":"/de/castle/de_room_9.mp3","number":9,"img":"/castle/uniformy.jpg","title":"Uniformen","card_label":"Nun stehen wir in einem Eckzimmer, in dem sich zahlreiche Uniformen der herrschaftlichen Bediensteten befinden, die im 19. Jahrhundert getragen wurden.","button":"Besuchen","text":"Nun stehen wir in einem Eckzimmer, in dem sich zahlreiche Uniformen der herrschaftlichen Bediensteten befinden, die im 19. Jahrhundert getragen wurden. Zu sehen sind sowohl Sommer- und Winteruniformen eines Kutschers, als auch Uniformen eines F\xf6rsters, eines Adjutanten und eines Dieners.\\n\\nVon den Fenstern aus haben wir einen sch\xf6nen Blick auf das Isergebirge, das sich \xfcber Fr\xfddlant und seine Umgebung erhebt. Beim sch\xf6nen Wetter ist von hier aus sogar der Gipfel des Isergebirges zu sehen \u2013 die 1124m hohe Tafelfichte."},{"audio":"/de/castle/de_room_10.mp3","number":10,"img":"/castle/nositka.jpg","title":"S\xe4nfte","card_label":"Wir haben gerade zwei kleine R\xe4ume erreicht.","button":"Besuchen","text":"Wir haben gerade zwei kleine R\xe4ume erreicht. Im ersten befindet sich rechts eine Damens\xe4nfte und vor den Fenstern ein Barockschlitten und eine Kutsche.\\n\\nIn S\xe4nften lie\xdf sich der Adel zwischen den Burggeb\xe4uden und in die Stadt tragen. Der sehr schlechte Zustand der damaligen Stra\xdfen stand in krassem Gegensatz zu den teuren Kleidern des Adels, so dass Getragenwerden oft die einzige M\xf6glichkeit war, von einem Ort zum anderen zu gelangen, ohne sich zu sehr zu beschmutzen. S\xe4nften wurden au\xdferdem auch von alten und kranken Menschen benutzt. Weil S\xe4nften selbst ungef\xe4hr 70 kg wiegen konnten und darin noch ein Mensch war, mussten sie immer von vier Dienern gleichzeitig getragen werden, die die S\xe4nften auf ihren Schultern hatten. Zwei Diener waren vorne, zwei hinten.\\n\\nHier gibt es vor den Fenstern auch einen Barockschlitten, dessen Ausschm\xfcckung viele Besucher \xfcberrascht. Der Schlitten sollte n\xe4mlich wie ein bekanntes Meerestier aussehen. Weil aber damals b\xf6hmische Adeligen gar keine Ahnung davon hatten, wie Meerestiere wirklich aussehen, bildeten sie sie einfach so ab, wie sie sich die verschiedenen Tiere vorstellten. Darum sieht der Schlitten heute ziemlich komisch aus \u2013 das Meerestier sollte n\xe4mlich urspr\xfcnglich ein Delphin sein.\\n\\nW\xe4hrend Sie durch den zweiten Raum in den Jagdsalon gehen, erkennen Sie Zielscheiben aus dem 18. und 19. Jahrhundert, die an den W\xe4nden h\xe4ngen. Es kommt nur selten vor, dass man so alte und trotzdem so gut erhaltene Zielscheiben bewundern kann, denn damals wurden immer fast alle Zielscheiben direkt nach der Veranstaltung verbrannt. Der Grund war einfach \u2013 niemand konnte sehen, wie schlecht die Adeligen schossen. Aber wenn es auf der anderen Seite passierte, dass die Adeligen wortw\xf6rtlich ins Schwarze trafen, machte man eine Ausnahme und stellte die Zielscheibe aus. Darum wurden einige Zielscheiben erhalten."},{"audio":"/de/castle/de_room_11.mp3","number":11,"img":"/castle/lovecky_salon.jpg","title":"Jagdsalon","card_label":"In diesem Raum sind Jagdtroph\xe4en ausgestellt.","button":"Besuchen","text":"In diesem Raum sind Jagdtroph\xe4en ausgestellt. Die Geweihe an den W\xe4nden zeugen vom Jagdsport, der auf dem Gut Fr\xfddlant sehr beliebt war. Im Isergebirge wurden meistens Hirsche gejagt, aber auch Wildschweine, B\xe4ren und W\xf6lfe. Der letzte Wolf im ganzen Isergebirge wurde 1766 in Fr\xfddlant erlegt \u2013 er ist auf dem Gem\xe4lde neben der T\xfcr abgebildet.\\n\\nAm Fenster steht noch ein Tisch. Auf ihm k\xf6nnen Sie einen Teil der gro\xdfen Pfeifensammlung hier sehen. Eduard und sein Sohn Franz Clam-Gallas waren n\xe4mlich echte Pfeifenliebhaber und zusammen sammelten sie um die 220 St\xfccke. Pfeifensammeln war jedoch ein teurer Spa\xdf, weil die Pfeifen oft Edelbein, Gold, Silber oder teures Holz enthalten. Und auch die Tischplatte selbst ist interessant \u2013 sie wurde n\xe4mlich aus einer 130 Jahre alten Birke angefertigt.\\n\\nIm n\xe4chsten Raum sind noch weitere Tiere zu sehen. Diesmal aber solche, die Sie bestimmt noch nie gesehen haben.\\n\\nTiere mit zwei K\xf6pfen, sechs Beinen oder Tumor. Tiermissgeburten auszustopfen und dann zu sammeln war n\xe4mlich im Mittelalter eine Gewohnheit. Die meisten Tiere wurden jedoch schon tot gefunden \u2013 darum handelt es sich meistens noch um Babys."},{"audio":"/de/castle/de_room_12.mp3","number":12,"img":"/castle/jidelna.jpg","title":"Renaissancespeisesaal","card_label":"Der urspr\xfcngliche Burgspeisesaal ist im Renaissancebaustil eingerichtet.","button":"Besuchen","text":"Der urspr\xfcngliche Burgspeisesaal ist im Renaissancebaustil eingerichtet. Sie sehen Zinngeschirr, den \xe4ltesten Kachelofen im ganzen Objekt und am Ausgang eine Holzuhr. In Wahrheit tafelten hier aber Adeligen nur bis zum 16. Jahrhundert, als das Alte Schloss erbaut wurde. Seitdem tafelten sie in der Regel dort. Im Schloss war es n\xe4mlich w\xe4rmer, sch\xf6ner und gem\xfctlicher. In der Burg hielten sich dann eher Dienstboten auf.\\n\\nHinter der T\xfcr befindet sich noch eine Terrasse mit einer wundersch\xf6nen Aussicht auf den unteren Schlosshof und die Stadt Fr\xfddlant."},{"audio":"/de/castle/de_room_13.mp3","number":13,"img":"/castle/vezeni.jpg","title":"Gef\xe4ngnis","card_label":"Jetzt stehen wir vor einem der zwei Gef\xe4ngnisse.","button":"Besuchen","text":"Jetzt stehen wir vor einem der zwei Gef\xe4ngnisse. Die Mauern hier sind rund, weil wir uns in dem hohen Turm Indica befinden. Diesen Turm konnten Sie auch am Anfang der F\xfchrung auf dem oberen Burghof sehen.\\n\\nNun gehen wir weiter nach oben in die zweite Etage der Burg, in die R\xfcstkammer."},{"audio":"/de/castle/de_room_14.mp3","number":14,"img":"/castle/zbrojnice1.jpg","title":"R\xfcstkammer \u2013 Teil 1","card_label":"Wir betreten nun f\xfcr manche den interessantesten Raum \u2013 die R\xfcstkammer.","button":"Besuchen","text":"Wir betreten nun f\xfcr manche den interessantesten Raum \u2013 die R\xfcstkammer. Schauen Sie zuerst links. Dort sind zwei sog. Hakenb\xfcsten aus dem 15. und 16. Jahrhundert zu sehen. Sie werden deshalb so genannt, weil diese Waffen einen so starken R\xfccksto\xdf hatten, dass es notwendig war, sie an den Burgzinnen zu befestigen, um Verletzungen zu vermeiden. Sie war eigentlich schon wie eine kleine Kanone. Eine Hakenb\xfcchse wurde immer von 2 Soldaten gleichzeitig benutzt, da sie bis zu 70 kg gewogen hat. Die Schussweite der Hakenb\xfcchse war nur etwa 100 Meter. Mit der Hakenb\xfcchse konnte man auch nur sehr schlecht zielen. Darum wurden diese Waffen von den viel leichteren und viel zuverl\xe4ssigeren Musketen am Ende des 16. Jahrhunderts ersetzt. Musketen sehen Sie rechts.\\n\\nMusketen sind fast gleichzeitig die verbreitesten Waffen in Europa geworden. Sie wurden einfach \xfcberall verwendet. K\xe4mpfer mit Musketen wurden Musketiere genannt. Das Kaliber der Muskete ist 17-25 mm, die Schussweite ist 200-300 m. Da Musketen aber trotzdem relativ schwer waren \u2013 5-10 kg - wurden sogenannte Musketengabeln verwendet, auf denen man die Muskete stabilisierte. Dadurch konnte man genauer und einfacher schie\xdfen. Die Musketengabel k\xf6nnen Sie sich neben der Kanone rechts anschauen.\\n\\nAu\xdferdem verdienen Ihre Aufmerksamkeit bestimmt noch zahlreiche R\xfcstungen, Schwerter, Schilde, Helme und Armbr\xfcste."},{"audio":"/de/castle/de_room_15.mp3","number":15,"img":"/castle/zbrojnice2.jpg","title":"R\xfcstkammer \u2013 Teil 2","card_label":"Im zweiten Raum, der auch zur R\xfcstkammer geh\xf6rt, sind haupts\xe4chlich Musketen ausgestellt, die von einem der Besitzer, Franz Ferdinand Gallas, gekauft wurden.","button":"Besuchen","text":"Im zweiten Raum, der auch zur R\xfcstkammer geh\xf6rt, sind haupts\xe4chlich Musketen ausgestellt, die von einem der Besitzer, Franz Ferdinand Gallas, gekauft wurden. Auf ihren Patronentaschen stehen seine Initialen: F. F. G. V. G \u2013 Franz Ferdinand Graf von Gallas. Ausgestellt sind hier auch M\xf6rser und kleine Kanonen, die als zeremonielle Waffen verwendet wurden."},{"audio":"/de/castle/de_room_16.mp3","number":16,"img":"/castle/postroje.jpg","title":"Kutschergeschirre","card_label":"In diesem Raum sind alte Kutschergeschirre.","button":"Besuchen","text":"In diesem Raum sind alte Kutschergeschirre. Die ersten vier sind versilbert, die anderen vergoldet. Der gro\xdfe Hut und die Stiefel links von der T\xfcr geh\xf6rten dem Kutscher. Den Hut trug der Kutscher auf dem R\xfccken und drinnen hatte er die Post."},{"audio":"/de/castle/de_room_17.mp3","number":17,"img":"/castle/obrazarna.jpg","title":"Gem\xe4ldegalerie","card_label":"Dieser Raum diente als zweite Gem\xe4ldegalerie der Burg.","button":"Besuchen","text":"Dieser Raum diente als zweite Gem\xe4ldegalerie der Burg. Darum sind hier wieder Portr\xe4ts der Besitzer von Fr\xfddlant und ihrer Verwandten, die wir schon im Gro\xdfen Rittersaal kennengelernt haben. \\n\\nDie einzige Ausnahme ist die Vitrine auf dem Tisch, in der sich ein Strau\xdfenei und vebranntes Geld befinden \u2013 Souvenirs vom Reisen der Familie Clam-Gallas."},{"audio":"/de/castle/de_room_18.mp3","number":18,"img":"/castle/vrchnostenska.jpg","title":"B\xfcro","card_label":"Der letzte Raum der Burg ist als B\xfcro aus dem 17.Jahrhundert eingerichtet.","button":"Besuchen","text":"Der letzte Raum der Burg ist als B\xfcro aus dem 17.Jahrhundert eingerichtet. Interessant ist zum Beispiel die gr\xf6\xdfere Landkarte, die umgekehrt ist \u2013 ihr Norden ist unten und ihr S\xfcden wiederum oben.\\n\\nWeil das B\xfcro auch der letzte Raum der Burgf\xfchrung ist, haben Sie nun Zeit, sich es anzuschauen. Wenn Sie fertig sind, gehen wir runter und beenden unsere F\xfchrung.\\n\\nAn dieser Stelle m\xf6chten wir uns von Ihnen verabschieden. Wir danken Ihnen f\xfcr Ihre Aufmerksamkeit und hoffen, Sie haben die Burgf\xfchrung genossen. Geben Sie jetzt bitte diesen Text Ihrem Burgf\xfchrer zur\xfcck. Wir w\xfcnschen Ihnen einen sch\xf6nen Tag und freuen uns auf ein Wiedersehen!"}]},{"tour_id":"castle","language":"es","title":"Castillo","img":"/castle/castle.jpg","rooms_label":"habitaciones","time":"60 minutos","description":"Este recorrido lleva al visitante a trav\xe9s del Castillo Superior, que es la parte m\xe1s antigua de la zona de Fr\xfddlant. Toda la ruta est\xe1 dominada por un gran sal\xf3n de caballeros con una galer\xeda ancestral, armer\xeda, sal\xf3n de banquetes o una gran colecci\xf3n de uniformes de empleados.","button":"Empezar recorrido","rooms":[{"audio":"/es/castle/es_room_1.mp3","number":1,"img":"/castle/dolni_nadvori.jpg","title":"Empezar recorrido","card_label":"Nos encontramos en el patio bajo desde donde se ve muy bien el antiguo castillo, la capilla y dos partes del palacio nuevo.","button":"Visita","text":"Buenos d\xedas, bienvenidos al castillo de Fr\xfddlant.\\n\\nNos encontramos en el patio bajo desde donde se ve muy bien el antiguo castillo, la capilla y dos partes del palacio nuevo. El castillo de Fr\xfddlant es uno de los castillos m\xe1s antiguos y mejor conservados de Bohemia del norte; fue construido hacia la mitad del siglo XIII en estilo g\xf3tico. Su parte m\xe1s antigua es la torre redonda, llamada \'indica\'. Encima de ella, seg\xfan las leyendas, se prend\xedan fuegos y as\xed la torre serv\xeda de faro en el camino comercial de los Pa\xedses Checos a Lusacia y a Polonia.\\n\\nFr\xfddlant es una agrupaci\xf3n de dos complejos de edificios \u2013 el castillo viejo - fortaleza llamada \'el castillo alto\' - y la ampliaci\xf3n renacentista \u2013 \'el palacio nuevo\' - que forma la base del arrabal. El castillo fue continuamente transformado y ampliado; ese desenvolvimiento complejo se concluy\xf3 en el siglo XIX con las \xfaltimas reconstrucciones. \xc9stas se ven all\xed a la izquierda, en la parte llamada \'el ala del castellano\'.\\n\\nDesde el palacio alto pasaremos a la capilla, construida por la orden de Catalina de Redern y su esposo Melchor entre los a\xf1os 1598 \u2013 1602. Vista la capilla continuaremos nuestra visita por el ala renacentista del palacio, construida en el siglo XVI. En la fachada se encuentran originales esgrafiados renacentistas. La visita la concluiremos en la parte m\xe1s moderna, edificada en el siglo XIX (1876) por orden de Eduardo de Clam-Gallas.\\n\\nAqu\xed ven Ustedes las murallas originales restauradas. El camino que se encuentra debajo de ellas y que sube hacia el castillo antiguo se llama \'el camino de los caballeros\'. Por \xe9l los caballeros sub\xedan hasta el castillo alto montando a caballo. La escalera por la que subimos nosotros ahora fue construida en las postrimer\xedas del siglo XVIII, en la \xe9poca de Cristi\xe1n Felipe de Clam-Gallas."},{"audio":"/es/castle/es_room_2.mp3","number":2,"img":"/castle/pred_kapli.jpg","title":"Delante del castillo","card_label":"El castillo alto, el primitivo n\xfacleo g\xf3tico de la fortaleza de la segunda mitad del siglo XIII, se levanta encima de una roca de basalto que, por su forma en columnas, se llama \'el \xd3rgano del Diablo\'.","button":"Visita","text":"El castillo alto, el primitivo n\xfacleo g\xf3tico de la fortaleza de la segunda mitad del siglo XIII, se levanta encima de una roca de basalto que, por su forma en columnas, se llama \'el \xd3rgano del Diablo\'. Los edificios est\xe1n unidos por una pasarela, un arco de riostra. Se halla con frecuencia entre las casas en las estrechas calles de la Edad Media. Aqu\xed es de dimensiones tan grandes que forma un pasillo alumbrado independiente que permit\xeda transitar c\xf3modamente del castillo a la capilla.\\n\\nEncima de la escalera se halla el escudo de uno de los propietarios del castillo, de Antonio Pancracio de Gallas y de su esposa Victoria de Arco. Dentro del pasillo, al lado derecho de la escalera, veremos unos matafuegos antiguos."},{"audio":"/es/castle/es_room_3.mp3","number":3,"img":"/castle/hradni_nadvori.jpg","title":"El patio del castillo alto","card_label":"El patio del castillo es peque\xf1o ya que su edificaci\xf3n sobre la roca no permit\xeda una construcci\xf3n m\xe1s amplia.","button":"Visita","text":"El patio del castillo es peque\xf1o ya que su edificaci\xf3n sobre la roca no permit\xeda una construcci\xf3n m\xe1s amplia. El estilo original era g\xf3tico, posteriormente \u2013 en el siglo XVI \u2013 el castillo fue reconstruido en estilo renacentista. Este hecho nos lo recuerda la tabla encima de la puerta que dice que la primera reconstrucci\xf3n renacentista la llev\xf3 a cabo Crist\xf3bal de Biberstein, el entonces propietario del castillo, en el a\xf1o 1551.\\n\\nDense cuenta tambi\xe9n de aqu\xe9l escudo grande. Es de Mat\xedas de Gallas, un comandante importante de la guerra de los Treinta A\xf1os. El texto inscrito habla de sus \xe9xitos militares. Sobre ese interesante personaje hablaremos m\xe1s tarde y tambi\xe9n veremos su retrato. El escudo con un cuerno de ciervo que est\xe1 encima de la puerta por la que vamos a entrar en el castillo pertenec\xeda a la casa de Biberstein.\\n\\nDel castillo primitivo hoy en d\xeda s\xf3lo se conserva la torre redonda, construida con piedra de cantera que se levanta hasta una altura de 49 metros. Su di\xe1metro es de 10 metros y las paredes son bastante gruesas, en la primera planta miden casi cuatro metros. La entrada a su interior se encuentra en los pisos superiores, pues la torre carec\xeda de escalera. En su interior se hallan dos habitaciones abovedadas que serv\xedan de prisi\xf3n. La habitaci\xf3n inferior, que se encuentra a la altura del primer piso, es accesible por tres puertas guarnecidas con hierro y en su interior se conserva una mesa carcelaria muy antigua hecha con tablones s\xf3lidos por un carpintero. Es probable que en el pasado la torre tuviera almenas y sirviera para vigilancia y defensa. El actual casquete segmentario es del siglo XVI y fue elevado durante una reconstrucci\xf3n amplia del complejo de edificios ordenada por Catalina de Redern. Se trata de un casquete triple con galer\xedas. Originalmente estaba chapado de cobre.\\n\\nDobroslava Menclov\xe1, autora de una obra excelente sobre la arquitectura de los castillos checos, clasifica el castillo de Fr\xfddlant como una variante del castillo de tipo saj\xf3n \u2013 hesseno, muy desarrollado en el norte de Bohemia. Se caracteriza sobre todo (a diferencia del tipo danubiano que ten\xeda una torre cuadrangular) por una torre de homenaje redonda (el t\xe9rmino utilizado en los Pa\xedses checos es \'bergfrit\' \u2013 voz alemana). El palacio del castillo cuya divisi\xf3n interior a\xfan sigue el antiguo tipo no diferenciado se extiende entre la torre y la curvatura del noroeste de las murallas. La edificaci\xf3n no muy espaciosa fue ampliada durante el siglo XV con un nuevo edificio.\\n\\nEn la \xe9poca de Crist\xf3bal de Biberstein construyeron otro palacio en el extremo del sur, ya en estilo renacentista. En la segunda mitad del siglo XVI, bajo el gobierno de los Redern apareci\xf3 a\xfan el ala de este enclavado entre la torre de homenaje y la torre de entrada. Con esa edificaci\xf3n se cerr\xf3 el patio. Los edificios a la vez redujeron el patio original a este espacio peque\xf1o.\\n\\nA\xfan cabe mencionar el origen del nombre de nuestro castillo. \'Friedland\' es un nombre alem\xe1n cuyo significado es EL PA\xcdS DE LA PAZ. Este tipo de nombres llegaron a utilizarse en nuestros pa\xedses durante la colonizaci\xf3n alemana durante la Edad Media."},{"audio":"/es/castle/es_room_4.mp3","number":4,"img":"/castle/prvni_hradni.jpg","title":"Los Biberstein y los Redern","card_label":"FHemos entrado en la primera sala del castillo antiguo.","button":"Visita","text":"Hemos entrado en la primera sala del castillo antiguo. Aqu\xed tendremos la posibilidad de conocer un poco m\xe1s sobre su historia. La primera casa a la que pertenec\xeda el se\xf1or\xedo de Fr\xfddlant era la casa de Ronov y en Fr\xfddlant gobernaba en el nombre del rey checo. El escudo de la casa de Ronov, dos desbarbadas ramas cruzadas llamadas astas, se halla a la izquierda de la puerta. En el a\xf1o 1278 el Rey Primislao Ottocaro II les quit\xf3 a los de Ronov el se\xf1or\xedo para reducir as\xed su poder. El mismo a\xf1o compr\xf3 Fr\xfddlant Rulco de Biberstein, un noble de quilates, por 800 \xf3bolos de plata. La casa de Biberstein permaneci\xf3 en Fr\xfddlant durante casi 300 a\xf1os y en su \xe9poca de gobernaci\xf3n llevaron a cabo las reconstrucciones y obras finales del castillo.\\n\\nLos Biberstein apoyaron rotundamente al emperador Segismundo durante la lucha contra los husitas. Tomaron parte en todas las operaciones preparadas contra los husitas en el pa\xeds lindante, en Lusacia. Por lo tanto no puede sorprender que las tropas husitas, cada vez que se dirig\xedan hacia Lusacia, pasaran tambi\xe9n por Fr\xfddlant. Aunque una vez acabadas las guerras de husitas no lleg\xf3 la paz inmediatamente. Los Biberstein se pusieron de parte de la oposici\xf3n al rey checo, a Jorge de Podebrady, durante los a\xf1os 1467 \u2013 1469. El \xfaltimo descendiente masculino de los Biberstein, Crist\xf3bal, muri\xf3 en el a\xf1o 1551. Durante su \xe9poca fue construida la primera ala renacentista del castillo.\\n\\nLa figura her\xe1ldica del escudo de la casa de Biberstein es un cuerno de ciervo. Debajo del escudo de los Biberstein se hallan tres vaciados en yeso de las cabezas de caballeros de las tumbas de los Biberstein que se encuentran en la iglesia parroquial de este pueblo. Como los herederos no reclamaron sus derechos a tiempo, se encarg\xf3 de Fr\xfddlant la C\xe1mara Real y en el a\xf1o 1558 lo vendi\xf3 a Federico de Redern.\\n\\nEl mismo a\xf1o Federico de Redern adquiri\xf3 tambi\xe9n Liberec y Zawid\xf3w. De sus nuevas propiedades no disfrut\xf3 mucho tiempo, porque muri\xf3 en el a\xf1o 1564. Las heredaron sus hijos. A partir del a\xf1o 1591 el \xfanico propietario de Fr\xfddlant era Melchor de Redern, consejero del emperador, presidente del consejo militar y mariscal de campo.\\n\\nLos Redern eran arist\xf3cratas luteranos, comerciantes y guerreadores muy capacitados, dotados de un gusto excepcional por las artes, y, al igual que a muchos otros en esa \xe9poca, les gustaba la vida suntuosa. Buscando los recursos financieros promovieron varias empresas, fundaron unas aldeas de tejedores y vidrieros, tambi\xe9n se dedicaron a la miner\xeda.\\n\\nMelchor de Redern pronto lleg\xf3 a ser mariscal de campo, el oficio militar lo dominaba perfectamente y gan\xf3 las palmas luchando contra los turcos. Muri\xf3 en el a\xf1o 1600 en N\u011bmeck\xfd (Havl\xed\u010dk\u016fv) Brod a causa de las penas guerreras. Lo enterraron en la tumba familiar que se halla en una de las capillas de la iglesia parroquial en la ciudad de Fr\xfddlant. La administraci\xf3n de todo el se\xf1or\xedo pas\xf3 a manos de la regenta de Crist\xf3bal Redern, Catalina de Redern. Era una mujer muy decidida. Se vio obligada a pagar las deudas de su difunto marido. A pesar de eso acumul\xf3 tal capital que pudo permitirse suministrar los fondos para las construcciones costosas, entre ellas el monumento funerario en la iglesia en la ciudad de Fr\xfddlant (obra de un artista de Wroclaw, de Crist\xf3bal Gerardo Heinrich de Amsterdam).\\n\\nSu autoridad la impon\xeda en todos los casos en los que llevaba adelante sus intereses. Como de cualquier situaci\xf3n sab\xeda sacar provecho para s\xed misma y para su familia, el pueblo del se\xf1or\xedo de Fr\xfddlant la llamaba \u201cCatalina la Dura\u201d. Por su deseo fue levantado el palacio renacentista, el palacio bajo y en el lugar donde antes se hallaba una antigua torre de vigilancia construyeron la capilla. Catalina ten\xeda conflictos continuos con los moradores de Fr\xfddlant, sobre todo por el derecho de elaborar la cerveza. La causa la perdi\xf3 entonces, para vengarse de los moradores de la ciudad, hizo construir en la plaza de la ciudad un edificio que rompe con la regularidad de la plaza y hasta hoy en d\xeda la gente lo llama \u201cla casa al albedr\xedo aristocr\xe1tico\u201d. Durante mucho tiempo se tomaba por seguro que Catalina todav\xeda estaba viva en el a\xf1o de la batalla de B\xedl\xe1 Hora y que, obligada, emigr\xf3 a Silesia. En realidad muri\xf3 en el a\xf1o 1617, el lugar de su \xfaltimo descanso, sin embargo, es desconocido.\\n\\nEste cuadro es un retrato de Crist\xf3bal Redern, el hijo de Melchor y Catalina. El autor de esta pintura al \xf3leo, Juan Felipe Leunber de Liberec, la realiz\xf3 en la segunda mitad del siglo XVIII apoyado con documentos viejos. Crist\xf3bal particip\xf3 en la sublevaci\xf3n de los estamentos checos junto con su pariente Joaqu\xedn Andreas \u0160lik; despu\xe9s de la derrota en B\xedl\xe1 hora (la Monta\xf1a Blanca) tuvo que huir al extranjero. En los primeros momentos trat\xf3 de esconderse aqu\xed, en Fr\xfddlant, no obstante, pronto sali\xf3 hacia Silesia. Su t\xedo, el conde Joaqu\xedn Andreas \u0160lik fue detenido aqu\xed en Fr\xfddlant y el a\xf1o 1621 fue decapitado, como uno de los 27 arist\xf3cratas checos) en la Plaza Vieja de Praga. M\xe1s tarde, cuando Fr\xfddlant ya formaba parte de las propiedades de Valdstejn, Crist\xf3bal en secreto regres\xf3 a la regi\xf3n de Fr\xfddlant y quiso, apoyado por los vasallos reconquistar su se\xf1or\xedo lo que no consigui\xf3. Muri\xf3 durante los a\xf1os 40 del siglo XVII durante la Guerra de los Treinta A\xf1os.\\n\\nDense cuenta de aquella vitrina en la que se hallan los restos mortales de Melchor de Redern los cuales en el a\xf1o 1927 fueron exhumados e identificados.\\n\\nLos muebles en esta sala son de la \xe9poca renacentista.\\n\\nDignas de atenci\xf3n tambi\xe9n son las dos maquetas hechas a finales del siglo XVIII, as\xed podemos imaginarnos como era el castillo durante la vida de dos de los due\xf1os del castillo, de Cristi\xe1n Felipe y de Cristi\xe1n Crist\xf3bal de Clam-Gallas. Interesante parece, sobre todo, el modelo en el que se reflejan los planes de la reconstrucci\xf3n del Palacio Bajo. Sin embargo, la reconstrucci\xf3n no fue llevada a cabo.\\n\\nEn el a\xf1o 1801, a\xfan vivo Cristi\xe1n Felipe de Clam-Gallas, el castillo fue abierto al p\xfablico y as\xed se convirti\xf3 en el museo-castillo m\xe1s antiguo de la Europa Central y pronto vi\xf3 la luz una gu\xeda de los edificios y las colecciones. Desde el a\xf1o 1801 hasta el 1945 el p\xfablico solamente se pudo visitar el castillo antiguo, es decir el Palacio alto, el arco de riostra y la capilla.\\n\\nLa exposici\xf3n desde entonces no ha cambiado mucho. Lo m\xe1s atractivo de la exposici\xf3n era la galer\xeda de los retratos de los propietarios del castillo, recuerdos de la vida en \xe9l y la sala de armas que fund\xf3, seg\xfan parece, ya Melchor de Redern."},{"audio":"/es/castle/es_room_5.mp3","number":5,"img":"/castle/albrecht.jpg","title":"Albrecht de Valdstein","card_label":"Las propiedades confiscadas de los Redern las compr\xf3 en el a\xf1o 1622 Albrecht de Valdstein, y la verdad es que fue una ganga.","button":"Visita","text":"Las propiedades confiscadas de los Redern las compr\xf3 en el a\xf1o 1622 Albrecht de Valdstein, y la verdad es que fue una ganga. Durante su \xe9poca los palacios no hab\xedan cambiado, no obstante, el se\xf1or\xedo experiment\xf3 un progreso econ\xf3mico importante.\\n\\nSu fama y sus propiedades Valdstein las gan\xf3 siendo uno de los oficiales m\xe1s importantes del ej\xe9rcito del emperador. En su \xe9poca cumbre lleg\xf3 a ser general. Los territorios que le pertenec\xedan eran enormes. Los uni\xf3 en un ducado, el ducado de Fr\xfddlant. El retrato de Valdstein fue pintado en el a\xf1o 1630 por un pintor de Fr\xfddlant, por Cristiano Kaulfersch.\\n\\nLa fama y todas sus propiedades las gan\xf3 en poco tiempo, parece que lo \xfanico que le faltaba era la corona del rey checo. Todo apunta a que quer\xeda conseguirla y por ello estaba dispuesto a confabularse con los suecos, enemigos de los Habsburgos, sobre todo durante los dos \xfaltimos a\xf1os de su vida. Su comportamiento despertaba cada vez m\xe1s sospechas y as\xed, empezado el a\xf1o 1634, el emperador lleg\xf3 a la conclusi\xf3n de que era necesario deshacerse de ese general traidor. El d\xeda de 25 de febrero de 1634 Valdstein fue asesinado en la ciudad de Cheb. El se\xf1or\xedo de Fr\xfddlant lo recibi\xf3 el conde de Mat\xedas Gallas de Campo como expresi\xf3n de reconocimiento de sus servicios al emperador. Gallas era uno de los oficiales de Valdstein que revelaron los planes de Valdstein al emperador.\\n\\nEn esta sala, luego, vemos el retrato de la segunda esposa de Valdstein, de Isabela de Harrach y, a la derecha de la puerta, de su hija Elisabeta que m\xe1s tarde se cas\xf3 con el conde de Kaunitz.\\n\\nIgualmente podemos observar un retrato de Giovanni Baptista Seni, el astr\xf3logo personal de Valdstein. Se dice que antes de empezar una batalla, Albrecht de Valdstein siempre ped\xeda un hor\xf3scopo.\\n\\nOtro retrato en esta sala es el retrato del cardenal Arno\u0161t de Harrach, el cu\xf1ado de Valdstein.\\n\\nEl caballo representado en el cuadro grande, originalmente pertenec\xeda al rey sueco Gustavo Adolfo, Valdstein se lo llev\xf3 de la batalla de Lutzen en la que Gustavo Adolfo hab\xeda muerto."},{"audio":"/es/castle/es_room_6.mp3","number":6,"img":"/castle/rytirsky_sal.jpg","title":"La sala de los caballeros","card_label":"Estamos entrando en la sala de los caballeros.","button":"Visita","text":"Estamos entrando en la sala de los caballeros. La sala a partir del a\xf1o 1801 sirve de pinacoteca de los Gallas y de los primeros Clam-Gallas.\\n\\nEn la sala hay una chimenea italiana, encima de ella se encuentra una pl\xe1stica policromada con el escudo de la casa de Gallas. La chimenea y la pl\xe1stica provienen de los a\xf1os 1676 \u2013 1682 cuando se realiz\xf3 la reconstrucci\xf3n de los interiores del castillo. Los Gallas eran una familia noble, bastante pobre, de Steiermark que se hizo rica despu\xe9s de la muerte de Valdstein. El conde Mat\xedas Gallas de Campo, tras la muerte de Valdstein, lleg\xf3 a ser general de los ej\xe9rcitos del emperador austr\xedaco. Su retrato est\xe1 a la izquierda de la puerta.\\n\\nCon la muerte de Valdstein en el a\xf1o 1634 terminaron los tiempos tranquilos de la paz relativa. El mismo a\xf1o ocuparon la regi\xf3n los suecos y, con peque\xf1as pausas, se quedaron aqu\xed hasta el a\xf1o 1649.\\n\\nAl lado de la puerta de entrada est\xe1 el retrato de Francisco Fernando de Gallas, el hijo mayor de Mat\xedas, de mala fama por su maltrato a los siervos de su se\xf1or\xedo. Las condiciones de vida hab\xedan empeorado hasta tal punto que los siervos se sublevaron contra el noble de Gallas. Los se\xf1or\xedos de los Gallas pertenec\xedan a los se\xf1or\xedos de la opresi\xf3n m\xe1s fuerte del pa\xeds.\\n\\nEn otros retratos aparecen las esposas de los mencionados y el hijo menor de Mat\xedas, Antonio Pancracio.\\n\\nEn otro retrato vemos a Juan Venceslao de Gallas que lleg\xf3 a ser el virrey de N\xe1poles, as\xed que en Fr\xfddlant viv\xf3 poco tiempo. Luego vemos el retrato de Felipe Jos\xe9 de Gallas con el que el linaje en el a\xf1o 1757 se extingui\xf3 por l\xednea paterna. Todas sus propiedades cayeron en las manos de su sobrino Cristi\xe1n Felipe de Clam bajo la condici\xf3n de mantener el nombre de la dinast\xeda y el escudo de Clam completarlo con el escudo de Gallas. De ese modo apareci\xf3 la casa de Clam-Gallas.\\n\\nCristi\xe1n Felipe de Clam-Gallas hizo fund\xf3 L\xe1zn\u011b Libverda. Su esposa, Carolina \u0160pork de Kuks trajo a Fr\xfddlant muchos cuadros de gran valor art\xedstico. En esa \xe9poca empiezan los grandes cambios de la era. Los nobles fundan varias empresas, promueven varias manufacturas, sobre todo las de textil."},{"audio":"/es/castle/es_room_7.mp3","number":7,"img":"/castle/piano.jpg","title":"La sala del piano","card_label":"En esta sala captan nuestra atenci\xf3n varios retratos.","button":"Visita","text":"En esta sala captan nuestra atenci\xf3n varios retratos.\\n\\nEn primer lugar, es el retrato de Cristi\xe1n Crist\xf3bal de Clam-Gallas, el hijo de Cristi\xe1n Felipe. Cristi\xe1n Crist\xf3bal desempe\xf1aba cargos importantes. Igual a su padre continu\xf3 mejorando L\xe1zn\u011b Libverda y promov\xeda las artes bellas. Al lado de su retrato vemos el retrato de una mujer bella \u2013 de su esposa Josefina Clarz-Aldringen. Personalmente conoc\xeda a Ludwig van Beethoven que le hab\xeda dedicado dos composiciones suyas.\\n\\nDel matrimonio nacieron dos hijos. El mayor de ellos, Guillermo, muri\xf3 muy joven. Su hermano menor, Eduardo lleg\xf3 a ser uno de los generales m\xe1s importantes. Al lado de Radetzki luch\xf3 en las batallas al norte de Italia. No obstante, en el a\xf1o 1866 perdi\xf3 unas batallas importantes por lo que se retir\xf3 y el resto de la vida lo pas\xf3 en sus se\xf1or\xedos. Fue \xe9l quien hab\xeda llevado a cabo la construcci\xf3n del Nuevo palacio del recinto de Fr\xfddlant. Cabe mencionar que fue condecorado con el Tois\xf3n de Oro.\\n\\nSu heredero era su hijo Francisco de Clam-Gallas cuyo busto est\xe1 entre las ventanas. Vivi\xf3 aqu\xed hasta el a\xf1o 1930 cuando se muri\xf3 y el se\xf1or\xedo lo hered\xf3 una de sus siete hijas \u2013 Clotilde. Esa misma viv\xeda en Fr\xfddlant hasta el abril de 1945."},{"audio":"/es/castle/es_room_8.mp3","number":8,"img":"/castle/eduard.jpg","title":"El despacho de Eduardo","card_label":"En las vitrinas de esta sala pod\xe9is observar los uniformes del general Eduardo Clam- Gallas en la vitrina al lado de la puerta, otro uniforme en la vitrina enfrente de las ventanas pertenec\xeda al mariscal Radetzki.","button":"Visita","text":"En las vitrinas de esta sala pod\xe9is observar los uniformes del general Eduardo Clam- Gallas (los de ulano, de h\xfasar y de drag\xf3n) en la vitrina al lado de la puerta, otro uniforme en la vitrina enfrente de las ventanas pertenec\xeda al mariscal Radetzki.\\n\\nHay dos vitrinas debajo de las ventanas. En una de ellas vemos condecoraciones militares de Eduardo Clam-Gallas, entre otras tambi\xe9n la Orden de Tois\xf3n de Oro. En la otra vitrina pueden observar algunos objetos personales de la esposa de Eduardo Clam-Gallas, Clotilde del linaje noble de los Dietrichstein.\\n\\nEn la \xfaltima de las vitrinas de esta sala, a la izquierda de la puerta, se encuentran algunos objetos personales de Eduardo Clam-Gallas."},{"audio":"/es/castle/es_room_9.mp3","number":9,"img":"/castle/uniformy.jpg","title":"Sala de uniformes","card_label":"En esta sala hay vitrinas con uniformes de los empleados de los Clam-Gallas.","button":"Visita","text":"En esta sala hay vitrinas con uniformes de los empleados de los Clam-Gallas. Entrando en la sala a la izquierda se encuentran los uniformes del cochero, se ven las variantes de verano y de invierno, tambi\xe9n se pueden observar los uniformes de d\xedas normales y de los festivos.\\n\\nEn la gran vitrina del medio, comenzando por la izquierda, primero est\xe1 el uniforme del portero, a quien tambi\xe9n pertenec\xeda el bas\xf3n de ceremonia; luego hay uniformes de los guardabosques y de otros administrativos forestales. Los dem\xe1s uniformes de la vitrina pertenec\xedan entonces a lacayos y sirvientes. Por supuesto, las pelucas y otros accesorios formaban parte de los uniformes."},{"audio":"/es/castle/es_room_10.mp3","number":10,"img":"/castle/nositka.jpg","title":"Las andas y blancos de tiro","card_label":"Estamos en una habitaci\xf3n que antiguamente serv\xeda de puesto de guardia.","button":"Visita","text":"Estamos en una habitaci\xf3n que antiguamente serv\xeda de puesto de guardia. En el caso de una alarma, abr\xedan la puerta de la escalera y bajaban corriendo al patio para intervenir r\xe1pidamente seg\xfan fuera necesario.\\n\\nA\xfan cabe mencionar aqu\xed varias cosas. Definitivamente son las andas. En unas similares, sub\xedan a las damas hasta el castillo. Luego hay dos trineos y un bastidor para un peque\xf1o carruaje, que podr\xeda haber servido, por ejemplo, para ni\xf1os.\\n\\nEl reloj de la habitaci\xf3n tambi\xe9n es muy interesante. Casi completo es de madera, proviene de la segunda mitad del siglo XVII.\\n\\nEn esta y en la siguiente sala peque\xf1a pueden darse cuenta de unos blancos de tiro de madera. Gracias a ellos, pueden hacerse una idea del tama\xf1o de las balas utilizadas. Estos blancos de madera datan del siglo XVIII y son realmente poco comunes. Se cre\xeda que si el blanco no se quemaba despu\xe9s de disparar, traer\xeda mala suerte al tirador. As\xed que no quedan muchos de los utilizados.\\n\\nOtro blanco de tiro se puede ver en la mesa. Esta vez es un blanco mec\xe1nico. La figura sobre \xe9l se reclina y se vuelve a levantar cuando el tirador da al blanco.\\n\\nEn el retrato encima de la puerta est\xe1 el Conde Spork de Kuks."},{"audio":"/es/castle/es_room_11.mp3","number":11,"img":"/castle/lovecky_salon.jpg","title":"Sala de caza","card_label":"Los muebles de esta habitaci\xf3n son de estilo cineg\xe9tico.","button":"Visita","text":"Los muebles de esta habitaci\xf3n son de estilo cineg\xe9tico. Los trofeos en las paredes son prueba de que hab\xeda mucha caza en las tierras se\xf1oriales. Adem\xe1s de caza mayor, aqu\xed se cazaban jabal\xedes, osos y lobos. El lobo representado en el cuadro supuestamente fue el \xfaltimo lobo viviente en nuestra regi\xf3n, cazado en 1766. No obstante, los lobos est\xe1n comenzando a regresar a nuestras monta\xf1as, aunque hasta ahora solo t\xedmidamente.\\n\\nNo solo las paredes est\xe1n decoradas con cuernos, sino tambi\xe9n los muebles e incluso una ara\xf1a. En ella est\xe1 la diosa de la caza Diana sosteniendo dos escudos de armas: uno de ellos es el simplificado de Clam-Gallas (doncella con astas de ciervo) y otro de Ditrichsteins (dos cuchillos de vino).\\n\\nBastante curiosa es la mesa grande, cuya parte superior fue cortada de un tronco de abedul de 130 a\xf1os."},{"audio":"/es/castle/es_room_12.mp3","number":12,"img":"/castle/jidelna.jpg","title":"Comedor del castillo","card_label":"Este sal\xf3n est\xe1 arreglado como un sal\xf3n de banquetes.","button":"Visita","text":"Este sal\xf3n est\xe1 arreglado como un sal\xf3n de banquetes. Se complementa con una colecci\xf3n de platos de esta\xf1o, principalmente de los siglos XVII y XVIII, un barril de cerveza de Fr\xfddlant tallado.\\n\\nTambi\xe9n pueden ver una hermosa estufa de azulejos aqu\xed. La le\xf1a normalmente se pon\xeda desde otra habitaci\xf3n, para que no entrara el humo ni ceniza.\\n\\nPor supuesto, tambi\xe9n cabe mencionar el reloj del siglo XVII, que se encuentra junto a la puerta. Est\xe1 hecho casi en su totalidad de madera."},{"audio":"/es/castle/es_room_13.mp3","number":13,"img":"/castle/vezeni.jpg","title":"Corredor","card_label":"Este corredor se encuentra junto a la torre del castillo.","button":"Visita","text":"Este corredor se encuentra junto a la torre del castillo. La puerta de hierro conduc\xeda a la prisi\xf3n del castillo, que estaba muy bien protegida. Hab\xeda tres de esas puertas en una fila. Cuando la prisi\xf3n dej\xf3 de cumplir su prop\xf3sito, se convirti\xf3 en una tesorer\xeda bien guardada. Desde aqu\xed vamos a subir al siguiente piso. Tengan cuidado con la cabeza al salir de las escaleras en la parte superior, la puerta es bastante baja."},{"audio":"/es/castle/es_room_14.mp3","number":14,"img":"/castle/zbrojnice1.jpg","title":"Armer\xeda del castillo","card_label":"Llegamos a la armer\xeda del castillo.","button":"Visita","text":"Llegamos a la armer\xeda del castillo. La armer\xeda la pusieron en esta forma alrededor de 1801, cuando el castillo se abri\xf3 al p\xfablico. Por supuesto, las colecciones de armas en s\xed son mucho m\xe1s antiguas. Fueron creadas desde la \xe9poca de los Rederns, es decir, aproximadamente desde mediados del siglo XVI.\\n\\nAdem\xe1s de las armas, tambi\xe9n cabe destacar la decoraci\xf3n al fresco del techo, que est\xe1 presidida por el escudo de armas de la dinast\xeda Redern. Esta decoraci\xf3n debe de ser del a\xf1o 1593. Esto se debe a que esta parte del castillo fue construida por los Redern a finales del siglo XVI.\\n\\nEntre las armas aqu\xed, pueden ver los mosquetes muy utilizados durante la Guerra de los Treinta A\xf1os (el armamento principal de un mosquetero). Nuestra colecci\xf3n de mosquetes es una de las m\xe1s grandes de Europa Central.\\n\\nLos dos enormes fusiles tambi\xe9n son interesantes. Se trata de arcabuces. Son t\xedpicos por los ganchos en el medio que se usaban para enganchar el fusil a la pared, evitando el gran retroceso que de otro modo seguramente derrotar\xeda al tirador.\\n\\nA continuaci\xf3n, pueden ver ca\xf1ones. Luego algunas armas blancas, por ejemplo, alabardas; cascos (pappenheims, morriones)."},{"audio":"/es/castle/es_room_15.mp3","number":15,"img":"/castle/zbrojnice2.jpg","title":"Mosquetes","card_label":"Otra sala tambi\xe9n est\xe1 dedicada a la colecci\xf3n de armas.","button":"Visita","text":"Otra sala tambi\xe9n est\xe1 dedicada a la colecci\xf3n de armas. Se vuelven a ver mosquetes, alabardas, ca\xf1ones. Las bolsas colgadas de los mosquetes tienen las iniciales del conde de Francisco Fernando de Gallas (FFGVG - Franz Ferdinand, Graf von Gallas), provienen entonces de la segunda mitad del siglo XVII.\\n\\nEn el suelo se puede ver morteros, que es un arma de artiller\xeda con un ca\xf1\xf3n corto y macizo, que se usaba en el pasado como ca\xf1ones de fortaleza, o viceversa como arma de asedio.\\n\\nLa instalaci\xf3n de esta sala est\xe1 basada en fotograf\xedas de alrededor de 1920."},{"audio":"/es/castle/es_room_16.mp3","number":16,"img":"/castle/postroje.jpg","title":"Arneses de caballos","card_label":"Esta sala est\xe1 dedicada a los arneses de caballos.","button":"Visita","text":"Esta sala est\xe1 dedicada a los arneses de caballos. Hay dos tipos aqu\xed. Dos dorados son pectorales, cuatro plateados tienen collera. Todos los arneses est\xe1n, por supuesto, ricamente decorados y llevan el escudo de armas de la dinast\xeda Clam-Gallas.\\n\\nUna cosa rara parecen los zapatos y el sombrero junto a la puerta, pertenecientes al mensajero. Sin embargo, no se pon\xeda el sombrero en la cabeza, sino que le serv\xeda como una bolsa de correo con cerradura.\\n\\nUna vista a la habitaci\xf3n contigua ofrece una vista a los objetos asociados con caballos y carruajes."},{"audio":"/es/castle/es_room_17.mp3","number":17,"img":"/castle/obrazarna.jpg","title":"Pinacoteca del castillo","card_label":"Acabamos de entrar en la pinacoteca del castillo.","button":"Visita","text":"Acabamos de entrar en la pinacoteca del castillo. Hay una cantidad de retratos, no obstante, desconocemos los nombres representadas en algunos de ellos. Algunas de las pinturas llegaron aqu\xed como parte de una dote o herencia. Sin embargo, incluso aqu\xed podemos encontrar rostros familiares de los propietarios del se\xf1or\xedo: Maty\xe1\u0161 Gallas de Campo, Jan V\xe1clav Gallas o miembros de la dinast\xeda Clam-Gallas."},{"audio":"/es/castle/es_room_18.mp3","number":18,"img":"/castle/vrchnostenska.jpg","title":"Oficina se\xf1orial","card_label":"La visita al castillo finaliza en la oficina se\xf1orial.","button":"Visita","text":"La visita al castillo finaliza en la oficina se\xf1orial. Hay muebles de oficina, entre ellos un archivador.\\n\\nTambi\xe9n vemos varios mapas aqu\xed, el m\xe1s interesante de ellos es un mapa pintado del siglo XVII que representa toda la propiedad de Frydlant en ese momento. Tambi\xe9n hay mapas m\xe1s nuevos, ya sea un distrito escolar o un mapa tur\xedstico de la regi\xf3n de Liberec.\\n\\nEntre otras cosas, en las paredes hay retratos de algunos de los propietarios del castillo.\\n\\nUna curiosidad es la tarifa de entrada para los visitantes del castillo de Fr\xfddlant de postrimer\xedas del siglo XIX e inicios del XX.\\n\\nEsta sala es la \xfaltima sala de este circuito. Desde aqu\xed bajamos por una escalera de caracol hasta el patio del castillo y all\xed finalizamos el recorrido. Si desean conocer otras partes de las instalaciones, no duden en visitar otros circuitos.\\n\\nMuchas gracias por su visita y esperamos que les haya sido de agrado."}]},{"tour_id":"castle","language":"pl","title":"Zamek","img":"/castle/castle.jpg","rooms_label":"pokoi","time":"60 minut","description":"Ta trasa prowadzi przez G\xf3rny Zamek, kt\xf3ry jest najstarsz\u0105 cz\u0119\u015bci\u0105 Fr\xfddlantskiej ziemi. Nad ca\u0142\u0105 tras\u0105 dominuje du\u017ca sala rycerska z galeri\u0105 rodow\u0105, zbrojowni\u0105, sal\u0105 bankietow\u0105 czy poka\u017an\u0105 kolekcj\u0105 mundur\xf3w pracowniczych.","button":"Rozpocz\u0105\u0107 wycieczk\u0119","rooms":[{"audio":"/pl/castle/pl_room_1.mp3","number":1,"img":"/castle/dolni_nadvori.jpg","title":"Dziedziniec dolny","card_label":"Znajdujemy si\u0119 na dziedzi\u0144cu dolnym , z kt\xf3rego roztacza si\u0119 widok na ca\u0142y obiekt.","button":"Odwiedza\u0107","text":"Dzie\u0144 dobry , witamy Pa\u0144stwa bardzo serdecznie na zamku we Frydlancie i \u017cyczymy przyjemnego zwiedzania . Znajdujemy si\u0119 na dziedzi\u0144cu dolnym , z kt\xf3rego roztacza si\u0119 widok na ca\u0142y obiekt. Widzimy \u015bredniowieczny zamek , kaplic\u0119 zamkow\u0105 oraz stare i nowe skrzyd\u0142o pa\u0142acowe . Gotycka warownia wzniesiona zosta\u0142a oko\u0142o XIII wieku . Najstarsz\u0105 cz\u0119\u015bci\u0105 zamku jest wysoka , okr\u0105g\u0142a wie\u017ca , zwana Indic\u0105 . Kaplica zosta\u0142a zbudowana w latach 1598 - 1602 na polecenie \xf3wczesnych w\u0142a\u015bcicieli zamku , pa\u0144stwa Melchiora i Kathariny von Redern . Po zwiedzaniu kaplicy przejdziemy przez pochodz\u0105ce z XVI wieku skrzyd\u0142o renesansowego pa\u0142acu , kt\xf3rego elewacje ozdobione s\u0105 pi\u0119knymi sgrafittami . Zwiedzanie zako\u0144czymy w najnowszej cz\u0119\u015bci pa\u0142acu , nazywanej kasztela\u0144skim , wzniesionej w po\u0142owie XIX wieku z polecenia Eduarda Clam - Gallasa .\\n\\nDroga prowadz\u0105ca na g\xf3r\u0119 nazywana jest rycersk\u0105 . Po niej to w\u0142a\u015bnie wje\u017cd\u017cali konno rycerze udaj\u0105cy si\u0119 na zamek . Damy wnoszone by\u0142y natomiast w lektykach , my niestety musimy pokona\u0107 t\u0119 drog\u0119 pieszo ."},{"audio":"/pl/castle/pl_room_2.mp3","number":2,"img":"/castle/pred_kapli.jpg","title":"Przed bram\u0105 zamkow\u0105","card_label":"Znajdujemy si\u0119 przed gotyckim zamkiem z XIII wieku , wzniesionym na bazaltowej skale.","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 przed gotyckim zamkiem z XIII wieku , wzniesionym na bazaltowej skale . Wed\u0142ug legendy , ska\u0142a ta zosta\u0142a niegdy\u015b zaorana przez diabelskie pazury , dlatego nazywana jest \'diabelskimi organami\' . \u0141uk nad naszymi g\u0142owami to przej\u015bcie dla szlachty prowadz\u0105ce z zamku do kaplicy . Nad bram\u0105 widzimy tak\u017ce dwa herby : Antona Pankriatusa Gallasa i jego \u017cony Wiktorii de Arco . ( W ca\u0142ej historii zamku mieszka\u0142o tutaj sze\u015b\u0107 szlacheckich rod\xf3w , Gallasowie to pi\u0105ty z kolei r\xf3d ) . W czasie wchodzenia po schodach na dziedziniec zamkowy warto zwr\xf3ci\u0107 uwag\u0119 na dawny sprz\u0119t ga\u015bniczy z XVIII i XIX wieku , wystawiony po prawej stronie ."},{"audio":"/pl/castle/pl_room_3.mp3","number":3,"img":"/castle/hradni_nadvori.jpg","title":"Dziedziniec zamkowy","card_label":"Znajdujemy si\u0119 na ma\u0142ym dziedzi\u0144cu zamkowym .","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 na ma\u0142ym dziedzi\u0144cu zamkowym . Konfiguracja ska\u0142y uniemo\u017cliwia\u0142a budowanie zamku do znacznej szeroko\u015bci , dlatego dla zyskania miejsca musiano wznie\u015b\u0107 budowl\u0119 do znacznej wysoko\u015bci .\\n\\nPierwotny zamek gotycki przebudowany zosta\u0142 w XVI wieku w stylu renesansowym . Na umieszczonej nad drzwiami p\u0142ycie znajduje si\u0119 \u0142aci\u0144ska inskrypcja ,informuj\u0105ca \u017ce pierwsza renesansowa przebudowa uko\u0144czona zosta\u0142a w roku 1551 za panowania Krzysztofa von Bibersztejna . Umieszczony powy\u017cej najwi\u0119kszy herb nale\u017cy do Mathyasa hrabiego Gallasa de Campo . Natomiast nad wej\u015bciem do zamku znajduje si\u0119 ma\u0142a tarcza herbowa z rogiem jelenia , jest to herb rodziny Bibersztejn\xf3w .\\n\\nZ tego miejsca widoczna jest dobrze ogromna wie\u017ca Indica . Mierzy ona 49 metr\xf3w wysoko\u015bci , za\u015b jej \u015brednica wynosi ponad 10 metr\xf3w . Natomiast grubo\u015b\u0107 muru na 2 pierwszym pi\u0119trze osi\u0105ga prawie 4 metry . We wn\u0119trzu tej masywnej budowli znajdowa\u0142y si\u0119 wi\u0119zienia i skarbiec . Teraz udamy si\u0119 na pierwsze pi\u0119tro do pierwszego pomieszczenia zamkowego ."},{"audio":"/pl/castle/pl_room_4.mp3","number":4,"img":"/castle/prvni_hradni.jpg","title":"pierwsze pomieszczenie zamkowe","card_label":"W pierwszym pomieszczeniu zapoznamy Pa\u0144stwa z histori\u0105 zamku .","button":"Odwiedza\u0107","text":"W pierwszym pomieszczeniu zapoznamy Pa\u0144stwa z histori\u0105 zamku . Od po\u0142owy XIII wieku w\u0142adz\u0119 sprawowa\u0142 na zamku r\xf3d Ronowic\xf3w , jedna z najmo\u017cniejszych rodzin szlacheckich w Czechach . Ich herb widoczny jest nad drzwiami wej\u015bciowymi ( dwie skrzy\u017cowane ga\u0142\u0119zie ) . W roku 1278 kr\xf3l czeski , Przemys\u0142 Ottokar II odebra\u0142 zamek Ronowicom . Jeszcze w tym samym roku saski szlachcic Rudolf von Bibersztein naby\u0142 Frydlant za cen\u0119 800 funt\xf3w srebra . W posiadaniu rodu Bibersztejn\xf3w zamek pozostawa\u0142 przez prawie 300 lat . Ostatni m\u0119ski potomek z frydlantskiej linii Bibersztejn\xf3w zmar\u0142 w roku 1551 . Przez nast\u0119pne siedem lat zamek podlega\u0142 bezpo\u015brednio Koronie czeskiej . W roku 1558 Frydlant zosta\u0142 kupiony przez Fryderyka von Rederna , lecz zmar\u0142 on ju\u017c w roku 1564 , a dobra odziedziczyli jego synowie . Od roku 1591 jako jedyny pozosta\u0142 Melchior von Redern ( portret po prawej stronie , ten wy\u017cszy pan ), a po jego \u015bmierci dobrami zarz\u0105dza\u0142a wdowa po nim - Katarzyna von Redern ( portret na wprost ) . Odziedziczy\u0142a ona nie tylko Frydlanckie dobra , ale tak\u017ce olbrzymie d\u0142ugi , kt\xf3rych wi\u0119kszo\u015b\u0107 uda\u0142o jej si\u0119 jednak sp\u0142aci\u0107 . Procesowa\u0142a si\u0119 tak\u017ce z frydlanckim mieszcza\u0144stwem o prawo do warzenia piwa . Proces ten przegra\u0142a i na z\u0142o\u015b\u0107 mieszka\u0144com kaza\u0142a wybudowa\u0107 na swojej dzia\u0142ce we frydlanckim rynku dom , wysuni\u0119ty o trzy metry przed lini\u0119 pozosta\u0142ych budowli . Po \u015bmierci Katarzyna von Redern panem na Frydlancie zosta\u0142 jej syn Krzysztof ( portret po prawej stronie , ni\u017cszy pan ) , kt\xf3ry wzi\u0105\u0142 udzia\u0142 w powstaniu stan\xf3w czeskich przeciwko cesarzowi Ferdynandowi . Po bitwie na Bia\u0142ej G\xf3rze i upadku powstania maj\u0105tek Redern\xf3w zosta\u0142 skonfiskowany .\\n\\nNa obrazku po lewej stronie , przy oknie widzimy krypt\u0119 rodzinn\u0105 Redern\xf3w , kt\xf3ra znajduje si\u0119 we frydlanckim ko\u015bciele . Widzimy tak\u017ce w gablotach cz\u0119\u015bci szat i uzbrojenia ,oraz ko\u015b\u0107 wyci\u0105gni\u0119te z grobu Melchiora von Rederna w 1927 roku ."},{"audio":"/pl/castle/pl_room_5.mp3","number":5,"img":"/castle/albrecht.jpg","title":"Albrecht von Waldstein","card_label":"Albrecht von Waldstein naby\u0142 skonfiskowane dobra Redern\xf3w w roku 1622 za kwot\u0119 150 000 gulden\xf3w, a wi\u0119c bardzo korzystnie .","button":"Odwiedza\u0107","text":"Albrecht von Waldstein naby\u0142 skonfiskowane dobra Redern\xf3w w roku 1622 za kwot\u0119 150 000 gulden\xf3w, a wi\u0119c bardzo korzystnie .\\n\\nWaldstein by\u0142 czeskim szlachcicem , postaci\u0105 historyczn\u0105 z okresu wojny trzydziestoletniej . By\u0142 cz\u0142owiekiem bardzo ambitnym . W roku 1624 otrzyma\u0142 tytu\u0142 ksi\u0119cia Frydlantu , rezydowa\u0142 jednak\u017ce na zamku w Ji\u010d\xednie , we Frydlancie zatrzymywa\u0142 si\u0119 rzadko . Po bitwie na Bia\u0142ej G\xf3rze by\u0142 przez kr\xf3tki czas jednym z najbogatszych ludzi w Czechach , brakowa\u0142o mu jedynie kr\xf3lewskiej korony . Dlatego paktowa\u0142 ze Szwedami i innymi przeciwnikami Habsburg\xf3w , jednak r\xf3wnocze\u015bnie Waldstein nadal pozostawa\u0142 naczelnym dow\xf3dc\u0105 wojsk cesarskich . O jego tajnych rokowaniach wiedzieli niekt\xf3rzy z genera\u0142\xf3w . Dwaj z nich : Octavio Piccolomini i Mathyas Gallas de Campo poinformowali cesarza o planach Waldsteina . Na pocz\u0105tku roku 1634 podj\u0119to we Wiedniu decyzj\u0119 o konieczno\u015bci usuni\u0119cia Waldsteina . Dnia 25 lutego tego samego roku zosta\u0142 on zamordowany na zamku w Chebie na zachodzie Czech . ( Przy drzwiach do nast\u0119pnej sali widzimy dwa obrazy przedstawiaj\u0105ce sceny z zamordowania Waldstejna. )\\n\\nPo prawej stronie od wej\u015bcia drugi portret przedstawia w\u0142a\u015bnie portret Waldstejna pochodz\u0105cy z XVII wieku . Obok jest portret jego nadwornego astrologa : Giovanni Baptista Seni i horoskop , z kt\xf3rego przepowiada\u0142 Waldsteinowi przysz\u0142o\u015b\u0107 . Na lewo od drzwi pierwszy portret przedstawia drug\u0105 \u017con\u0119 Waldstejna -hrabiank\u0119 Izabel\u0119 Katarzyn\u0119 z domu Harrach , dalej jest portret ich c\xf3rki - El\u017cbiety . Dalej - kardyna\u0142 Arno\u0161t Harrach . A na najwi\u0119kszym obrazie widzimy konia zdobytego przez Waldsteina jako trofeum wojenne podczas bitwy pod L\xfctzen w roku 1632 roku . Poprzednim w\u0142a\u015bcicielem owego pi\u0119knego wierzchowca by\u0142 kr\xf3l szwedzki Gustaw Adolf , kt\xf3ry zgin\u0105\u0142 podczas tej bitwy . Podpis \'Mas Qverido\' mo\u017cna przet\u0142umaczy\u0107 jako \'M\xf3j Ukochany\' . Obok znajduje si\u0119 jeszcze drzewo genealogiczne rodziny Waldstein\xf3w . Nad drzwiami znajduje si\u0119 herb Waldsteina . Teraz przejdziemy do sali rycerskiej ."},{"audio":"/pl/castle/pl_room_6.mp3","number":6,"img":"/castle/rytirsky_sal.jpg","title":"Sala rycerska","card_label":"Znajdujemy si\u0119 we wielkiej sali rycerskiej , kt\xf3re od roku 1801 s\u0142u\u017cy jako galeria obraz\xf3w rodziny Gallas\xf3w i Clam - Gallas\xf3w.","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 we wielkiej sali rycerskiej , kt\xf3re od roku 1801 s\u0142u\u017cy jako galeria obraz\xf3w rodziny Gallas\xf3w i Clam - Gallas\xf3w.\\n\\nW roku 1634 Mathyas hrabia Gallas de Campo ( pierwszy po lewej stronie ) otrzyma\u0142 dobra Frydlanckie w nagrod\u0119 za pomoc w zamordowaniu Albrechta von Waldsteina . Jeszcze w tym samym roku miasto i zamek zosta\u0142y zaj\u0119te przez wojska szwedzkie , kt\xf3re pozosta\u0142y tu do roku 1649 . Obok Mathyasa znajduje si\u0119 portret jego \u017cony . Mathyas Gallas mia\u0142 czterech syn\xf3w i pi\u0119\u0107 c\xf3rek . Naprzeciw niego po prawej stronie jest portret jego syna - Antona Pankriatusa Gallasa , natomiast po prawej stronie przy drzwiach wej\u015bciowych jest portret drugiego syna Mathyasa - Franciszka Ferdynanda Gallasa , a po lewej stronie wisi przy drzwiach portret jego \u017cony Joanny Emerencjany . Franciszek Ferdynand za\u0142o\u017cy\u0142 klasztor i rodzinn\u0105 krypt\u0119 Gallas\xf3w w ko\u015bciele w pobliskich Hejnicach . Po prawej stronie wisi portret syna Franciszka Ferdynanda i Joanny Emerencjany - Jan Wac\u0142aw Gallas (na portrecie jest w bia\u0142ej peruczce ) . Jan Wac\u0142aw by\u0142 dyplomat\u0105 cesarskim . W roku 1719 zosta\u0142 og\u0142oszony wicekr\xf3lem Neapolu , w tym samym roku zmar\u0142 i zosta\u0142 tam te\u017c pochowany . Jednak\u017ce zgodnie z ostatni\u0105 wol\u0105 zmar\u0142ego , jego serce z\u0142o\u017cono w rodzinnej krypcie w Hejnicach . Naprzeciwko jest portret jego \u017cony Marii Anny z domu hrabianki von Dietrichstein .\\n\\nOstatnim panem na Frydlancie z rodziny Gallas\xf3w by\u0142 Filip J\xf3zef - syn Jana Wac\u0142awa ( portret Filipa J\xf3zefa wisi obok Jana Wac\u0142awa ). Obok Filipa jest jego \u017cona Anna Maria . Wraz z jego \u015bmierci\u0105 wygas\u0142 r\xf3d Gallas\xf3w . Maj\u0105tek odziedziczy\u0142 , zgodnie z ostatni\u0105 wol\u0105 Filipa J\xf3zefa , siostrzeniec jego \u017cony - Krystian von Clam , jednak\u017ce pod warunkiem , \u017ce do nazwiska i herbu rodziny Clam\xf3w zostan\u0105 do\u0142\u0105czone atrybuty Gallas\xf3w . W ten spos\xf3b powsta\u0142 jeden z najzamo\u017cniejszych i najbardziej wp\u0142ywowych rod\xf3w szlacheckich w Czechach i Austrii , rodzina Clam - Gallas. Pierwszy z tego rodu to w\u0142a\u015bnie Krystian Filip Clam- Gallas ( jego portret wisi po lewej stronie przy drzwiach do nast\u0119pnej sali ) . Krystian Filip za\u0142o\u017cy\u0142 nieopodal Frydlantu znane uzdrowisko Libverda."},{"audio":"/pl/castle/pl_room_7.mp3","number":7,"img":"/castle/piano.jpg","title":"Clam - gallasowie","card_label":"Obraz nad fortepianem przedstawia kolejnego pana na Frydlancie - Krystiana Krzysztofa Clam - Gallasa , jest to syn Krystiana Filipa , kt\xf3rego przed chwil\u0105 widzieli\u015bmy w sali rycerskiej .","button":"Odwiedza\u0107","text":"Obraz nad fortepianem przedstawia kolejnego pana na Frydlancie - Krystiana Krzysztofa Clam - Gallasa , jest to syn Krystiana Filipa , kt\xf3rego przed chwil\u0105 widzieli\u015bmy w sali rycerskiej . Krystian Krzysztof by\u0142 wielkim mi\u0142o\u015bnikiem sztuki i muzyki . Obok jest portret jego \u017cony - hrabianki J\xf3zefiny Klary z domu Klary - Aldringen . Wraz z m\u0119\u017cem wspiera\u0142a muzyk\u0119 i teatr . Potrafi\u0142a pi\u0119knie \u015bpiewa\u0107 oraz gra\u0107 na gitarze i fortepianie . Przyja\u017ani\u0142a si\u0119 ona osobi\u015bcie z Ludwigiem van Beethovenem i koncertowa\u0142a z nim w znanym czeskim uzdrowisku Teplice .\\n\\nKrystian Krzysztof i J\xf3zefina mieli dw\xf3ch syn\xf3w . Starszy z nich , Wilhelm zgin\u0105\u0142 tragicznie w wieku dwudziestu lat ( na najmniejszym portrecie ) . M\u0142odszy syn , Eduard przej\u0105\u0142 zarz\u0105dzanie maj\u0105tkiem bezpo\u015brednio po \u015bmierci ojca w roku 1838 ( portret po prawej stronie przy drzwiach do nast\u0119pnej sali ).\\n\\nEduard Clam - Gallas nale\u017ca\u0142 do \u015bcis\u0142ej grupy najwa\u017cniejszych austriackich genera\u0142\xf3w. W drugiej po\u0142owie XIX wieku walczy\u0142 u p\xf3\u0142nocnych W\u0142oszech u boku samego marsza\u0142ka Radetzky \'ego . Eduard mia\u0142 tylko jednego syna - Franciszka Clam - Gallasa . Znajduje si\u0119 tutaj jego popiersie .\\n\\nFranciszek Clam- Gallas zmar\u0142 w roku 1930 . Nie pozostawi\u0142 po sobie \u017cadnego m\u0119skiego potomka , mia\u0142 za to siedem c\xf3rek . Jedna z nich - Klotylda mieszka\u0142a na zamku do kwietnia 1945 roku , kiedy frydlantskie dobra zosta\u0142y jej skonfiskowane na podstawie Beneszowych dekret\xf3w . Klotylda by\u0142a ostatnia pani\u0105 tego zamku , nie mia\u0142a dzieci , by\u0142a samotna , zmar\u0142a w 1975 roku w Salzburgu ( Austria ) i tam zosta\u0142a pochowana . Od roku 1945 Frydlant pozostaje w posiadaniu skarbu pa\u0144stwa ."},{"audio":"/pl/castle/pl_room_8.mp3","number":8,"img":"/castle/eduard.jpg","title":"Gabinet eduarda clam - gallasa","card_label":"Znajdujemy si\u0119 w gabinecie genera\u0142a Eduarda Clam - Gallasa .","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 w gabinecie genera\u0142a Eduarda Clam - Gallasa . W witrynie u okna na prawo s\u0105 jego odznaczenia ( pomi\u0119dzy nimi order Z\u0142otego Runa ) i dalej na w drugiej witrynie widzimy przedmioty jego \u017cony Klotyldy Clam - Gallas . We dw\xf3ch szafach widzimy generalskie uniformy Eduarda . Na lewo przy drzwiach do nast\u0119pnej sali znajduj\u0105 si\u0119 prezenty jakie otrzyma\u0142 genera\u0142 Eduard od swych przyjaci\xf3\u0142 . Tak\u017ce po lewej stronie przy drzwiach , kt\xf3rymi weszli\u015bmy znajduje si\u0119 album ze zdj\u0119ciami oficer\xf3w genera\u0142a Eduarda . Obrazy na \u015bcianie przedstawiaj\u0105 bitwy prowadzone przez Austro - W\u0119gry na terenie p\xf3\u0142nocnych W\u0142och w drugiej po\u0142owie XIX wieku ."},{"audio":"/pl/castle/pl_room_9.mp3","number":9,"img":"/castle/uniformy.jpg","title":"Uniformy","card_label":"Stoimy w naro\u017cnym pomieszczeniu skrzyd\u0142a Bibersztejn\xf3w .","button":"Odwiedza\u0107","text":"Stoimy w naro\u017cnym pomieszczeniu skrzyd\u0142a Bibersztejn\xf3w . Z okien rozci\u0105ga si\u0119 widok na po\u0142udniowo - wschodnie pasmo G\xf3r Izerskich . W pomieszczeniu tym znajduj\u0105 si\u0119 uniformy jakie nosi\u0142a s\u0142u\u017cba w XIX wieku . S\u0105 tu stroje wo\u017anicy , le\u015bniczego , nadle\u015bniczego , adjukta , od\u017awiernego i komornik\xf3w . Na dnie szafy s\u0105 nakrycia g\u0142owy i peruczki . To pomieszczenie s\u0142u\u017cy\u0142o niegdy\u015b za pok\xf3j go\u015bcinny ."},{"audio":"/pl/castle/pl_room_10.mp3","number":10,"img":"/castle/nositka.jpg","title":"Lektyka i tarcze","card_label":"W tym pomieszczeniu widzimy lektyk\u0119 , w kt\xf3rej noszono damy , widzimy te\u017c doln\u0105 cz\u0119\u015b\u0107 w\xf3zeczka dla dzieci oraz barokowe sanie .","button":"Odwiedza\u0107","text":"W tym pomieszczeniu widzimy lektyk\u0119 , w kt\xf3rej noszono damy , widzimy te\u017c doln\u0105 cz\u0119\u015b\u0107 w\xf3zeczka dla dzieci oraz barokowe sanie .\\n\\nTutaj widzimy tarcze strzeleckie , do kt\xf3rych strzelano aby przygotowa\u0107 si\u0119 do polowania . Pod oknem na stoliku stoi ma\u0142a tarcza , do kt\xf3rej mo\u017cna by\u0142o strzela\u0107 w pomieszczeniach ."},{"audio":"/pl/castle/pl_room_11.mp3","number":11,"img":"/castle/lovecky_salon.jpg","title":"\u0141owiecki salonik","card_label":"W tym pomieszczeniu s\u0105 wystawione \u0142owieckie trofea .","button":"Odwiedza\u0107","text":"W tym pomieszczeniu s\u0105 wystawione \u0142owieckie trofea . Widzimy tu obraz przedstawiaj\u0105cy ostatniego wilka na Frydlantsku , zastrzelonego w roku 1766 . Pod oknem widzimy bardzo ciekawy st\xf3\u0142 , kt\xf3rego blat zrobiony jest ze 130 letniej brzozy . Widzimy te\u017c inny ciekawy st\xf3\u0142 , krzes\u0142o i \u017cyrandol zrobione z rog\xf3w jelenich ."},{"audio":"/pl/castle/pl_room_12.mp3","number":12,"img":"/castle/jidelna.jpg","title":"Zamkowa jadalnia","card_label":"Znajdujemy si\u0119 w jadalni zamkowej , gdzie widzimy piec kaflowy z XVII wieku , obok wisi zegar tak\u017ce z XVII wieku .","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 w jadalni zamkowej , gdzie widzimy piec kaflowy z XVII wieku , obok wisi zegar tak\u017ce z XVII wieku . Cynowe naczynia w wi\u0119kszo\u015bci pochodz\u0105 z XVIII i XIX wieku .\\n\\nWychodz\u0105c z jadalni po lewej stronie zobaczymy drzwi prowadz\u0105ce niegdy\u015b do wi\u0119zienia .\\n\\nA teraz udamy si\u0119 na drugie pi\u0119tro zamkowe ."},{"audio":"/pl/castle/pl_room_13.mp3","number":13,"img":"/castle/zbrojnice1.jpg","title":"Zbrojownia","card_label":"Dawniej znajdowa\u0142a si\u0119 tutaj sala audiencyjna .","button":"Odwiedza\u0107","text":"Dawniej znajdowa\u0142a si\u0119 tutaj sala audiencyjna . P\xf3\u017aniej pomieszczenie to zosta\u0142o zmienione w zbrojownie . Wystawione bronie nale\u017c\u0105 ju\u017c od XIX wieku do najbardziej podziwianych eksponat\xf3w frydlanskich zbior\xf3w . Ju\u017c w 1801 roku tutejsi w\u0142a\u015bciciele udost\u0119pnili zamek zwiedzaj\u0105cym . I tak powsta\u0142o pierwsze w Europie \u015arodkowej zamkowe muzeum . W wi\u0119kszo\u015bci znajduj\u0105 si\u0119 tu strzelby , muszkiety , halabardy - bro\u0144 , kt\xf3r\u0105 u\u017cywali husyci , dzia\u0142a i mo\u017adzie\u017ce z XVII wieku ."},{"audio":"/pl/castle/pl_room_14.mp3","number":14,"img":"/castle/postroje.jpg","title":"Uprz\u0119\u017ce","card_label":"W nast\u0119pnym pomieszczeniu prezentujemy uprz\u0105\u017c ko\u0144sk\u0105 .","button":"Odwiedza\u0107","text":"W nast\u0119pnym pomieszczeniu prezentujemy uprz\u0105\u017c ko\u0144sk\u0105 . S\u0105 tu derki , czapraki i siod\u0142a. Naprzeciw wyeksponowane s\u0105 uprz\u0119\u017ce szorowe , kt\xf3re s\u0142u\u017cy\u0142y do ci\u0105gni\u0119cia powoz\xf3w - s\u0105 poz\u0142acane , natomiast po lewej stronie widzimy uprz\u0119\u017ce chom\u0105towe , kt\xf3re s\u0105 posrebrzane . Ciekawe jest wyposa\u017cenie konnego go\u0144ca , kt\xf3re znajduje si\u0119 po lewej stronie drzwi do nast\u0119pnego pomieszczenia . Jest to wielki kapelusz na listy , kt\xf3ry by\u0142 zak\u0142adany na plecy , ogromne buty z cholewami , kt\xf3re nak\u0142ada\u0142o si\u0119 na zwyk\u0142e obuwie dla ochrony przed zimnem, deszczem i \u015bniegiem . Widzimy jeszcze siod\u0142o i bicz go\u0144ca konnego ."},{"audio":"/pl/castle/pl_room_15.mp3","number":15,"img":"/castle/obrazarna.jpg","title":"Galeria obraz\xf3w","card_label":"W nast\u0119pnym pomieszczeniu mie\u015bci si\u0119 galeria obraz\xf3w .","button":"Odwiedza\u0107","text":"W nast\u0119pnym pomieszczeniu mie\u015bci si\u0119 galeria obraz\xf3w . Wisz\u0105 w niej przewa\u017cnie portrety frydlantskich pan\xf3w i ich rodzin . Ich portrety widzieli\u015bmy ju\u017c w sali rycerskiej i przyleg\u0142ych pomieszczenia . Wyj\u0105tkiem s\u0105 portrety : hiszpa\u0144skiej infantki Ma\u0142gorzaty Teresy \u017cony cesarza Leopolda I . Jej portret wisi nad drzwiami , kt\xf3rymi weszli\u015bmy tutaj . A drugi portret przedstawia Ann\u0119 Du\u0144ska .\\n\\nWidzimy tu tak\u017ce pi\u0119kn\u0105 alabastrow\u0105 pater\u0119 na owoce , kt\xf3ra stoi na stole . A po prawej stronie na stoliku jest stu letnie jajo strusie ."},{"audio":"/pl/castle/pl_room_16.mp3","number":16,"img":"/castle/vrchnostenska.jpg","title":"Pa\u0144ska kancelaria","card_label":"Pomieszczenie to zosta\u0142o urz\u0105dzone jako kancelaria pana zamku .","button":"Odwiedza\u0107","text":"Pomieszczenie to zosta\u0142o urz\u0105dzone jako kancelaria pana zamku . Stara barokowa kancelaria s\u0142u\u017cy\u0142a jako ewidencja poddanych . Na \u015bcianie jest obraz olejny przedstawiaj\u0105cy map\u0119 frydlantskiej ziemi z ko\u0144ca XVII wieku .W rogu stoi malowana szafka naro\u017cna. W lewo od wisi portret Jana Wac\u0142awa Gallasa , mi\u0119dzy oknami jest zdj\u0119cie genera\u0142a Eduarda Clam - Gallasa , a na prawo od drzwi , kt\xf3rymi weszli\u015bmy zobaczymy portret syna genera\u0142a Eduarda , czyli Franciszka Clam - Gallasa . Nad drzwiami wisi relief ze \u015bwi\u0119tym Florianem - patronem stra\u017cak\xf3w .\\n\\nZwiedzanie zamku Frydlant dobieg\u0142o ko\u0144ca . Dzi\u0119kujemy Pa\u0144stwu serdecznie za uwag\u0119 ."}]},{"tour_id":"chateau","language":"en","title":"Chateau","img":"/chateau/chateau.jpg","rooms_label":"rooms","time":"60 minutes","description":"This tour takes the visitor through the richly furnished castle and the history of the last owners of Clam Gallas. A fully equipped tour route maps the chateau and its more than 20 rooms on all its floors.","button":"Start tour","rooms":[{"audio":"/en/chateau/en_room_1.mp3","number":1,"img":"/chateau/dolni_nadvori.jpg","title":"The lower courtyard","card_label":"We are currently standing in the lower courtyard, where we can see the whole complex.","button":"Visit","text":"Dear visitors, we welcome you to the state castle and chateau of Fr\xfddlant. Before the start of the tour, we ask you to silence your mobile phones so that the tour is not disturbed. If you are using an audio guide, wear headphones while listening. Furthermore, we ask you not to touch the displayed exhibits and stay with your group. Thank you for your understanding and we wish you a pleasant visit.\\n\\nWe are currently standing in the lower courtyard, where we can see the whole complex.\\n\\nThe oldest part is the round tower called Indica. According to the legend, a fire was being lit on the top of Indica, so the tower served as a beacon for the trade route between the Czech Kingdom and the Kingdoms in the North. The tower is 49 metres high and its walls are on the first floor 4 metres thick.\\n\\nIn the 13th century, the old gothic castle was built around the tower. Then in the 16th century, it was rebuilt in the renaissance style, which is the current form of the castle.\\n\\nThe yellow building behind the tree is the chapel. It was built between 1598 - 1602 by Catherine Redern. Next to the chapel is the renaissance wing of the chateau from the 16th century. On its facade, we can see the original renaissance pictures called sgraffito. And the youngest part of the complex is the last wing of the chateau, called the Castellan wing. That was built in the 19th century by Eduard Clam-Gallas.\\n\\nOn this tour through the chateau, we will visit all floors of the renaissance wing. And at the end, we will see the chapel. \\n\\nNow let us begin our tour in the chateau\'s kitchen."},{"audio":"/en/chateau/en_room_2.mp3","number":2,"img":"/chateau/kuchyne.jpg","title":"The kitchen","card_label":"We entered the chateau building from the 16th century. ","button":"Visit","text":"We entered the chateau building from the 16th century. Originally this building was not supposed to be for the nobles. On the upper floors were offices, and on the ground floor were stables for horses. In the 19th century, nobles moved from the upper castle to the chateau. Chateau was reconstructed and furnished with new things, meaning that the interiors we have today are from the 19th century. The castle was in 1801 opened to the public as the first Castle Museum in Central Europe.\\n\\nAs we are on the ground floor, this room used to be stable. Proof of this statement is the stone trough next to the doors. During the reconstruction, cooks wanted to keep it here, so they could wash dishes or keep live fish in it.\\n\\nThe kitchen is, for its time, relatively modern. Displayed is the most extensive collection of copper dishes in the Czech Republic. The dishes are tin-plated inside.\\n\\nThe larger stove that has five ovens, it is still functional, and on some special occasions, we even bake some treats on them. A big black box is placed on top of them, which is a water-heating system for the chateau\'s bathroom.\\n\\nThe smaller stove is a grill and smoking chamber. Unfortunately, it is no longer functional."},{"audio":"/en/chateau/en_room_3.mp3","number":3,"img":"/chateau/spizirna.jpg","title":"The larder","card_label":"This larder was carved into the rock on which the castle and chateau Fr\xfddlant was built. ","button":"Visit","text":"This larder was carved into the rock on which the castle and chateau Fr\xfddlant was built. That is why the temperature is quite cold here during the year, which is optimal for storing food. Interesting are those compotes in the cabinet, some of which are from 1945. Everything else in this larder is not originally from the Fr\xfddlant. It was brought here from the surrounding villages."},{"audio":"/en/chateau/en_room_4.mp3","number":4,"img":"/chateau/pripravna.jpg","title":"Food preparation room","card_label":"The room behind the window was used as a preparation room for food","button":"Visit","text":"The room behind the window was used as a preparation room for food.\\n\\nFood cooked downstairs in the kitchen was brought here, put on the dishes, decorated, and then servants took it from this window and carried it through the door to the dining room to be served."},{"audio":"/en/chateau/en_room_5.mp3","number":5,"img":"/chateau/erbovni_sal.jpg","title":"Coat of arms hall","card_label":"We have now entered the Coats of arms hall, and here we can briefly summarize the history of Fr\xfddlant.","button":"Visit","text":"We have now entered the Coats of arms hall, and here we can briefly summarize the history of Fr\xfddlant.\\n\\nFr\xfddland was founded in half of the 13th century by the family of Ronovci; specifically, one ancestral line called Berka z Dub\xe9. \\n\\nIn the year 1278, the Czech king confiscated the castle and sold it to the house of Bieberstein. They remained at Fr\xfddlant for almost 300 years. However, the Bieberstein family that lived on Fr\xfddland died out in 1551. \\n\\nThen in 1558, Rederns came to this castle. However, they were protestants, so after a battle of the battle of White Mountain, they were forced to emigrate. The Habsburg emperor confiscated all their properties and sold them to Albrecht von Wallenstein in 1622.\\n\\nAlbrecht owned Fr\xfddlant for twelve years, visited it four times but never built anything here. For the supposed treason of the emperor, Albrecht was assassinated on 25th February 1634.\\n\\nEmperor then gave Fr\xfddlant to Albrecht\'s traitor Matthias Gallas. Gallas family, however, died out in 1757. According to the last will of the last Gallas, Fr\xfddlant should be passed on to his nephew Christian Philip of Clam under the condition that the name and coat of arms of the Clam family would be joined by the name and coat of arms of the Gallas family.\\n\\nAnd so in 1759, Clam-Gallas family gained Fr\xfddlant. They owned Fr\xfddlant till 1945 when it was nationalized by the Czechoslovakian state due to the Bene\u0161 decrees, a series of laws, thanks to which the German population was expelled from the state after WW2.\\n\\nOn this tour, we will talk mainly about the Clam-Gallas family, specifically about the last male owner Francis Clam-Gallas, his daughter - the last owner - Clotilde Clam-Gallas, and his father - Eduard Clam-Gallas. \\n\\nThis grand hall served as a game room, so we have the roulette and the pool table here. On the fireplace is a tankard made from one tusk. The adjoining room is the large dining room."},{"audio":"/en/chateau/en_room_6.mp3","number":6,"img":"/chateau/jidelna.jpg","title":"The large dining room","card_label":"This large dining room was mainly used as a festive dining room.","button":"Visit","text":"This large dining room was mainly used as a festive dining room. The Clam-Gallas family used it on some special occasions like birthdays or Christmas. Next to the dining room is a terrace, which they used instead of the dining room when the weather was nice. The dining room is panelled with wood, and the Faience of Delft is displayed on the panelling. The ceramic dishes displayed on the tables are then from England. This is also the only room in the complex with a coffered ceiling."},{"audio":"/en/chateau/en_room_7.mp3","number":7,"img":"/chateau/modry_salon.jpg","title":"The blue salon","card_label":"This floor could be divided into two parts representative rooms, where we are now, and a private apartment of the last male owner of the Fr\xfddlant - Francis Clam-Gallas.","button":"Visit","text":"This floor could be divided into two parts ofrepresentative rooms, where we are now, and a private apartment of the last male owner of the Fr\xfddlant - Francis Clam-Gallas.\\n\\nOn the floor is an immense Persian carpet, which is just a copy made in a village near the city of Liberec. On the walls are several paintings from the Netherlands. The author is unknown. The salon served the family of Francis Clam-Gallas, whose portrait you can find between the windows, as the main living room where not only visitors but also all family members meet. In the case of Francis Clam-Glass, all his 7 daughters. He and his wife, Maria Hoyos Sprinzenstein, were given another floor of the castle, as well as part of the newest wing, but if they wanted to spend time together, this was the main salon. It was a smoking room, a reading room and a resting room at the same time. Later, after the introduction of electricity, a radio was also placed here, so it was a living room with all the modern conveniences."},{"audio":"/en/chateau/en_room_8.mp3","number":8,"img":"/chateau/knihovna.jpg","title":"Small library","card_label":"This is a small library.","button":"Visit","text":"This is a small library. Small because we have another larger one. Unfortunately, that one is not open to the public. Here we can again notice golden leather wallpapers, part of the castle\'s book collection, or a big mirror from Venice."},{"audio":"/en/chateau/en_room_9.mp3","number":9,"img":"/chateau/panska_chodba.jpg","title":"The hallway","card_label":"This hallway is again panelled with wood.","button":"Visit","text":"This hallway is again panelled with wood. In panelling are displayed plates made in the Netherlands. At the end of the hallway is a stuffed bear. His name is Ali, and he used to live in our castle\'s ditch. When he grew up, he became aggressive, so the nobles decided to euthanize him, and since then, he has been up here stuffed."},{"audio":"/en/chateau/en_room_10.mp3","number":10,"img":"/chateau/prijimaci_salon.jpg","title":"Entrance salon","card_label":"This salon is one of the few panelled with wood up to the ceiling.","button":"Visit","text":"This salon is one of the few panelled with wood up to the ceiling. The ceiling was then decorated with gold. \\n\\nOn the walls are copies of paintings that could be seen on our second tour through the castle. The first is Christian Philip of Clam-Gallas, founder of the near L\xe1zn\u011b Libverda spa. During his reign, the upper castle was 1801 opened to the public as the first Castle Museum in Central Europe. Our complex has this one big primacy because the tours are here since 1801 without any break, which means we had tours here even during both world wars. The two following pictures are Albrecht von Wallenstein (on the left one) and his traitor Matthias Gallas (on the right one). Opposite of them is Melchior Redern with his son Christopher. Christopher is the one who fought in 1620 in the battle of the White mountain, and after the defeat, he had to run away from the Czech Kingdom."},{"audio":"/en/chateau/en_room_11.mp3","number":11,"img":"/chateau/pracovna.jpg","title":"Francis\' study","card_label":"In this room, we have many personal belongings of the last male owner of Fr\xfddlant - Francis Clam-Gallas.","button":"Visit","text":"In this room, we have many personal belongings of the last male owner of Fr\xfddlant - Francis Clam-Gallas. On the table is a photo of Francis with his wife Maria. Above it is the photo of Francis playing with his daughters on dog sledging. n\\n In addition to the work desk, we also come across another part of the library here. Another small interesting thing. The name Karel Jarom\xedr Erben is certainly not unknown to you. The author of Kytice is connected with the Fr\xfddlant castle. He worked here at the castle as an archivist and was in charge of the book collection. By the way, he was also the first creator of the libretto, actually the guide text for the then open exposition of the Upper Castle."},{"audio":"/en/chateau/en_room_12.mp3","number":12,"img":"/chateau/loznice.jpg","title":"Francis\' bedroom","card_label":"The last room of the men\'s suite - the bedroom - belonged to Francis, whom we saw not only in the photographs, but also in the portrait in the blue salon","button":"Visit","text":"The last room of the men\'s suite - the bedroom - belonged to Francis, whom we saw not only in the photographs but also in the portrait in the blue salon. We have already talked about the fact that he was the father of seven daughters - here we also find a photo hanging on the door to the chamberlain\'s room. We have already talked about one of them, Clotilde, who took over the family estate from her father in difficult times. I will mention others on the ladies\' floor, where we will go in a moment.\\n\\nFrancis experienced a turning point in the castle, namely the disintegration of Austria-Hungary and the establishment of the republic. Although a monarchist, after the establishment of the Republic he accepted Czechoslovak citizenship and became a proud Czechoslovak. Land reforms and the fact that the state expropriated about 70% of their property eventually changed his decision and he returned to German citizenship. This is precisely why Bene\u0161\'s decrees applied to the property, so that since 1945 Fr\xfddlant has been a chateau under state administration. He died of illness in 1930, and since then his sixth daughter, whom we will talk about later, took care of the Frydlant estate."},{"audio":"/en/chateau/en_room_13.mp3","number":13,"img":"/chateau/chodba.jpg","title":"The royal hallway","card_label":"Now we are on the second floor of the chateau, where all the ladies have lived.","button":"Visit","text":"Now we are on the second floor of the chateau, where all the ladies have lived. The hallway we are standing in is known by the name The royal hallway because around the walls are pictures of members of the royal families all-across Europe from the 16th century."},{"audio":"/en/chateau/en_room_14.mp3","number":14,"img":"/chateau/kvetinovy_salon.jpg","title":"Music lounge","card_label":"We have now entered probably the most beautiful room in the chateau.","button":"Visit","text":"We have now entered probably the most beautiful room in the chateau. The salon is called a music lounge because the ladies used to spend their time with music here. This room is also known as the flower salon because of the flower-patterned wallpaper. Around the room, you can notice a big fruit bowl from China, a vast Rococo stove or a chandelier made in town Nov\xfd Bor. Between the windows is Clotilde Clam-Gallas, born Dietrichstein, grandma of our last owner, also named Clotilde."},{"audio":"/en/chateau/en_room_15.mp3","number":15,"img":"/chateau/loznice_damske1.jpg","title":"Bedroom","card_label":"Today, the women\'s floor consists of two apartments.","button":"Visit","text":"Today, the women\'s floor consists of two apartments. The first belonged to the mother of seven daughters, Maria Hoyos Sprinzenstein. Here, too, the interiors have been returned to the form around 1930, when the three-room apartment looked like we see it today. The original equipment is back in place. The bed next to the stove is in the place where the other rooms have the entrance to the King\'s Hall. Next to it we can see the old rod that controlled the bell. The old signaling device is brought out not only into the corridor, but also into the tent salon, where we will have the opportunity to view it.\\n\\nNext to the door we will find a prayer kneeler designed for private evening prayer."},{"audio":"/en/chateau/en_room_16.mp3","number":16,"img":"/chateau/prevlekarna_salon.jpg","title":"Changing room","card_label":"The second room we just walk through is the changing room.","button":"Visit","text":"The second room we just walk through is the changing room. It is led by a large screen, which was used for privacy when changing clothes. Among the paintings here, I can also mention the effigies above the door. On one of them, Christian Christoph Clam-Gallas, Francis\' great-grandfather, the first of the owners of Fr\xfddlant, who started living here in the castle and not in the upper castle. He supported art, painted, and it was he who opened the castle museum to the public here in Fr\xfddlant in 1801."},{"audio":"/en/chateau/en_room_17.mp3","number":17,"img":"/chateau/stanovy_salon.jpg","title":"Tent salon","card_label":"","button":"Visit","text":"The last room of the first suite is the tent salon. It has the form of a field tent, which was a fashionable thing in the 19th century, and again it is a design from the time of Francis\'s parents, who were inspired by the interiors of English estates.\\n\\nThe tent salon was also used as a small dining room, which is also evident from its furnishings. We can also see a change in the interior equipment. While the 19th century tried to unify styles, in the twentieth century it was mainly about functionality. That is why, for example, a sideboard is completely different from other pieces of furniture."},{"audio":"/en/chateau/en_room_18.mp3","number":18,"img":"/chateau/loznice_klotildy.jpg","title":"Clotilde\'s bedroom","card_label":"This room was previously used as a maid\'s room.","button":"Visit","text":"This room was previously used as a maid\'s room. After the death of Francis Clam-Gallas, the castle was inherited by his daughter Clotilde, who also took care of her mother. Therefore, this room was converted into her bedroom."},{"audio":"/en/chateau/en_room_19.mp3","number":19,"img":"/chateau/salon_damske.jpg","title":"Salon","card_label":"The wood paneled room is furnished as a lounge.","button":"Visit","text":"The wood-panelled room is furnished as a lounge. The ceiling is lined with ceramics mainly from Holland and China, where you can find various plates, jugs and tankards. Oriental elements, very popular at the time, can still be seen in the showcase.\\n\\nThe room served as a living room, which served not only Clotilde, but was also adapted for sitting with visitors and at the same time as a small study.\\n\\nOn the piano behind the door we can find family photographs. The most interesting is probably the joint photo portrait of Francis\' daughters, we also find grandmother Clotilde and other family members. The daughters married, except for Clotilde, who took care of her parents. Thanks to them, the Clam-Gallas family became connected with, for example, the Kinsk\xfd family, the Schwarzenberg family, the Auerspergy family, or perhaps the Moravian family Podstatsk\xfd Lichtenstein. \\n\\nEduardina is the only daughter who did not marry an aristocrat and connected her life with Dr Winkelnbauer, whom she met while working as a nurse during the war. Francis divided all the family property between his daughters. We already mentioned that Clotilde inherited Fr\xfddlant. She has deported herself in 1945. She lived the second half of her life abroad, where she also died in 1970. She was the last owner of this estate and is not buried in Hejnice, where the Clam-Gallas tomb is located. The last member of the family buried here is Francis\'s wife Marie Hoyos Sprinzenstein."},{"audio":"/en/chateau/en_room_20.mp3","number":20,"img":"/chateau/prevlekarna.jpg","title":"The dressing room","card_label":"We have just reached the end of the enfilade.","button":"Visit","text":"We have just reached the end of the enfilade. This room served as a dressing room, from which you could enter not only the bathroom, but also the terrace."},{"audio":"/en/chateau/en_room_21.mp3","number":21,"img":"/chateau/koupelna.jpg","title":"The bathroom","card_label":"The approximately hundred-year-old bathroom is one of the most interesting rooms.","button":"Visit","text":"The approximately hundred-year-old bathroom is one of the most interesting rooms. It is dominated by the bathtub, where you will find not only a shower but also a bubble and steam bath. If you dipped the wooden board that you can see above its front into the tub, the pump drove air into the tub through a rubber tube, so you could treat yourself to a bubble bath. If the plate stayed where it is - it served as a steam bath.\\n\\nTo the left of the bath is a hot water tank. It came from the castle kitchen on the ground floor, where it was heated and then pumped into the storage tank. Because the kitchen was in operation all day, there was plenty of hot water for everyone. \\n\\nThe built-in corner then hid the toilet, so you had all the comfort of that time in the bathroom."},{"audio":"/en/chateau/en_room_22.mp3","number":22,"img":"/chateau/umyvarna.jpg","title":"Servant\'s room","card_label":"This room served as a facility for the servants, where, for example, washing sets were stored.","button":"Visit","text":"This room served as a facility for the servants, where, for example, washing sets were stored. At the same time, it served as a washroom for servants with its own toilet. From this room we move to the royal corridor."},{"audio":"/en/chateau/en_room_23.mp3","number":23,"img":"/chateau/chodba.jpg","title":"The royal hallway","card_label":"A narrow staircase, below which there is an exit to the outdoor terrace, would lead us to the attic, where our tour will continue, but we will go there by the main spiral staircase.","button":"Visit","text":"A narrow staircase, below which there is an exit to the outdoor terrace, would lead us to the attic, where our tour will continue, but we will go there by the main spiral staircase.\\n\\nYou can notice the stained glass windows on these. One represents the Fr\xfddlant castle, and on the other, we again come across the coat of arms of the Clam-Gallas, which we have already talked about today.\\nPictures of European monarchs did not originally hang here. They didn\'t get here until sometime after 1930. According to records, the entire collection originally decorated a summer villa somewhere in today\'s Croatia. After its reconstruction, however, they moved here and thus replaced the weapons that were hanging in the corridor in front of them.\\n\\nWe will go through the corridor again past the rooms of the enfilade and then I will ask you to continue up and to the left."},{"audio":"/en/chateau/en_room_24.mp3","number":24,"img":"/chateau/podkrovi.jpg","title":"The attic","card_label":"Not every castle has the opportunity to show its visitors all the floors.","button":"Visit","text":"Not every castle has the opportunity to show its visitors all the floors. Fr\xfddlant is an exception in this, and its well-preserved spaces under the roof allow you to see several rooms for children and servants."},{"audio":"/en/chateau/en_room_25.mp3","number":25,"img":"/chateau/detsky_pokoj.jpg","title":"Children\'s room","card_label":"At the head of the attic is one of the children\'s rooms.","button":"Visit","text":"At the head of the attic is one of the children\'s rooms. You will definitely be interested in his wallpaper, which is actually a collection of jokes from the French magazine Charivari. In the room, we come across a few toys, such as a children\'s cart with a horse, into which one of the children could slip and pull someone else in disguise, or a board game. The room originally belonged to two daughters, but later it became a boy\'s room - the sons of one of the daughters, Eleonora, lived here when they visited their grandparents on vacation. Perhaps that is why the room has this wall decoration."},{"audio":"/en/chateau/en_room_26.mp3","number":26,"img":"/chateau/loznice_dcer_podkrovi.jpg","title":"Daughter\'s bedroom","card_label":"The adjacent room then served as a common bedroom for the other two daughters.","button":"Visit","text":"The adjacent room then served as a common bedroom for the other two daughters. Here too, as in the next room, we come across the original equipment. Very nice beds with carved headboards, they are divided by a washing table, and just like next door, here too we find several original toys of the daughters of the last owners. The most famous toy was the so-called Donut, which lies on the pillow of the back bed. The other well-preserved lumps left by the daughters are today stored in the newest wing, where the Children\'s Sightseeing Circuit leads."},{"audio":"/en/chateau/en_room_27.mp3","number":27,"img":"/chateau/lokajna.jpg","title":"Footman\'s room","card_label":"Right next to another children\'s room, you can take a look into one of the servants\' apartments.","button":"Visit","text":"Right next to another children\'s room, you can take a look into one of the servants\' apartments. This one is furnished as a so-called footman. In the room of the footman, who looked after the family members and served at the table, we find an extensive collection of well-preserved servant uniforms for various occasions. A simple winter coat hangs on the door, and in the closet, you can see the uniforms that are used in the performance of duties. They have sewn-on straps with the C-G crest. One set is then hung on the cabinet door. In addition to uniforms, you will also find travel luggage here, again with the owner\'s emblem, and caps for various occasions - on the chest of drawers, for example, headgear for drivers."},{"audio":"/en/chateau/en_room_28.mp3","number":28,"img":"/chateau/pokoj_sluzebnych_podkrovi.jpg","title":"Maid\'s room","card_label":"This room was used by two servants - maids, who were in charge not only of the cleanliness of the rooms and cleaning, but also of minor repairs of clothes, ironing and also looking after the girls.","button":"Visit","text":"This room was used by two servants - maids, who were in charge not only of the cleanliness of the rooms and cleaning, but also of minor repairs of clothes, ironing and also looking after the girls. That is why in their room we come across, for example, an old sewing machine or an ironing board of the brand V\u010dela. The stove in the room was also used to heat food or an iron. Then there is a primus on the table and another of the washing tables under the next window."},{"audio":"/en/chateau/en_room_29.mp3","number":29,"img":"/chateau/pokoj_dcer_2.jpg","title":"Daughter\'s bedroom","card_label":"This room also served as a bedroom, but this time for the other daughters.","button":"Visit","text":"This room also served as a bedroom, but this time for the other daughters."},{"audio":"/en/chateau/en_room_30.mp3","number":30,"img":"/chateau/ucebna.jpg","title":"Classroom","card_label":"The most spacious room in the attic served as a common classroom.","button":"Visit","text":"The most spacious room in the attic served as a common classroom. The little girls were taught by a governess, while the older ones were tutored by home teachers from the local school. The girls were educated in both German and Czech. The classroom is furnished as a versatile space with several showcases. For example, there is part of the mineral collection, stuffed animals, a geographical map, but also musical instruments and pictures of famous ancestors and family members. Here, for example, we can find the girls\' great-grandmother, Josefina Clara Aldrigen, thanks to whom the family was associated with musical talent, or above the sofa of the first Gallas - Maty\xe1\u0161, great-grandfather Kristian and grandfather Eduard with his brother Vil\xe9m. We talked about all of them today on the tour. There is also a portrait of the emperor between the windows, as a reminder of the monarchy and the times before the establishment of the republic."},{"audio":"/en/chateau/en_room_31.mp3","number":31,"img":"/chateau/pokoj_vychovatelky.jpg","title":"The teacher\'s room","card_label":"This room served as the teacher\'s room.","button":"Visit","text":"This room served as the teacher\'s room. It is also the last room to be seen on this floor of the castle. Behind this door is the area of the sub-chapel, through which we will go to the staircase, which will lead us to the last area of our tour today - the castle chapel."},{"audio":"/en/chateau/en_room_32.mp3","number":32,"img":"/chateau/kaple.jpg","title":"Saint Anne\'s Chapel","card_label":"This chapel was built on the place of the old watchtower, has a floor plan of the cross and has two main altars.","button":"Visit","text":"This chapel was built on the place of the old watchtower, has a floor plan of the cross and has two main altars. That\'s because the chapel was built between 1598 and 1602 by the Redern family, who were Protestants, so they made a protestant altar here in front of us. However, the subsequent owners were Catholics, so they built their catholic altar on the side. But fortunately, they decided it was a shame to destroy the Protestant one, so they just covered it with a cloth and prayed to their Catholic one. And that\'s how both altars survived.\\n\\nNobles usually sat in oratory, bellow them (behind bars) sat clerks, and the last section of the benches was meant for the servants.\\n\\nThe architect of the chapel was Marcus Spazio di Lancio from Italy. The sgraffito on the walls (including a sgraffito strip presenting the life of Jesus Christ) and the ceiling (which is supposed to look like the sky at night) are from the 19th century when the Clam-Gallas family reconstructed the chapel. The chapel organ was purchased at the World Exhibition in Wien in 1874.\\n\\nThis is where our tour ends. Thank you for your visit and we wish you a nice rest of the day."}]},{"tour_id":"chateau","language":"de","title":"Das Schlo\xdf","img":"/chateau/chateau.jpg","rooms_label":"R\xe4ume","time":"60 Minuten","description":"Die F\xfchrung f\xfchrt den Besucher durch das reich ausgestattete Schloss und die Geschichte der letzten Besitzer von Clam Gallas. Ein komplett ausgestatteter Rundgang zeigt das Schloss und seine mehr als 20 R\xe4ume auf allen Etagen.","button":"F\xfchrung beginnen","rooms":[{"audio":"/de/chateau/de_room_1.mp3","number":1,"img":"/chateau/dolni_nadvori.jpg","title":"Der untere Schlosshof","card_label":"Wir befinden uns auf dem unteren Schlosshof, woher wir das ganze Objekt \xfcberblicken k\xf6nnen.","button":"Besuchen","text":"Sehr geehrte Besucher, herzlich willkommen auf dem Staatsschloss und der Staatsburg Fr\xfddlant. Bevor wir anfangen, bitte ich Sie, Ihre Handys stumm zu schalten, damit die F\xfchrung nicht gest\xf6rt wird. Wenn Sie einen Audioguide benutzen, setzen Sie bitte Ihre Kopfh\xf6rer auf. Au\xdferdem bitten wir Sie, die ausgestellten Exponate nicht zu ber\xfchren und immer bei Ihrer Gruppe zu bleiben. Fotografieren ist erlaubt. Wir bedanken uns bei Ihnen f\xfcr Ihr Verst\xe4ndnis und w\xfcnschen Ihnen einen angenehmen Besuch.\\n\\nWir befinden uns auf dem unteren Schlosshof, von wo aus Sie das ganze Objekt \xfcberblicken k\xf6nnen. Rechts, an dem Eingang, gibt es die urspr\xfcnglichen Burgmauern. Als Sie hierher gekommen sind, mussten sie bestimmt an einem steilen Weg vorbei. Dieser Weg wird \u201eRitterweg\u201c genannt, weil damals Ritter auf Pferden bis hinauf in die Burg geritten sind. Oben, hinter den B\xe4umen, sehen Sie dann die Burg, die im 13. Jahrhundert im gotischen Stil erbaut wurde. Sie ist durch einen Bogen mit der Schlosskapelle aus dem 16. Jahrhundert verbunden. Neben der Schlosskapelle befindet sich das sogenannte Alte Schloss aus dem 16. Jahrhundert An seiner Fassade k\xf6nnen wir originale Renaissancesgraffitos sehen. Und der j\xfcngste Teil des Objektes ist das sogenannte Neue Schloss aus dem 19. Jahrhundert\\n\\nSie haben sich f\xfcr die Schlossf\xfchrung entschieden, die uns durch die j\xfcngste Geschichte dieser Herrschaft f\xfchren wird. In dieser Zeit geh\xf6rte die Herrschaft dem vorletzten Besitzer Franz Clam-Gallas, der hier bis zu seinem Tod im Jahre 1930 lebte. Zusammen besuchen wir das Erdgeschoss, die erste und die zweite Etage, den Dachboden und auch die wundersch\xf6ne Schlosskapelle im Alten Schloss. W\xe4hrend wir durch das ganze Schloss gehen werden, werden Sie nicht nur viel \xfcber Franz und seine gro\xdfe Familie erfahren. Sie werden auch sehen, wie das Leben hier auch f\xfcr ganz normale Menschen \u2013 also f\xfcr die Dienerschaft - war.\\n\\nUnd darum beginnen wir unsere F\xfchrung im Erdgeschoss des Schlosses in der Schlossk\xfcche. Los geht\u2018s!"},{"audio":"/de/chateau/de_room_2.mp3","number":2,"img":"/chateau/kuchyne.jpg","title":"Schlossk\xfcche","card_label":"Das Erdgeschoss war in der Regel nur f\xfcr die Dienstboten bestimmt, die sich hier um den Betrieb des Schlosses k\xfcmmerten.","button":"Besuchen","text":"Das Erdgeschoss war in der Regel nur f\xfcr die Dienstboten bestimmt, die sich hier um den Betrieb des Schlosses k\xfcmmerten. Die Adeligen hatten n\xe4mlich gar keinen Grund, sich hier aufzuhalten. Sie wohnten ihrem Geschlecht nach in den anderen h\xf6heren Etagen.\\n\\nIm Erdgeschoss gab es nicht nur eine K\xfcche und eine Speisekammer, sondern auch weitere Ausstattung, wie zum Beispiel eine Waschk\xfcche oder eine B\xfcgelstube. Historisch gesehen, handelt es sich hier jedoch um die R\xe4umlichkeiten eines vorherigen Pferdestalles. Das zeigt uns zum Beispiel der Trog unter dem Fenster, der sp\xe4ter als Sp\xfclbecken benutzt wurde.\\n\\nDie K\xfcche ist sehr modern ausgestattet. Zu sehen sind hier verschiedene \xd6fen, ein Grill und an den W\xe4nden, in den Vitrinen und auf den Arbeitstischen auch die umfangreichste Sammlung von Kupfergeschirr und Steingutgeschirr in ganz Tschechien. Man muss noch hinzuf\xfcgen, dass die K\xfcchenausstattung original ist.\\n\\nDie W\xe4rme vom Ofen erw\xe4rmte auch das Wasser, das durch die Wasserleitung an der Decke \xfcber uns bis in die zweite Etage gepumpt wurde, wo sich ein Badezimmer befindet. Dieses Badezimmer werden wir uns gemeinsam ansehen.\\n\\nDie K\xfcche war immer der erste Raum, der im Schloss jeden Morgen zum Leben erweckt wurde. Gegen vier Uhr morgens heizte man den Ofen an und begann auch mit der Zubereitung des Essens. Weil es hier keinen Lift gab, musste das Essen \xfcber eine Seitentreppe in den Speisesaal in der ersten Etage auf Tabletts gebracht werden. Gekocht wurde nach einem Men\xfc, das vorher von der Hausherrin selbst best\xe4tigt wurde. Die Hausherrin ist in unserem Fall die Gemahlin des bereits erw\xe4hnten Franz Clam-Gallas. Zwei von den Men\xfcs k\xf6nnen Sie auf dem Tisch hinter Ihnen sehen.\\n\\nIn der K\xfcche verbrauchte man nat\xfcrlich sehr viel Holz, das in der N\xe4he gelagert werden musste. Deshalb wurde hinter den Fenstern hinter Ihnen \xfcber die gesamte Breite des Schlosses Feuerholz gestapelt."},{"audio":"/de/chateau/de_room_3.mp3","number":3,"img":"/chateau/spizirna.jpg","title":"Speisekammer","card_label":"Diese Speisekammer wurde in den Felsen gehauen, auf dem die Burg und das Schloss stehen.","button":"Besuchen","text":"Diese Speisekammer wurde in den Felsen gehauen, auf dem die Burg und das Schloss stehen. Deshalb ist die Temperatur hier das ganze Jahr \xfcber ziemlich kalt, was f\xfcr die Aufbewahrung von Lebensmitteln, vor allem von Fleisch und Gem\xfcse, optimal war. In dem Schrank liegt noch erhaltenes Essen aus dem 20. Jahrhundert."},{"audio":"/de/chateau/de_room_4.mp3","number":4,"img":"/chateau/pripravna.jpg","title":"Konditorei","card_label":"Wir stehen in der ersten Etage, im Dienerkorridor, der auch nur vom Schlosspersonal benutzt wurde.","button":"Besuchen","text":"Wir stehen in der ersten Etage, im Dienerkorridor, der auch nur vom Schlosspersonal benutzt wurde. Von hier aus ging man entweder in die Konditorei, in den kleinen Raum gegen\xfcber der T\xfcr, oder auf die Sommerterrasse, oder durch die T\xfcr in die repr\xe4sentativen R\xe4ume dieser Etage \u2013 also in den Speisesaal und den Wappensaal.\\n\\nDie Konditorei war eigentlich eine kleine K\xfcche, in der nicht nur Desserts, sondern auch Kaffee, Tee oder hei\xdfe Schokolade und an warmen Tagen hausgemachte Limonade oder Eistee zubereitet wurden. Sie wurde auch benutzt, damit man Speisen bei Bedarf schnell erw\xe4rmen konnte. Darum gibt es hier auch eine Durchreiche. Heute sind hier zum Beispiel Geschirr, oder die Men\xfcs ausgestellt, die auch in der K\xfcche unten zu sehen waren.\\n\\nBeachten Sie die beiden lateinischen Inschriften an der Decke. Beide sind f\xfcr Dienstboten bestimmt. Die erste bedeutet frei \xfcbersetzt: \u201ePass auf, was du sagst\u201c, und die zweite: \'Tritt immer ruhig ein, ohne Groll oder \xc4rger\'.\\n\\nDas bedeutete, dass die Herren hinter dieser T\xfcr nicht merken sollten, was die Diener von ihnen hielten."},{"audio":"/de/chateau/de_room_5.mp3","number":5,"img":"/chateau/erbovni_sal.jpg","title":"Wappensaal","card_label":"Wir haben jetzt den Wappensaal betreten, der sich in der ersten Etage des Schlosses befindet.","button":"Besuchen","text":"Wir haben jetzt den Wappensaal betreten, der sich in der ersten Etage des Schlosses befindet. Weil hier au\xdfer wichtigen Besuchern nur Herren wohnten, wird diese Etage auch \'Herrenetage\' genannt. Die Damen hielten sich eher in der zweiten Etage, in der sogenannten \'Damenetage\' auf. Der Dachboden des Schlosses war dann unter anderem f\xfcr ihre Kinder bestimmt.\\n\\nDieser Raum wurde als Spielraum benutzt - hier traf sich die Gesellschaft vor und nach dem Essen, um Spa\xdf zu haben. So sehen wir einen Billardtisch, einen Schach- und Roulettetisch oder\xa0Spielkarten.\\n\\nDieser Raum ist au\xdferdem auch sehr sch\xf6n ausgeschm\xfcckt. Aber dass an der Decke die ganze Geschichte dieser Herrschaft abgebildet ist, ist kein Zufall. Durch diesen Raum mussten n\xe4mlich alle Besucher gehen und so hatte man eine perfekte M\xf6glichkeit, die alte und reiche Geschichte dieser Herrschaft zu pr\xe4sentieren. Darum sehen wir hier Wappen aller Adelsfamilien, die je Schloss Fr\xfddlant besa\xdfen. Unter den Wappen stehen auch Jahre geschrieben, in denen sie Schloss Fr\xfddlant bewohnten und verwalteten.\\n\\nUnd schlie\xdflich lenken auch wir jetzt kurz unsere Aufmerksamkeit auf die Geschichte von Schloss Fr\xfddlant, wobei uns dabei die wundersch\xf6ne Dekoration helfen wird.\\n\\nBeginnen wir ganz von Anfang an mit dem Wappen an der T\xfcr. Dieses Wappen geh\xf6rte den ersten Besitzern der Herrschaft \u2013 den Adeligen aus der Adelsfamilie von Ronow. Diese herrschten hier im 13. Jahrhundert und bauten die urspr\xfcngliche Burg im gotischen Baustil.\\n\\nDer n\xe4chste Besitzer der Herrschaft war die Adelsfamilie von Bieberstein. Ihr geh\xf6rte das Wappen rechts. Au\xdfer dass die Biebersteiner gegen die Hussiten k\xe4mpften, f\xfchrten sie auch den Renaissanceumbau der alten Burg durch. Sie blieben auch am l\xe4ngsten hier, fast 300 Jahre. Dann hatte aber der letzte Herrscher keinen m\xe4nnlichen Nachfolger und so starb die Adelsfamilie von Bieberstein 1551 aus.\\n\\nNach sieben Jahren wurde Fr\xfddlant von der Adelsfamilie von Redern gekauft. Dieser Adelsfamilie schulden wir viel \u2013 ohne sie w\xe4re hier gar kein Schloss und auch keine Schlosskapelle. Weil sie Protestanten waren, k\xe4mpften sie im 30-j\xe4hrigen Krieg gegen den Kaiser. Nachdem sie geschlagen wurden, mussten sie fliehen und Schloss Fr\xfddlant verlassen.\\n\\nDiese Tatsache nutzte dann Albrecht von Waldstein aus und 1622 kaufte er die verlassene Herrschaft zu einem sehr g\xfcnstigen Preis. Obwohl Waldstein der ber\xfchmteste Besitzer dieser Herrschaft ist, hielt er sich hier kaum auf, und in der Wirklichkeit tauchte er hier insgesamt nur viermal auf.\\n\\nDer Name Waldstein wird oft mit dem Namen Wallenstein von F. Schiller verwechselt. Der Name Waldstein, den Sie auch auf dem Wappen sehen k\xf6nnen, ist aber sein richtiger tschechischer Familienname. Schillers Wallenstein ist nur eine ausgedachte Literaturgestalt.\\n\\nAlbrecht von Waldstein war ein sehr erfolgreicher und ehrgeiziger Mann, eine der bedeutendsten Personen im 30-j\xe4hrigen Krieg. Das gefiel aber gar nicht dem Kaiser und als Waldstein 1634 von seinen zwei Gener\xe4len verraten wurde, wurde er f\xfcr seine angebliche Zusammenarbeit mit Schweden, den Gegnern der Habsburger, in Eger, einer Stadt an der Grenze zu Deutschland, im Schlaf ermordet.\\n\\nDer n\xe4chste Besitzer war Waldsteins ehemaliger General, sp\xe4ter auch einer seiner Verr\xe4ter, Graf Matthias Gallas. F\xfcr Waldsteins Ermordung bekam er nicht nur Geld, sondern \xfcbernahm nach Waldstein auch die Herrschaft Fr\xfddlant. Paradoxerweise genoss er Fr\xfddlant aber nicht besonders viel, weil die Herrschaft schon ein Jahr danach von den Schweden besetzt wurde.\\n\\nAuch bei dieser Adelsfamilie hatte der letzte Adelige keinen Sohn. Dieses Mal war er aber ziemlich schlau und so kam er mit einem besonderen Rettungsplan. Er bot die Herrschaft seinem Neffen Christian Filip Clam unter einer Bedingung an \u2013 zu dem Namen und zu dem Wappen der Adelsfamilie Clam muss zuk\xfcnftig der Name Gallas hinzugef\xfcgt werden. So entstand die letzte Adelsfamilie hier \u2013 die Adelsfamilie Clam-Gallas.\\n\\nDie allerletzte Besitzerin der Herrschaft war die Gr\xe4fin Clotilde Clam-Gallas. Sie war die zweitj\xfcngste Tochter von Franz. Franz hatte n\xe4mlich 7 T\xf6chter. Jede von seinen 7 T\xf6chtern bekam eine seiner Herrschaften und es war gerade Clotilde, die Fr\xfddlant bekam. Clotilde wohnte hier bis 1945, als die Herrschaft Fr\xfddlant nach dem 2. Weltkrieg verstaatlicht wurde.\\n\\nDas war also ein kurzer Einblick in die Geschichte, \xfcber die Sie mehr in der Burgf\xfchrung erfahren k\xf6nnen. Wir gehen jedoch weiter in den Speisesaal."},{"audio":"/de/chateau/de_room_6.mp3","number":6,"img":"/chateau/jidelna.jpg","title":"Speisesaal","card_label":"Der Speisesaal ist mit dem Wappensaal und auch mit einer Sommerterrasse verbunden.","button":"Besuchen","text":"Der Speisesaal ist mit dem Wappensaal und auch mit einer Sommerterrasse verbunden. Der Raum ist mit Holz get\xe4felt und an den W\xe4nden sind Jagdtroph\xe4en zu sehen. An dem Kachelofen befindet sich ein Waschbecken aus Zinn, das zum H\xe4ndewaschen direkt nach dem Essen diente. Sein Vorteil war, dass es tragbar ist und man es direkt auf den Esstisch legen konnte.\\n\\nDer Speisesaal wurde t\xe4glich mehrmals genutzt. Das Fr\xfchst\xfcck fand regelm\xe4\xdfig um 8 Uhr morgens statt, meistens in Buffetform, wo jeder nahm, worauf er Appetit hatte. Beim Fr\xfchst\xfcck sa\xdfen aber nur M\xe4nner und unverheiratete Frauen am Tisch zusammen. Die verheirateten Frauen fr\xfchst\xfcckten in der Regel im Bett. Kinder waren auch nicht dabei. Sie a\xdfen immer mit einem Lehrer, der ihnen beibrachte, wie man richtig und h\xf6flich tafeln soll. Mit ihren Eltern tafelten sie erst sp\xe4ter, als sie \xe4lter waren.\\n\\nUm halb eins erklang im Schloss ein Gong, der zum Mittagessen rief. Daran nahmen bereits alle Erwachsenen teil. Je nach Wetter konnte es entweder drinnen oder drau\xdfen serviert werden. Die wichtigste Mahlzeit des Tages war das Abendessen, das ein gesellschaftliches Ereignis war. Zwischen diesen Hauptgerichten wurde in privaten R\xe4umen gegen elf und f\xfcnf Uhr auch ein Snack serviert.\\n\\nNach dem Essen begaben sich die Adeligen zum Ausruhen in den Blauen Salon, der auch f\xfcr uns der n\xe4chste Teil unserer F\xfchrung ist."},{"audio":"/de/chateau/de_room_7.mp3","number":7,"img":"/chateau/modry_salon.jpg","title":"Blauer Salon","card_label":"Ein luxuri\xf6ser Raum mit einem gro\xdfen Teppich mit persischen Mustern und Leder-Tapeten ist der Hauptraum der ersten Etage.","button":"Besuchen","text":"Ein luxuri\xf6ser Raum mit einem gro\xdfen Teppich mit persischen Mustern und Leder-Tapeten ist der Hauptraum der ersten Etage. Auch hier legte man gro\xdfen Wert auf die Einrichtung, um zu zeigen, dass die Familie reich war. Deshalb finden Sie hier teure M\xf6belst\xfccke, belgische und holl\xe4ndische Keramiksammlungen oder einen Kachelofen in gelben und blauen Farben. Die Farbe Blau war f\xfcr die Adelsfamilie Clam-Gallas sehr typisch, darum werden wir auf sie auch in anderen R\xe4umen sto\xdfen."},{"audio":"/de/chateau/de_room_8.mp3","number":8,"img":"/chateau/knihovna.jpg","title":"Vorraum \u2013 die kleine Bibliothek","card_label":"Jetzt sind wir im Vorraum.","button":"Besuchen","text":"Jetzt sind wir im Vorraum. Von hier aus konnte man entweder in die repr\xe4sentativen R\xe4umlichkeiten gehen, die wir gerade besucht haben, oder in den privaten Teil des Schlosses, der Franz geh\xf6rte. Dort befinden sich eine Empfangshalle, ein Arbeitszimmer und ein Schlafzimmer.\\n\\nWie Sie sehen k\xf6nnen, diente dieser Raum auch als kleine Privatbibliothek und auch als Raucherzimmer. Die B\xfccher hier stellen aber nur einen ganz winzigen Teil unserer B\xfcchersammlung dar. Die Hauptbibliothek aus dem 17. Jahrhundert befindet sich in der Burg und z\xe4hlt etwa 16\xa0000 B\xfccher. Sp\xe4ter, nach der Elektrifizierung, gab es hier auch ein Radio, so dass dieses Zimmer \xfcber alle modernen Annehmlichkeiten verf\xfcgte.\\n\\nIn den n\xe4chsten Raum gehen wir durch den Herrenkorridor, der hier auch der Hauptkorridor war."},{"audio":"/de/chateau/de_room_9.mp3","number":9,"img":"/chateau/panska_chodba.jpg","title":"Hauptkorridor","card_label":"Hier sehen wir eine Wendeltreppe, die alle Etagen verbindet, eine kleine Privattreppe zur Damenetage.","button":"Besuchen","text":"Hier sehen wir eine Wendeltreppe, die alle Etagen verbindet, eine kleine Privattreppe zur Damenetage. Wenn man an dem B\xe4ren links vorbeigeht, kommt man zu dem noch heute bewohnten Schlossteil. Leider wohnen dort keine reichen Adeligen mehr, sondern unsere Schlossf\xfchrer.\\n\\nDer B\xe4r ist nicht zuf\xe4llig hier. Er war ein ungew\xf6hnliches Haustier der 7 T\xf6chter und hatte sogar einen Namen - \'Ali\'. Als er aber von einem lieben Baby-B\xe4ren zu einem gro\xdfen und gef\xe4hrlichen Tier wurde, musste er leider get\xf6tet werden. Als Erinnerung wurde er ausgestopft und hier ausgestellt. Des Weiteren k\xf6nnen Sie hier noch einen Spucknapf sehen. Bitte nicht ausprobieren."},{"audio":"/de/chateau/de_room_10.mp3","number":10,"img":"/chateau/prijimaci_salon.jpg","title":"Empfangssalon","card_label":"Schlie\xdflich erreichen wir die privaten R\xe4umlichkeiten, die lediglich Franz bewohnte.","button":"Besuchen","text":"Schlie\xdflich erreichen wir die privaten R\xe4umlichkeiten, die lediglich Franz bewohnte. Franz war nach dem Vorbild seines Vaters Eduard beim Milit\xe4r aktiv und obwohl er ziemlich bedeutende Titel gewann, wurde er in diesem Bereich nie so erfolgreich wie sein Vater.\\n\\nMehr erfahren Sie \xfcber Franz in seinem Arbeitszimmer, das das n\xe4chste Zimmer ist. Hier im Salon schauen wir uns einige Gem\xe4lde an, die die bedeutsamsten Besitzer von Fr\xfddlant darstellen. Links befindet sich Albrecht von Waldstein, der Fr\xfddlant w\xe4hrend des 30- j\xe4hrigen Krieges bis zu seiner Ermordung in Eger 1634 besa\xdf. Zu seiner Rechten ist Matthias Gallas. Derjenige, der f\xfcr Waldsteins Ermordung verantwortlich war.\\n\\nDas letzte Gem\xe4lde stellt Christian Filip Clam-Gallas dar \u2013 den Mann, der zu seinem urspr\xfcnglichen Namen \'Clam\' den Namen \'Gallas\' hinzuf\xfcgen musste. Er war der Urgro\xdfvater von Franz. Au\xdferdem ist er auch der Gr\xfcnder des nahe gelegenen Kurortes L\xe1zn\u011b Libverda."},{"audio":"/de/chateau/de_room_11.mp3","number":11,"img":"/chateau/pracovna.jpg","title":"Arbeitszimmer","card_label":"Der n\xe4chste Raum  ist das Arbeitszimmer von Franz Clam-Gallas.","button":"Besuchen","text":"Das n\xe4chste Zimmer ist das Arbeitszimmer von Franz. Im Vergleich zu den anderen R\xe4umen hier, war dieses Zimmer das erste wirklich private Zimmer, zu dem nur er Zugang hatte. Ihn finden Sie hier auf mehreren Fotos, zum Beispiel auf dem gro\xdfen Portr\xe4t \xfcber dem Tisch in Begleitung seiner Frau Maria, oder auf dem Foto mit seinen T\xf6chtern, die in Hundesschlitten eingespannt sind. Dieses Foto zeigt sehr sch\xf6n seinen Sinn f\xfcr Humor, f\xfcr den Franz bekannt war.\\n\\nFranz wurde 1854 geboren und wie wir schon wissen, hatte er mit seiner Frau Maria sieben T\xf6chter. Seine Kindheit verbrachte Franz in B\xf6hmen und \xd6sterreich. Er studierte Geschichte und Jura. Wegen seines Sinnes f\xfcr Humor und Gerechtigkeit war er auf seinem Herrschaftsgut sehr beliebt. Franz unterst\xfctzte finanziell \xf6rtliche Kulturvereine, wie ein echter Aristokrat liebte er Sport und vor allem auch Motorsport und war auch selbst technisch sehr begabt.\\n\\nLeider erlebte er noch die Landreform, in der ein gro\xdfer Teil \u2013 70% seines Eigentums - verstaatlicht wurde. Er starb 1930 und Fr\xfddlant \xfcbernahm seine zweitj\xfcngste Tochter Clotilde, die sich dann um die Verwaltung der Herrschaft k\xfcmmerte. \xdcber Clotilde werden wir in der zweiten Etage, der sogenannten Damenetage, sprechen."},{"audio":"/de/chateau/de_room_12.mp3","number":12,"img":"/chateau/loznice.jpg","title":"Herrenschlafzimmer","card_label":"Das letzte Zimmer ist das Schlafzimmer.","button":"Besuchen","text":"Das letzte Zimmer ist das Schlafzimmer. Merkw\xfcrdig hier ist das Bett von Franz, das offensichtlich nur f\xfcr eine Person gedacht ist. Diese Tatsache kommt uns heute ziemlich ungew\xf6hnlich vor. Damals war es aber im Schloss \xfcblich, dass das Ehepaar v\xf6llig getrennt und sogar in einer ganz anderen Etage schlief. Und wenn sich Franz oder Maria trotzdem treffen wollten, mussten sie die Treppe entweder hoch oder runter in die andere Etage gehen. Diesem Zweck diente hier diese Privattreppe.\\n\\nAuf dem Schloss erlebte Franz eine sehr bewegte Zeit und zwar den Zusammenbruch der \xd6sterreichisch-Ungarischen Monarchie und die Gr\xfcndung der Tschechoslowakischen Republik. Obwohl er selbst Monarchist war, nahm er nach der Gr\xfcndung der Republik die tschechoslowakische Staatsb\xfcrgerschaft an und wurde ein stolzer Tschechoslowake.\\n\\nNach der Landreform \xe4nderte er jedoch seine Meinung und kehrte zur deutschen Staatsb\xfcrgerschaft zur\xfcck. Das war schlie\xdflich auch der Grund, warum Fr\xfddlant 1945 verstaatlicht wurde.\\n\\nUnd nun benutzten auch wir die Privattreppe und gehen weiter hoch in die zweite Etage, in die sogenannte \'Damenetage\'."},{"audio":"/de/chateau/de_room_13.mp3","number":13,"img":"/chateau/kvetinovy_salon.jpg","title":"Blumensalon","card_label":"Unsere Besichtigung dieser pr\xe4chtigen Etage beginnen wir im sch\xf6nsten Zimmer, dem Blumensalon.","button":"Besuchen","text":"Unsere Besichtigung dieser pr\xe4chtigen Etage beginnen wir im sch\xf6nsten Zimmer, dem Blumensalon. Wieder sehen wir die Farbe Blau, die in dieser Etage noch h\xe4ufiger auff\xe4llt und fast \xfcberall auf Tapeten und M\xf6bel zu sehen ist.\\n\\nAuf dem Portr\xe4t zwischen den Fenstern ist die Gr\xe4fin Clotilde zu sehen. Sie ist aber nicht die Clotilde, die die letzte Bestitzerin war, sondern ihre Gro\xdfmutter.\\n\\nUnsere Clotilde bewohnte diese Zimmer bis 1945, also bis zur Verstaatlichung. Damals war sie 47 Jahre alt. Clotilde hatte keine Kinder und war nicht verheiratet. Die zweite H\xe4lfte ihres Lebens verbrachte sie in \xd6sterreich, wo sie 1970 auch starb.\\n\\nDie Verstaatlichung war f\xfcr sie nat\xfcrlich eine gro\xdfe Trag\xf6die, weil sie Fr\xfddlant nur mit einer Kutsche und ihren wichtigsten Sachen sofort verlassen musste. Trotzdem war es aber in einer Sache gut und zwar f\xfcr Fr\xfddlant selbst und auch f\xfcr Sie, liebe Besucher.\\n\\nNach der Verstaatlichung hatte Fr\xfddlant im Vergleich zu anderen Schl\xf6ssern und Burgen Gl\xfcck. Gleich nach Clotildes Abreise, wurde n\xe4mlich das ganze Objekt sofort zugeschlossen, was dazu f\xfchrte, dass fast die komplette Ausstattung bis heute erhalten blieb und nur wenige Gegenst\xe4nde verloren gegangen sind. 90% der Ausstattung stammt wirklich von hier und wurde mithilfe von zeitgen\xf6ssischen Fotografien auf ihren urspr\xfcnglichen Platz zur\xfcckgebracht. So sieht das Schloss genauso aus, wie es 1930 aussah. Das ist im Vergleich zu anderen Schl\xf6ssern nicht nur in Tschechien, sondern auch in Deutschland, recht ungew\xf6hnlich.\\n\\nIn die n\xe4chsten Zimmer gehen wir durch die sogenannte Enfilade, die wir durch die ge\xf6ffneten T\xfcren sehen k\xf6nnen. Eine Enfilade war eine gerade Achse, durch die man von einem Ende des Schlosses zum anderen sehen konnte und sie endete normalerweise entweder mit einem gro\xdfen Gem\xe4lde, einem Spiegel, oder mit einem Fenster mit Aussicht.\\n\\nIn unserem Fall ist es an einem Ende das Fenster in diesem Zimmer und an dem anderen der gro\xdfe Spiegel. Wenn wir das letzte Zimmer erreicht haben, k\xf6nnen Sie sich umdrehen und selbst sehen, was die urspr\xfcngliche Absicht war."},{"audio":"/de/chateau/de_room_14.mp3","number":14,"img":"/chateau/loznice_damske1.jpg","title":"Schlafzimmer","card_label":"Dieses Schlafzimmer geh\xf6rte Maria, der Gemahlin von Franz.","button":"Besuchen","text":"Dieses Schlafzimmer geh\xf6rte Maria, der Gemahlin von Franz. Auch hier sieht die Einrichtung genauso aus, wie sie um 1930 aussah. Die urspr\xfcnglichen M\xf6bel, oder das Bett neben dem Ofen stehen wieder auf ihrem Platz. Neben dem Bett ist noch die alte Stange zu sehen, mit der die Glocke bet\xe4tigt wurde. An der T\xfcr befindet sich auch eine Gebetsbank f\xfcr das private Abendgebet."},{"audio":"/de/chateau/de_room_15.mp3","number":15,"img":"/chateau/prevlekarna_salon.jpg","title":"Umkleideraum","card_label":"Heute besteht die Frauenetage aus zwei Wohnungen.","button":"Besuchen","text":"Der zweite Raum ist der Umkleideraum. Hier dominiert ein gro\xdfer Paravent, der als Sichtschutz beim Umkleiden diente. \xdcber der T\xfcr sehen wir noch ein Portr\xe4t von Christian Christoph, dem Gro\xdfvater von Franz. Christian f\xf6rderte Kunst, malte gerne und 1801 ver\xf6ffentlichte er hier in Fr\xfddlant sogar das zweite Schlossmuseum in Europa. \\n\\nEs bestand nicht nur aus einer gro\xdfen Gem\xe4ldegalerie der Adelsfamilien, sondern vor allem auch aus den mit Albrecht von Waldstein verbundenen Sammlungen."},{"audio":"/de/chateau/de_room_16.mp3","number":16,"img":"/chateau/stanovy_salon.jpg","title":"Zeltsalon","card_label":"Jetzt sind wir im Zeltsalon. Er hat die Form eines Feldzeltes, was im 19. Jahrhundert in Mode war.","button":"Besuchen","text":"Jetzt sind wir im Zeltsalon. Er hat die Form eines Feldzeltes, was im 19. Jahrhundert in Mode war. Au\xdfer dass hier Clotilde teilweise wohnte, wurde das Zeltzimmer auch als kleiner Speisesaal genutzt, was an der Anrichte zu erkennen ist. \\n\\nHinter der n\xe4chsten T\xfcr wartet auf uns das Schlafzimmer von Clotilde. Dadurch gehen wir weiter in den gro\xdfen Salon, wo wir wieder einen Moment verweilen."},{"audio":"/de/chateau/de_room_17.mp3","number":17,"img":"/chateau/loznice_klotildy.jpg","title":"Clotildes Schlafzimmer","card_label":"Dieses Zimmer wurde fr\xfcher als Dienstm\xe4dchenzimmer genutzt.","button":"Besuchen","text":"Dieses Zimmer wurde fr\xfcher als Dienstm\xe4dchenzimmer genutzt. Nach dem Tod von Franz Clam-Gallas wurde dieses Zimmer in Clotildes Schlafzimmer umgewandelt, damit sie sich hier um ihre verwitwete Mutter bis zu ihrem Tod k\xfcmmern konnte. Am Bett ist auch ein Tisch, auf dem Fr\xfchst\xfcck serviert werden konnte."},{"audio":"/de/chateau/de_room_18.mp3","number":18,"img":"/chateau/salon_damske.jpg","title":"Damensalon","card_label":"Der holzget\xe4felte Raum ist als Salon eingerichtet.","button":"Besuchen","text":"Der holzget\xe4felte Raum ist als Salon eingerichtet. Seine Decke ist mit Keramik ausgekleidet, wo man verschiedene Teller und Kr\xfcge finden kann. Dieser Salon wurde als Wohnzimmer und teilweise auch als G\xe4stezimmer genutzt. \\n\\nAuf dem Klavier an der T\xfcr befinden sich Familienfotos, am interessantesten ist das gemeinsame Foto der T\xf6chter von Franz, auf dem auch ihre Gro\xdfmutter Clotilde und andere Familienmitglieder zu sehen sind."},{"audio":"/de/chateau/de_room_19.mp3","number":19,"img":"/chateau/prevlekarna.jpg","title":"Ankleideraum","card_label":"Wir haben gerade das Ende der Enfilade erreicht.","button":"Besuchen","text":"Wir haben gerade das Ende der Enfilade erreicht. Sie k\xf6nnen sich jetzt umdrehen und bis in den Blumensalon sehen. Dieser Raum diente als Ankleidezimmer vor dem Badezimmer, das das modernste Zimmer des Schlosses war."},{"audio":"/de/chateau/de_room_20.mp3","number":20,"img":"/chateau/koupelna.jpg","title":"Badezimmer","card_label":"Das Badezimmer ist etwa 100 Jahre alt und ist einer der interessantesten R\xe4ume im Schloss.","button":"Besuchen","text":"Das Badezimmer ist etwa 100 Jahre alt und ist einer der interessantesten R\xe4ume im Schloss. Den Mittelpunkt des Badezimmers stellt die Badewanne dar, in der sich nicht nur eine Dusche, sondern auch ein Sprudel- und Dampfbad befindet. Wenn man das Holzbrett, das Sie an der Vorderseite der Wanne sehen, eintauchte, trieb die Pumpe durch einen Gummischlauch Luft in die Wanne, so dass man sich ein Schaumbad g\xf6nnen konnte. Wenn das Brett blieb, wo es jetzt ist, wurde es nur als Dampfbad benutzt.\\n\\nLinks von der Wanne befindet sich ein Warmwasserspeicher. Das Wasser wurde unten in der K\xfcche erw\xe4rmt und dann hierher in den Speicher durch eine Wasserleitung gepumpt. Da die K\xfcche den ganzen Tag \xfcber in Betrieb war, gab es immer gen\xfcgend hei\xdfes Wasser f\xfcr alle.\\n\\nIn der Ecke befindet sich dann die Toilette. So hatte man im Badezimmer alle Annehmlichkeiten der damaligen Zeit.\\n\\nWeiter geht es durch den Dienerraum in den K\xf6niglichen Korridor, der uns noch h\xf6her bis zum Dachboden f\xfchrt."},{"audio":"/de/chateau/de_room_21.mp3","number":21,"img":"/chateau/umyvarna.jpg","title":"Dienerraum","card_label":"In diesem Raum wurde alles gelagert, was die Diener zu Ihrer Arbeit im Schloss so brauchten.","button":"Besuchen","text":"In diesem Raum wurde alles gelagert, was die Diener zu Ihrer Arbeit im Schloss so brauchten. Jetzt sind hier ein alter Staubsauger und ein paar Besen zu sehen. Gleichzeitig gab es hier f\xfcr die Dienerschaft auch eine Toilette."},{"audio":"/de/chateau/de_room_22.mp3","number":22,"img":"/chateau/chodba.jpg","title":"K\xf6niglicher Korridor","card_label":"Dieser Raum diente als Einrichtung f\xfcr die Bediensteten, wo beispielsweise Waschgarnituren gelagert wurden.","button":"Besuchen","text":"Der Name dieses Korridors stammt nat\xfcrlich von den Bildern, auf denen wir verschiedene europ\xe4ische Herrscher sehen k\xf6nnen. Am Ende des Korridors biegen Sie bitte links ab und steigen die Treppe hoch bis zum Dachboden. Dann biegen Sie bitte noch einmal links ab."},{"audio":"/de/chateau/de_room_23.mp3","number":23,"img":"/chateau/podkrovi.jpg","title":"Dachboden","card_label":"Nicht jedes Schloss bietet seinen Besuchern die M\xf6glichkeit, sich alle Stockwerke anzuschauen.","button":"Besuchen","text":"Nicht jedes Schloss bietet seinen Besuchern die M\xf6glichkeit, sich alle Stockwerke anzuschauen. Fr\xfddlant ist hier eine Ausnahme, und seine gut erhaltenen R\xe4ume unter dem Dach erm\xf6glichen Ihnen, sich auch Kinderzimmer der T\xf6chter und Zimmer von Dienstboten anzuschauen."},{"audio":"/de/chateau/de_room_24.mp3","number":24,"img":"/chateau/detsky_pokoj.jpg","title":"Kinderzimmer","card_label":"Im Giebel befindet sich eines der Kinderzimmer.","button":"Besuchen","text":"Im Giebel befindet sich eines der Kinderzimmer. Ich m\xf6chte Sie hier auf die Tapete aufmerksam machen. Sie enth\xe4lt eine Sammlung von Witzen aus dem franz\xf6sischen Magazin Charivari,. Im Zimmer sto\xdfen wir auf ein paar Spielzeuge: auf eine Kinderkarre mit Pferd oder auf ein Brettspiel. Urspr\xfcnglich geh\xf6rte das Zimmer zwei T\xf6chtern, sp\xe4ter den S\xf6hnen einer der T\xf6chter, wenn sie zu Besuch kamen. Vielleicht deshalb hat das Zimmer diese Wanddekoration."},{"audio":"/de/chateau/de_room_25.mp3","number":25,"img":"/chateau/loznice_dcer_podkrovi.jpg","title":"Schlafzimmer der Tochter","card_label":"Das angrenzende Zimmer diente dann den beiden anderen T\xf6chtern als gemeinsames Schlafzimmer.","button":"Besuchen","text":"Das angrenzende Zimmer diente den beiden anderen T\xf6chtern als gemeinsames Schlafzimmer. Auch hier, wie im Nebenraum, sto\xdfen wir auf die Originaleinrichtung. Wir sehen sehr sch\xf6ne Betten und auch mehrere Spielzeuge. Das beliebteste Spielzeug war trotz seines komischen Aussehens das sogenannte Krapfen, das auf dem Kopfkissen des hinteren Bettes liegt."},{"audio":"/de/chateau/de_room_26.mp3","number":26,"img":"/chateau/lokajna.jpg","title":"Lakaizimmer","card_label":"Neben dem zweiten Kinderzimmer kann man in eine der Dienerwohnungen hineinblicken.","button":"Besuchen","text":"Neben dem zweiten Kinderzimmer kann man in eine der Dienerwohnungen hineinblicken. Hier finden Sie eine umfangreiche Sammlung von erhaltenen Dienstbotenuniformen f\xfcr verschiedene Anl\xe4sse. An der T\xfcr h\xe4ngt ein einfacher Wintermantel und im Kleiderschrank h\xe4ngen Uniformen mit aufgesticktem Wappen von Clam-Gallas. Neben den Uniformen kann man sich auch Reisegep\xe4ck anschauen."},{"audio":"/de/chateau/de_room_27.mp3","number":27,"img":"/chateau/pokoj_sluzebnych_podkrovi.jpg","title":"Dienstbotenzimmer","card_label":"Wir gehen nun zu der T\xfcr, durch die wir das Zimmer der Dienstm\xe4dchen betreten, die sich um die T\xf6chter k\xfcmmerten.","button":"Besuchen","text":"Wir gehen nun zu der T\xfcr, durch die wir das Zimmer der Dienstm\xe4dchen betreten, die sich um die T\xf6chter k\xfcmmerten. Ihr Zimmer grenzte direkt an ein weiteres Schlafzimmer. Das Zimmer wurde von zwei Dienstm\xe4dchen bewohnt, die nicht nur f\xfcr die Sauberkeit der Zimmer und das Aufr\xe4umen zust\xe4ndig waren, sondern auch f\xfcr kleinere Kleidungsreparaturen, das B\xfcgeln usw. Daher gibt es in ihrem Zimmer zum Beispiel eine alte N\xe4hmaschine oder ein B\xfcgelbrett."},{"audio":"/de/chateau/de_room_28.mp3","number":28,"img":"/chateau/pokoj_dcer_2.jpg","title":"Schlafzimmer der T\xf6chter","card_label":"Dieses Zimmer diente auch als Schlafzimmer, diesmal jedoch f\xfcr die anderen T\xf6chter.","button":"Besuchen","text":"Dieses Zimmer diente auch als Schlafzimmer, diesmal jedoch f\xfcr die anderen T\xf6chter."},{"audio":"/de/chateau/de_room_29.mp3","number":29,"img":"/chateau/ucebna.jpg","title":"Klassenzimmer","card_label":"Der gr\xf6\xdfte Raum im Dachgeschoss diente als gemeinsames Klassenzimmer.","button":"Besuchen","text":"Das gr\xf6\xdfte Zimmer im Dachboden diente als gemeinsames Klassenzimmer. Die kleinsten T\xf6chter wurden von einer Gouvernante unterrichtet, die \xe4lteren Lehrer aus der \xf6rtlichen Schule, die regelm\xe4\xdfig hierherkamen. Die M\xe4dchen wurden sowohl auf Deutsch als auch auf Tschechisch unterrichtet. Das Klassenzimmer ist als vielseitiger Raum mit mehreren Vitrinen eingerichtet. So gibt es hier zum Beispiel eine Mineraliensammlung, ausgestopfte Tiere, eine geografische Landkarte und auch Musikinstrumente und Bilder von ber\xfchmten Vorfahren und Familienmitgliedern."},{"audio":"/de/chateau/de_room_30.mp3","number":30,"img":"/chateau/pokoj_vychovatelky.jpg","title":"Lehrerzimmer","card_label":"Der letzte Raum, der auf dieser Etage des Schlosses zu sehen ist, diente als Lehrerzimmer.","button":"Besuchen","text":"Der letzte Raum, der auf dieser Etage des Schlosses zu sehen ist, diente als Lehrerzimmer. Wir gehen jetzt aber weiter in die Schlosskapelle."},{"audio":"/de/chateau/de_room_31.mp3","number":31,"img":"/chateau/kaple.jpg","title":"Die Schlosskapelle","card_label":"Wir haben die letzte Etappe unserer F\xfchrung erreicht.","button":"Besuchen","text":"Wir haben die letzte Etappe unserer F\xfchrung erreicht. Die Adelsfamilie Redern lie\xdf im 17. Jahrhundert diese Schlosskapelle an der Stelle des urspr\xfcnglichen Wachturms der Burg bauen. Die Kapelle ist mit dem Schloss durch einen Bogen, den sogenannten Schwibbogen verbunden, so dass man trockenen Fu\xdfes aus dem Schloss in die Kapelle gehen konnte. Der Schwibbogen f\xfchrte direkt zum Oratorium, wo die Adelsfamilie sa\xdf. Das Oratorium befindet sich direkt \xfcber Ihnen.\\n\\nUnter der Familie, in dem Raum mit dem Gitter, sa\xdfen wohlhabende B\xfcrger. Heute sind dort die Gew\xe4nder des Priesters zu sehen. F\xfcr andere Besucher und das Schlosspersonal, die ebenfalls am Gottesdienst teilnahmen, gab es einfache B\xe4nke genau an dieser Stelle, wo wir jetzt stehen.\\n\\nDie Kapelle hat zwei Altare. Der erste ist ein protestantischer Altar aus dem Beginn des 17. Jahrhunderts, der Zeit der Adelsfamilie Redern, und der zweite ist ein katholischer Altar, der von der Familie Gallas am Ende des 17. Jahrhunderts errichtet wurde. Dieser ist mit dem Gem\xe4lde der Heiligen Anna ausgeschm\xfcckt, nach der die Kapelle benannt wurde.\\n\\nDa die Schlosskapelle der letzte Teil unserer F\xfchrung ist, haben Sie nun Zeit, sich diese sch\xf6ne Kapelle anzuschauen. Wenn Sie fertig sind, gehen wir die n\xe4chste Treppe hinunter und beenden die F\xfchrung vor der Kapelle unter dem Schwibbogen."},{"audio":"/de/chateau/de_room_32.mp3","number":32,"img":"/chateau/pred_kapli.jpg","title":"Vor der Schlosskapelle","card_label":"An dieser Stelle m\xf6chten wir uns von Ihnen verabschieden.","button":"Besuchen","text":"An dieser Stelle m\xf6chten wir uns von Ihnen verabschieden. Wir danken Ihnen f\xfcr Ihre Aufmerksamkeit und hoffen, Sie haben die Schlossf\xfchrung genossen. Zum Haupthof k\xf6nnen Sie entweder den alten Ritterweg oder die Treppe benutzen. Wir w\xfcnschen Ihnen einen sch\xf6nen Tag und freuen uns auf ein Wiedersehen!"}]},{"tour_id":"chateau","language":"es","title":"Palacio bajo","img":"/chateau/chateau.jpg","rooms_label":"habitaciones","time":"60 minutos","description":"Este recorrido lleva al visitante a trav\xe9s del palacio ricamente amueblado y la historia de los \xfaltimos propietarios de Clam Gallas. Un recorrido tur\xedstico completamente equipado mapea el palacio y sus m\xe1s de 20 habitaciones en todas sus plantas.","button":"Empezar recorrido","rooms":[{"audio":"/es/chateau/es_room_1.mp3","number":1,"img":"/chateau/dolni_nadvori.jpg","title":"Patio","card_label":"Fr\xfddlant es una agrupaci\xf3n de dos complejos de edificios \u2013 el castillo viejo - fortaleza llamada \'el castillo alto\' - y la ampliaci\xf3n renacentista \u2013 \'el palacio nuevo\' - que forma la base del \'arrabal\'.","button":"Visita","text":"Bienvenidos a la visita del palacio de Fr\xfddlant. Fr\xfddlant es una agrupaci\xf3n de dos complejos de edificios \u2013 el castillo viejo - fortaleza llamada \'el castillo alto\' - y la ampliaci\xf3n renacentista \u2013 \'el palacio nuevo\' - que forma la base del \'arrabal\'.\\n\\nNos encontramos en el patio bajo desde donde se ve muy bien todo el recinto: el antiguo castillo, la capilla y dos partes del palacio nuevo. El castillo de Fr\xfddlant es uno de los castillos m\xe1s antiguos y de los mejores conservados de Bohemia del norte - fue construido sobre la mitad del siglo XIII en estilo g\xf3tico, m\xe1s tarde reconstruido en el estilo renacentista. Su parte m\xe1s antigua es la redonda torre llamada \'INDICA\'. Encima de ella, seg\xfan las leyendas, se prend\xedan los fuegos y as\xed la torre serv\xeda de faro en el camino comercial de los Pa\xedses Checos a Lusacia y a Polonia.\\n\\nLuego podemos observar la capilla, construida por la orden de Catalina de Redern y su esposo Melchor entre los a\xf1os 1598 \u2013 1602. A continuaci\xf3n se ve el ala renacentista del palacio, construida en el siglo XVI. En la fachada se encuentran esgrafiados renacentistas originales. El castillo fue continuamente transformado y ampliado - ese desenvolvimiento complejo fue concluido en el siglo XIX con las \xfaltimas reconstrucciones.La parte m\xe1s moderna, edificada en el siglo XIX (1876) por orden de Eduardo de Clam-Gallas es \'el ala del castellano\' (la parte de color amarillo).\\n\\nDurante nuestro recorrido, nos moveremos en la confluencia de los siglos XIX y XX y hablaremos principalmente de las dos \xfaltimas generaciones de propietarios del palacio \u2013 de Francisco Clam-Gallas, su esposa Mar\xeda y sus siete hijas."},{"audio":"/es/chateau/es_room_2.mp3","number":2,"img":"/chateau/kuchyne.jpg","title":"Cocina","card_label":"Una vez m\xe1s buenos d\xedas, le damos a usted la bienvenida al castillo de Fr\xfddlant.","button":"Visita","text":"Una vez m\xe1s buenos d\xedas, le damos a usted la bienvenida al castillo de Fr\xfddlant. Ha elegido la ruta del castillo que nos llevar\xe1 a trav\xe9s de la historia m\xe1s reciente. Durante la visita nos centraremos en la \xe9poca en la que el castillo era propiedad del pen\xfaltimo propietario, Franti\u0161ek Clam-Gallas, que vivi\xf3 aqu\xed en el palacio hasta su muerte en 1930. Es sobre \xe9l y sobre su familia, sobre los que hablaremos en esta ruta que nos llevar\xe1 por todos los pisos del palacio.\\n\\nComenzamos nuestro recorrido de manera poco convencional, en la cocina del castillo. Forma parte de la planta baja, que en su conjunto serv\xeda de fondo operativo. No s\xf3lo hab\xeda una cocina y una despensa, sino tambi\xe9n un comedor de servicio, las oficinas del mayordomo, ga\xf1\xe1n y otros espacios que serv\xedan a los empleados.\\n\\nLa cocina en esta forma presenta las postrimer\xedas del siglo IXX. La cocina fue la primera en cobrar vida en el castillo. Alrededor de las cuatro de la ma\xf1ana ya se calentaba la estufa y comenzaba la preparaci\xf3n del desayuno. El cocinero y el personal auxiliar de cocina se levantaban como primeros del personal del castillo y comenzaban a preparar el men\xfa aprobado por la se\xf1ora de la casa, en nuestro caso la condesa Maria Hoyos Sprinzenstein, la esposa del ya mencionado Franti\u0161ek Clam-Gallas.\\n\\nLa cocina est\xe1 muy modernamente equipada. Puede ver aqu\xed no solo la estufa principal con horno, sino tambi\xe9n una parrilla con una secadora y una peque\xf1a estufa de mano en el medio.\\n\\nEn las paredes, vitrinas y mesas de trabajo se aprecia una gran colecci\xf3n de vajilla de cobre y de gres.\\n\\nEl funcionamiento de la cocina consum\xeda mucha madera, que ea neceserio mantenerla cerca, as\xed que detr\xe1s de las ventanas hay una le\xf1era a todo lo largo del castillo. All\xed se almacenaba la le\xf1a y por all\xed se entraba a las despensas, o tambi\xe9n, a la pasteler\xeda, una peque\xf1a cocina donde se preparaban los postres. A la pasteler\xeda echaremos un vistazo por la ventanilla de entrega subiendo a la primera planta del castillo.\\n\\nEl calor que produc\xeda la estufa tambi\xe9n calentaba el agua, que se bombeaba al dep\xf3sito del segundo piso del palacio, donde se encontraba el cuarto de ba\xf1o principal (all\xed tambi\xe9n nos llevar\xe1 la ruta). El agua calentada sal\xeda por una tuber\xeda que se ha conservado y la pod\xe9is ver encima de nosotros. Hay que a\xf1adir que el equipamiento de la cocina es original, asimismo todos los espacios del palacio est\xe1n equipados con muebles originales, lo que no es habitual en todos los castillos checos. Sin embargo, Fr\xfddlant tuvo suerte y su equipamiento no fue retirado despu\xe9s de la guerra.\\n\\nEn cuanto a la cocina, queda a\xf1adir que la comida, una vez preparada, la sub\xedan por la escalera lateral hasta el comedor. All\xed tambi\xe9n subiremos nosotros, pasando por la despensa."},{"audio":"/es/chateau/es_room_3.mp3","number":3,"img":"/chateau/pripravna.jpg","title":"Pasillo frente a la pasteler\xeda","card_label":"Nos encontramos en el pasillo por el que solo pasaban de los sirvientes, por eso no ver\xe1 aqu\xed nada de equipamiento notable.","button":"Visita","text":"Nos encontramos en el pasillo por el que solo pasaban de los sirvientes, por eso no ver\xe1 aqu\xed nada de equipamiento notable. De aqu\xed los criados se dirig\xedan o bien a la pasteler\xeda, a la terraza exterior, o bien a las salas representativas de la primera planta, donde vamos a entrar en un momento.\\n\\nEstamos parados frente a la pasteler\xeda que estaba conectada con la cocina. Aqu\xed podemos ver una parte del servicio de mesa y otras cosas relacionadas con la comida, incluidos los men\xfas preparados por la se\xf1ora de la casa que ya se comentaron en la cocina. La sala de la pasteler\xeda, donde se preparaban postres y bebidas fr\xedas y calientes, dispone de una ventanilla de reparto por la que el personal distribu\xeda la comida, que por la puerta principal se llevaba al comedor contiguo.\\n\\nF\xedjese en las inscripciones en lat\xedn en el techo. Ambas est\xe1n destinadas a los sirvientes y libremente traducidos significan: \'Refrena tu lengua\', y el otro \'Entra siempre con calma, sin malicia ni ira\'. Entonces, pensara lo que pensara un criado de sus amos, detr\xe1s de esa puerta nadie pod\xeda darse cuenta de ello."},{"audio":"/es/chateau/es_room_4.mp3","number":4,"img":"/chateau/erbovni_sal.jpg","title":"Sala de juego","card_label":"Todos los palacios de m\xe1s un piso ten\xedan una distribuci\xf3n de habitaciones muy similar.","button":"Visita","text":"Todos los palacios de m\xe1s un piso ten\xedan una distribuci\xf3n de habitaciones muy similar. La planta baja, como ya hemos comentado, era el trasfondo t\xe9cnico del palacio. En el primer piso hab\xeda salas representativas y el apartamento del propietario. Un piso m\xe1s arriba se hallaban dormitorios y habitaciones que las habitaciones de la parte femenina de la familia y en el desv\xe1n las habitaciones de los ni\xf1os, los sirvientes o las habitaciones para las visitas.\\n\\nIgual fue aqu\xed, en Fr\xfddlant.\\n\\nAcabamos de subir al primer piso, directo a la parte representativa. Nos hallamos en una habitaci\xf3n que se usaba como sala de juegos y la domina una gran mesa de billar. La pusieron aqu\xed solo en las \xfaltimas generaciones; antes de eso, estaba ubicada en el castillo alto, en la sala principal. Sin embargo, Franti\u0161ek Clam-Gallas ya no viv\xeda en el castillo alto y de residencia usaba estas instalaciones del palacio. El castillo en s\xed sirvi\xf3 como un museo, museo-castillo, el m\xe1s antiguo de Europa Central, desde 1801.\\n\\nEn esta sala, es el momento de mencionar toda la historia del castillo y el palacio de Fr\xfddlant. Para ello serir\xe1 de gran ayuda la decoraci\xf3n del techo, donde en las lunetas individuales podemos encontrar a todas las familias a las que perteneci\xf3 la zona. No es de casualidad que haya un techo con toda la historia de Fr\xfddlant precisamente en esta sala, por la que pasaban todos los visitantes que acog\xeda Francisco \u2013 se trataba no solo de una manera de anunciar que el linaje noble al que el castillo pertenece es antiguo, sino tambi\xe9n que tiene una rica historia asociada con otras casas famosas.\\n\\nEn la primera luneta vemos el escudo de armas de la casa Bibr\u0161tejn, propietaria del castillo durante unos incre\xedbles trescientos a\xf1os y que en alg\xfan momento del siglo XVI comenz\xf3 la reconstrucci\xf3n renacentista del antiguo castillo g\xf3tico. Despu\xe9s de que se extingieran por l\xednea paterna, la casa Redern compr\xf3 la propiedad a la c\xe1mara real.\\n\\nAunque no estuvieron mucho tiempo aqu\xed, en ese poco tiempo consiguieron no solo completar la reconstrucci\xf3n renacentista del castillo, sino tambi\xe9n construir este castillo bajo, que no cumpli\xf3 la funci\xf3n de edificio representativo para ellos, sino que sirvi\xf3 como oficinas y apartamentos de servidumbre.\\n\\nDespu\xe9s de ellos, lleg\xf3 el propietario del castillo m\xe1s famoso, Albrecht de Vald\u0161tejn. Aunque aqu\xed en el castillo solo se documentan cuatro estancias de este famoso guerrero, fue capaz de proteger estrat\xe9gicamente las tierras de Fr\xfddlant de tal manera que ninguna guerra lo tocara, y es por eso que la finca pas\xf3 a llamarse \'Tierra Feliz\'. Vald\u0161tejn era un hombre exitoso, rico y ambicioso, por lo tanto, peligroso para el gobernante supremo del pa\xeds, raz\xf3n por la cual finalmente fue asesinado en Cheb, traicionado por su propia gente.\\n\\nEntre ellos estaba Mat\xedas de Gallas, quien como recompensa recibi\xf3 de parte del rey no solo la suma de aproximadamente 500.000 florines, sino tambi\xe9n la propiedad de Fr\xfddlant. Parad\xf3jicamente, no disfrut\xf3 mucho de Fr\xfddlant, porque una tropa sueca que tom\xf3 el castillo se instal\xf3 en \xe9l varias veces a lo largo de las d\xe9cadas y luego mejor\xf3 su sistema de fortificaci\xf3n para que nadie m\xe1s pudiera conquistarlo.\\n\\nGallas les pag\xf3 una fuerte \'tarifa de quema\' para tratar decentemente su propiedad reci\xe9n adquirida; quiz\xe1s gracias a ello, ni el castillo ni el palacio sufrieron da\xf1os ni devastaci\xf3n significativos.\\n\\nCuando los Gallas se extingieron por l\xednea paterna, la casa Gallas se fusion\xf3 con la de Clam y naci\xf3 el apellido com\xfan de los dos linajes: Clam-Gallas, y as\xed Fr\xfddlant tuvo sus \xfaltimos propietarios, que permanecieron aqu\xed hasta 1945, cuando se nacionaliz\xf3 el castillo sobre la base de los decretos del presidente Bene\u0161. Los \xfaltimos a\xf1os, hasta 1945, las tierras se\xf1oriales pertenecieron a Clotilda de Clam-Gallas, una de las siete hijas de Francisco de Clam-Gallas.\\n\\nEse fue un breve resumen de la historia de la finca. Si quieren saber m\xe1s, les recomiendo visitar tambi\xe9n la ruta del castillo antiguo.\\n\\nA t\xedtulo informativo, los muebles y accesorios que ver\xe1n durante el recorrido de hoy son desde el siglo XVI. hasta principios del siglo XX.\\n\\nLa casa se complementaba constantemente con cosas que en un momento dado estaban sujetas a la vida moderna. Pero en Fr\xfddlant tambi\xe9n se cuid\xf3 mucho la antig\xfcedad y las cosas memorables que ten\xedan que ver con los antepasados. Las cosas m\xe1s antiguas son del castillo superior (en el caso de esta habitaci\xf3n, por ejemplo, cofres y un aparador renacentista), y la habitaci\xf3n fue amueblada con ellos por la madre de Francisco C.G., la Do\xf1a Clotilda, quien, junto con su esposo Eduardo, moderniz\xf3 el palacio bajo a su forma actual."},{"audio":"/es/chateau/es_room_5.mp3","number":5,"img":"/chateau/jidelna.jpg","title":"Comedor principal","card_label":"La sala de juego estaba conectada con otro espacio social, con el comedor principal del palacio.","button":"Visita","text":"La sala de juego estaba conectada con otro espacio social, con el comedor principal del palacio. Es un espacio separado que se agreg\xf3 al edificio del palacio tan solo en la segunda mitad del siglo XIX. Conectaba con una gran terraza, donde tambi\xe9n se pod\xeda cenar cuando hac\xeda buen tiempo. El comedor tiene un hermoso ventanal, donde nos encontraremos con los escudos de armas de la familia en los rellenos, que nos acompa\xf1ar\xe1n durante todo el recorrido. El escudo de armas combina los s\xedmbolos de las dos familias originales, los Clams austriacos y los Gallas italianos, en una parte encontramos un \xe1guila de los Gallas y un travesa\xf1o dorado, y en la otra un gato Clam sobre un campo plateado y negro. En el centro hay una virgen con cuernos en la mano. Desde la ventana y la terraza se pod\xeda ver el antiguo jard\xedn del castillo junto al r\xedo Sm\u011bd\xe1.\\n\\nLa sala est\xe1 revestida de madera y trofeos de caza, en el revestimiento de madera hay incrustaciones con motivos de Fe, Esperanza, Justicia y Amor. Los casetes en el techo representan a la deidad celestial J\xfapiter, el gobernante del Pante\xf3n, y Mercurio, el mensajero y dios del comercio, Justicia, la diosa ciega de la justicia y Fortuna, la diosa del destino. La estufa de may\xf3lica presenta motivos similares y, junto a ellos, un lavabo de esta\xf1o para lavarse las manos.\\n\\nEl comedor se usaba varias veces al d\xeda. Los desayunos eran en su mayor\xeda estilo buffet, donde cada uno toma lo que quiere.\\n\\nA ella asisten principalmente los hombres y mujeres solteras. A las mujeres casadas el desayuno se les sirve en los salones matinales.\\n\\nPor lo general, ni siquiera se encontraba a los ni\xf1os en la mesa: cenaban por separado con su preceptora y no llegaban a la mesa con sus padres hasta ser mayores. A la una y media, sonaba un gong llamando al almuerzo, la comida en la que participaban ya todos los adultos. Dependiendo del clima, se pod\xeda servir en el interior o al aire libre. La comida m\xe1s importante del d\xeda era la cena, un evento social. Eso supon\xeda vestir la ropa formal. Los visitantes generalmente se sumaban a la familia. Tambi\xe9n se serv\xedan aperitivos entre estos platos principales, alrededor de las once y las cinco, pero en salones privados o salas de fiestas. La pasteler\xeda, por la que pasamos de camino a la sala de juegos, preparaba no solo postres, sino tambi\xe9n caf\xe9, t\xe9 o chocolate caliente, y en los d\xedas c\xe1lidos, limonada casera o t\xe9 helado. Tambi\xe9n se usaba para calentar r\xe1pidamente la comida cuando era necesario.\\n\\nDespu\xe9s de la comida, la compa\xf1\xeda dejaba la mesa y se iba al sal\xf3n principal, que ser\xe1 la siguiente parte de nuestro recorrido."},{"audio":"/es/chateau/es_room_6.mp3","number":6,"img":"/chateau/modry_salon.jpg","title":"Sala azul","card_label":"Esa lujosa habitaci\xf3n con una gran alfombra con motivos persas y empapelado de cuero es la habitaci\xf3n principal del primer piso.","button":"Visita","text":"Esa lujosa habitaci\xf3n con una gran alfombra con motivos persas y empapelado de cuero es la habitaci\xf3n principal del primer piso. Dado que todos los visitantes ven\xedan aqu\xed, el \xe9nfasis estaba en los muebles que mostraban que la familia ten\xeda dinero. Por eso encontrar\xe1n aqu\xed una combinaci\xf3n de confort y lujo de la \xe9poca, que tambi\xe9n incluye piezas de colecci\xf3n antiguas, en este caso cer\xe1micas belgas y holandesas, y pinturas holandesas del siglo XVII. La chimenea est\xe1 en colores de los Clam-Gallas: al fin y al cabo, con esta combinaci\xf3n de amarillo y azul nos encontramos en varias habitaciones.\\n\\nSe pod\xeda ingresar al sal\xf3n principal directamente desde el pasillo, que est\xe1 detr\xe1s de la puerta abierta y que est\xe1 conectado a la escalera de caracol que conectaba todas las plantas del pasillo. Igualmente se pod\xeda entrar desde la antec\xe1mara, adonde se les llevaba a los visitantes y que est\xe1 justo detr\xe1s de la otra puerta. Al igual que se entraba desde la terraza conectada con el comedor, desde la cual se puede ver claramente no solo la f\xe1brica de cerveza y el r\xedo Sm\u011bd\xe1, sino tambi\xe9n el sistema de defensa de todo el edificio, las zanjas y los \xe1ngulos de murallas agudos que construyeron aqu\xed los Suecos durante la Guerra de los Treinta A\xf1os, cuando tomaron el palacio perteneciente a Mat\xedas de Gallas.\\n\\nEl sal\xf3n sirvi\xf3 a la familia de Francisco del Clam-Gallas como sal\xf3n principal, donde se reun\xedan no solo los visitantes sino tambi\xe9n todos los miembros de la familia. En el caso de Francisco Clam-Gallas es decir, todas sus siete hijas. Para ellas y para su esposa Mar\xeda Hoyos Sprinzanstein estaba reservado otro piso del palacio, as\xed como una parte del palacio m\xe1s nuevo, llamada ala del castellano, pero si quer\xedan pasar un tiempo juntos, este era el sal\xf3n principal. Asimismo serv\xeda de sala de fumadores, sala de lectura y sala de descanso. M\xe1s tarde, despu\xe9s de la introducci\xf3n de la electricidad, tambi\xe9n se coloc\xf3 aqu\xed una radio, por lo que realmente se trataba de una sala de estar con todas las comodidades modernas."},{"audio":"/es/chateau/es_room_7.mp3","number":7,"img":"/chateau/knihovna.jpg","title":"Antec\xe1mara \u2013 la biblioteca peque\xf1a","card_label":"Estamos en la antec\xe1mara, donde antes se tra\xeda a los visitantes.","button":"Visita","text":"Estamos en la antec\xe1mara, donde antes se tra\xeda a los visitantes. Desde aqu\xed era posible continuar o bien a las salas representativas por las que acabamos de pasar, o bien a una suite privada, el apartamento de Francisco Clam-Gallas, que constaba de una sala de recepci\xf3n, un despacho y un dormitorio.\\n\\nLos visitantes ven\xedan del corredor detr\xe1s de esta puerta. En el palacio entraban por la escalera principal o por una terraza. Nosotros hoy hemos subido por la entrada de los sirvientes. Los visitantes y la familia, por supuesto, entraban por otro lado.\\n\\nEn este espacio tambi\xe9n encontramos paredes empapeladas, no obstante, el empapelado no es de papel sino de cuero pintado (actualmente en el taller de restauraci\xf3n) y tambi\xe9n una biblioteca de consulta, que es solo una peque\xf1a fracci\xf3n del fondo de la biblioteca ubicado en Fr\xfddlant. La biblioteca principal del a\xf1o 1674 se encuentra en el castillo, donde fue construida por Francisco Fernando de Gallas. La biblioteca la complementaron luego los sucesores de la familia hasta la primera mitad del siglo XX, y hoy en d\xeda se encuentran en ella unos 16.000 libros (15.932 para ser exactos) del siglo XVI al XX."},{"audio":"/es/chateau/es_room_8.mp3","number":8,"img":"/chateau/prijimaci_salon.jpg","title":"Sal\xf3n de recepci\xf3n","card_label":"Finalmente llegamos a los salones privados, que estaban habitados por el ya mencionado Francisco de Clam-Gallas.","button":"Visita","text":"Finalmente llegamos a los salones privados, que estaban habitados por el ya mencionado Francisco de Clam-Gallas. El pen\xfaltimo propietario del castillo naci\xf3 en 1854. Nunca logr\xf3 continuar la famosa carrera militar de su padre, aun as\xed lleg\xf3 a ser teniente en el regimiento de dragones. Sin embargo, lo que es m\xe1s importante, se convirti\xf3 en miembro de la C\xe1mara alta y el camarero mayor. Era due\xf1o de todas las posesiones de los Clam-Gallas - en este caso Liberec, Fr\xfddlant, Grab\u0161tejn y Lemberk. Tuvo siete hijas con su esposa Mar\xeda. Cuando qued\xf3 claro que no tendr\xeda un sucesor masculino, dividi\xf3 la propiedad entre sus hijas. Una de las hijas, que llevaba el nombre de su abuela Clotilda, se hizo cargo de la gesti\xf3n de las tierras se\xf1oriales de Fr\xfddlant y sigui\xf3 siendo su \xfaltima propietaria hasta 1945.\\n\\nHablaremos m\xe1s sobre Francisco en su despacho, que es la siguiente habitaci\xf3n. Aqu\xed en el sal\xf3n, que pertenece a un muy buen ejemplo del estilo neorrenacentista, en el que se reconstruy\xf3 el castillo bajo el padre de Francisco, Eduardo Clam-Gallas llamar\xe9 su atenci\xf3n algunos cuadros que representan a los propietarios importantes del castillo y palacio de Fr\xfddlant.\\n\\nAqu\xed encontrar\xe1n a Melchor de Redern con su hijo Crist\xf3bal, a cargo de ellos no solo se realiz\xf3 la reconstrucci\xf3n y modernizaci\xf3n del castillo superior, sino tambi\xe9n la finalizaci\xf3n de la capilla y este palacio bajo, que originalmente se usaba solo como un edificio administrativo.\\n\\nProbablemente no es necesario presentar a Alberto de Valdstein. Un cierto papel en su muerte en Cheb desempe\xf1\xf3 el hombre cuyo retrato vemos aqu\xed \u2013 Mat\xedas Gallas que despu\xe9s de la muerte de Valdstein recibi\xf3 por parte del emperados el se\xf1or\xedo de Fr\xfddlant.\\n\\nKristian Filip Clam-Gallas es el primero en utilizar el nombre combinado de los Clam u de los Gallas. La uni\xf3n de las familias fue luego confirmada por la emperatriz Mar\xeda Teresa. Era el bisabuelo de Francisco."},{"audio":"/es/chateau/es_room_9.mp3","number":9,"img":"/chateau/pracovna.jpg","title":"El despacho del conde","card_label":"Otra habitaci\xf3n privada es el despacho de Francisco.","button":"Visita","text":"Otra habitaci\xf3n privada es el despacho de Francisco. A diferencia del sal\xf3n contiguo, donde recib\xeda visitas, esta ya era la primera sala verdaderamente privada a la que solo \xe9l ten\xeda acceso. Adem\xe1s del escritorio de trabajo, aqu\xed tambi\xe9n nos encontramos con otra parte de la biblioteca. Otra peque\xf1a cosa interesante - el nombre de Karel Jarom\xedr Erben, un escritor y poeta checo. El autor de Kytice, un libro de poes\xeda, est\xe1 relacionado con el palacio de Fr\xfddlant. Trabaj\xf3 aqu\xed de archivero y tambi\xe9n la colecci\xf3n de libros estaba a su cargo. Por cierto, tambi\xe9n fue el primer creador del libreto, en realidad el texto gu\xeda para la entonces exposici\xf3n abierta del Castillo Superior.\\n\\nPero volvamos a la persona de Francisco Clam-Gallas. Pas\xf3 su infancia en Bohemia y Austria. Ten\xeda una institutriz inglesa que lo cuidaba en el esp\xedritu de las tradiciones familiares. Estudi\xf3 historia y derecho. El padre de siete hijas era muy popular en su finca por su car\xe1cter. Era justo y ten\xeda un gran sentido del humor. Franti\u0161ek apoy\xf3 financieramente a las asociaciones culturales locales, como un verdadero arist\xf3crata, le interesaban los deportes y no es de extra\xf1ar que fuera un gran promotor del turismo y de las rutas de senderismo emergentes en las monta\xf1as Jizera. En los bosques que pertenec\xedan a la hacienda permiti\xf3 no s\xf3lo nuevas rutas, sino tambi\xe9n la construcci\xf3n de albergues para turistas. Sabemos que estuvo entre los promotores del automovilismo y que \xe9l mismo era muy competente t\xe9cnicamente.\\n\\nDesafortunadamente, todav\xeda viv\xeda para ver las reformas agrarias y experiment\xf3 la nacionalizaci\xf3n de sus propiedades ancestrales. Muri\xf3 en 1930. Ya nos hemos familiarizado con el escudo de armas de la casa, as\xed que mencionemos r\xe1pidamente su lema familiar: Fieles al destino, sig\xe1moslo con valent\xeda. (en las fotos sobre la mesa aparecen Francisco con Maria; Francisco con un tiro de cuatro, esta vez no caballos, sino cuatro de sus hijas; el padre de Francisco, Eduardo)."},{"audio":"/es/chateau/es_room_10.mp3","number":10,"img":"/chateau/loznice.jpg","title":"Dormitorio","card_label":"Aqu\xed, en la \xfaltima habitaci\xf3n de la suite de hombres, finalmente puedo presentarles a Francisco en un retrato que lo muestra ya como un caballero muy mayor.","button":"Visita","text":"Aqu\xed, en la \xfaltima habitaci\xf3n de la suite de hombres, finalmente puedo presentarles a Francisco en un retrato que lo muestra ya como un caballero muy mayor. Adem\xe1s de \xe9l, tambi\xe9n encontramos una foto de sus siete hijas. Ya hemos hablado de una de ellas, Clotilda, que se hizo cargo del patrimonio familiar de manos de su padre en tiempos dif\xedciles. M\xe1s mencionaremos en el piso de damas, adonde nos dirigiremos en un momento. Un dato r\xe1pido m\xe1s. No hay ba\xf1o en este piso, pero hay dos inodoros en \xe9l.\\n\\nUn dato r\xe1pido m\xe1s. No hay ba\xf1o en este piso, pero hay dos inodoros en \xe9l.\\n\\nEn el piso de arriba, ya hay un ba\xf1o grande y moderno, que Francisco usaba, as\xed como su esposa e hijos. En las habitaciones sin ba\xf1os hab\xeda al menos mesas de lavado con c\xe1ntaros y piletas donde los sirvientes aplicaban agua caliente y se pod\xeda enjuagar el cuerpo directamente en las habitaciones.\\n\\nEn la pared vemos un tapiz del siglo XVII.\\n\\nLuego subimos las escaleras privadas que conectaban los aposentos de se\xf1oras y caballeros y formaban un atajo entre las dos plantas."},{"audio":"/es/chateau/es_room_11.mp3","number":11,"img":"/chateau/chodba.jpg","title":"Encima de las escaleras","card_label":"Llegamos al piso de damas.","button":"Visita","text":"Llegamos al piso de damas. Desde esta parte se pod\xeda salir a otra terraza, que est\xe1 conectada por unas escaleras a la terraza detr\xe1s del comedor, por esta puerta se llegaba al ala llamada \u201edel castellano\u201c, donde estaba el apartamento privado de Clotilda y originalmente las habitaciones para las visitas y las habitaciones de algunas de las hijas, hermanas de Clotilda. Pero nosotros nos dirigiremos al corredor llamado real, que recibi\xf3 su nombre gracias a los retratos de miembros de las familias reales europeas."},{"audio":"/es/chateau/es_room_12.mp3","number":12,"img":"/chateau/kvetinovy_salon.jpg","title":"Sal\xf3n de flores","card_label":"Comenzaremos nuestro recorrido por los cuartos de damas aqu\xed en el sal\xf3n principal de este piso.","button":"Visita","text":"Comenzaremos nuestro recorrido por los cuartos de damas aqu\xed en el sal\xf3n principal de este piso. Al igual que con el piso inferior, esta parte tambi\xe9n fue reconstruida integralmente por los padres de Francisco, Eduardo y Clotilda. Las habitaciones, utilizadas hasta entonces como oficinas, recibieron un nuevo aspecto y funci\xf3n. Tambi\xe9n las uni\xf3 el color azul, que es absolutamente dominante en este piso y se puede encontrar en casi todas partes, en papel tapiz y muebles. La iniciadora de la reconstrucci\xf3n, Clotilda, se puede encontrar en la imagen entre las ventanas. A su esposo, el padre de Francisco, Eduardo, lo podemos ver en este retrato ecuestre. Fue durante sus vidas, cuando todo el castillo pas\xf3 por una reconstrucci\xf3n con modificaciones de los espacios interiores al estado que vemos hoy.\\n\\nEntre otros retratos, podemos mencionar a una de las hijas, la segunda Eleonora, por cierto, la abuela del pol\xedtico y consejero de V\xe1clav Havel, propietaria de los castillos de Orl\xedk y D\u0159ev\xed\u010d, Karel Schwarzenberg, quien seguramente es bastante conocido, incluso fuera de nuestro pa\xeds.\\n\\nLa sala se utilizaba para organizar fiestas, meriendas a las cinco, que no s\xf3lo se organizaban para tomar una taza de t\xe9, una bebida favorita, sino que tambi\xe9n inclu\xedan alguna actividad para los invitados, generalmente alg\xfan tipo de actuaci\xf3n musical o una conferencia profesional. A trav\xe9s de la puerta abierta tambi\xe9n podemos ver una referencia cl\xe1sica a la forma a\xfan barroca del palacio, la llamada enfilada. Abriendo la puerta se da una vista de todo el piso. Sin embargo, en la \xe9poca de los padres de Francisco, las habitaciones ya se usaban como unidades de vivienda separadas, las puertas solo estaban abiertas en apartamentos individuales y se entraba desde el corredor real adyacente.\\n\\nSolo como informaci\xf3n, la enfilada m\xe1s larga de la Rep\xfablica Checa la tiene el palacio de Valtice (es de 80 metros), no obstante, la m\xe1s larga de Europa se encuentra en el palacio de Schonbrunn.\\n\\nLa enfilada era un eje recto desde el que se pod\xeda ver de un extremo al otro del palacio, normalmente terminando en un gran cuadro, un espejo o una ventana con vistas.\\n\\nEn nuestro caso era la ventana de la cabecera de esta habitaci\xf3n, y cuando lleguemos al final de la misma y nos demos la vuelta, comprobar\xe1n Ustedes mismos c\xf3mo se concibi\xf3 la intenci\xf3n original.\\n\\nPasearemos hoy por la enfilada, tendr\xe1n oportunidad de ver sus habitaciones individuales y nos detendremos en algunas de ellas."},{"audio":"/es/chateau/es_room_13.mp3","number":13,"img":"/chateau/loznice_damske1.jpg","title":"La primera habitaci\xf3n","card_label":"La primera habitaci\xf3n era originalmente un dormitorio.","button":"Visita","text":"La primera habitaci\xf3n era originalmente un dormitorio. As\xed lo demuestra no s\xf3lo la puerta tapiada del pasillo para mayor intimidad, sino tambi\xe9n el bien conservado sistema de biela y campanilla que da a la habitaci\xf3n de la doncella. Pueden verlo junto a la pintura en el caballete. En los pr\xf3ximos a\xf1os, estaremos reinstalando el palacio, por lo que el dormitorio volver\xe1 a esta habitaci\xf3n, hoy es uno de los ejemplos del sal\xf3n privado de descanso. Todas las habitaciones ahora est\xe1n equipadas con muebles y pinturas de los siglos 18 y 19. La sala est\xe1 presidida por grandes lienzos barrocos con un tema de pastor y un espejo veneciano de cristal checo.\\n\\nHoy en d\xeda, todo el piso de damas tiene un solo dormitorio, pero en el pasado hab\xeda al menos tres. Aqu\xed no solo viv\xeda la esposa de Francisco, sino tambi\xe9n de sus hijas mayores. Las otras hijas ten\xedan entonces sus propias habitaciones en el desv\xe1n, y las habitaciones del ala castellana tambi\xe9n estaban destinadas a dormir.\\n\\nEl dormitorio de hoy est\xe1 presidido por una cama y un reclinatorio de oraci\xf3n destinados a la oraci\xf3n privada de la tarde.\\n\\nA su alrededor se agrupan im\xe1genes de tem\xe1tica religiosa, la mayor de las cuales es una copia de una imagen de romer\xeda que representa a la virgen negra. Se le atribuyeron propiedades milagrosas muy fuertes. (Su color sol\xeda derivarse de textos b\xedblicos; por ejemplo, el Cantar de los Cantares menciona a la Virgen en el texto con las palabras: Soy negra, pero hermosa, o Soy negra, pero amorosa. En la \xe9poca g\xf3tica, eran populares las v\xedrgenes negras hechas de madera de \xe9bano o las im\xe1genes con incrustaciones de piedra negra.)\\n\\nUna gran mampara que se usaba para tener privacidad al cambiarse de ropa domina el otro lado de la habitaci\xf3n. Entre las pinturas aqu\xed, tambi\xe9n se pueden mencionar las efigies sobre la puerta. En una de ellas, est\xe1 Cristiano Crist\xf3bal Clam-Gallas, el bisabuelo de Francisco, el primero de los propietarios de Fr\xfddlant, que empez\xf3 a vivir aqu\xed en el palacio y no en el castillo alto. Durante su vida apoyaba el arte, \xe9l mismo se dedicaba a la pintura y fue \xe9l quien abri\xf3 al p\xfablico el museo del castillo aqu\xed en Fr\xfddlant en 1801.\\n\\nEl balneario cercano, Libverda, fundado por los Gallas, prosper\xf3 durante su mandato y fue necesario idear un programa cultural para los hu\xe9spedes del balneario. Es por eso que Fr\xfddlant fue abierto al p\xfablico, y en el castillo alto se present\xf3 no solo la pinacoteca familiar, sino principalmente las colecciones asociadas con Albrecht de Valdstein.\\n\\nEl grabado del otro lado representa a Francisco Antonio Spork, asociado, por ejemplo, con el hospital barroco de Kuks."},{"audio":"/es/chateau/es_room_14.mp3","number":14,"img":"/chateau/stanovy_salon.jpg","title":"Sal\xf3n matutino","card_label":"Junto al dormitorio hab\xeda un sal\xf3n matutino.","button":"Visita","text":"Junto al dormitorio hab\xeda un sal\xf3n matutino. Aqu\xed se pod\xeda servir el desayuno y al mismo tiempo serv\xeda de despacho, donde se atend\xeda la correspondencia despu\xe9s del desayuno. Era una habitaci\xf3n privada que formaba parte de un apartamento, un apartamento que pertenec\xeda solo a su due\xf1a. La sala tiene la forma de una tienda de campa\xf1a, que estuvo de moda en el siglo XIX.\\n\\nAqu\xed tambi\xe9n encontrar\xe1n los restos de un sistema de biela y campanilla. El escritorio se coloca cerca de la ventana debido a la luz, pueden encontrar fotos de miembros de la familia en \xe9l. El m\xe1s interesante es probablemente el retrato fotogr\xe1fico conjunto de las hijas de Francisco, tambi\xe9n encontramos a la abuela Clotilda y otros miembros de la familia. Las hijas (Christine, Eleonora, Eudardine, Gabriele, Mar\xeda, Clotilda y Soph\xeda) se casaron, excepto Clotilda, que se hizo cargo de sus padres. Gracias a ellos, la familia Clam-Gallas se conect\xf3, por ejemplo, con Kinsk\xfd, Schwarzenberg, Auersperg o incluso con la casa morava Podstatsk\xfd Lichtenstein.\\n\\nEudardine fue la \xfanica que no se cas\xf3 con un arist\xf3crata y contrajo matrimonio con el Dr. Winkelnbauer, a quien conoci\xf3 mientras trabajaba de enfermera durante la guerra.\\n\\nFrancisco dividi\xf3 todas las propiedades familiares entre sus hijas y, por lo tanto, los castillos pertenecientes a la casa de Clam-Gallas, como Grab\u0161tejn, Lemberk, Libverda, pasaron a las manos de sus \xfaltimas due\xf1as. Ya mencionamos que Clotilda hered\xf3 Fr\xfddlant. Ella misma fue expulsada en 1945. Vivi\xf3 la segunda mitad de su vida en el extranjero, donde tambi\xe9n muri\xf3 en 1970. Ella fue la \xfaltima due\xf1a de esta propiedad, pero no est\xe1 enterrada en Hejnice, donde se encuentra la tumba de Clam-Gallas. El \xfaltimo miembro de la familia enterrado all\xed es la esposa de Francisco, Mar\xeda Hoyos Sprinzenstein.\\n\\nPor otro cuarto, que no tiene empapelado y que probablemente serv\xeda de cuarto de la doncella pasamos al comedor peque\xf1o."},{"audio":"/es/chateau/es_room_15.mp3","number":15,"img":"/chateau/salon_damske.jpg","title":"Comedor peque\xf1o","card_label":"La sala revestida de madera est\xe1 amueblada como comedor.","button":"Visita","text":"La sala revestida de madera est\xe1 amueblada como comedor. El techo est\xe1 revestido con cer\xe1mica principalmente de Holanda y China, pueden encontrar diversos platos, jarras y jarrones. Elementos orientales, muy populares en la \xe9poca, a\xfan se pueden ver en la vitrina.\\n\\nLos muebles dominantes son estos dos joyeros. Uno con motivos de animales, el otro con motivos de castillos, ambos en combinaci\xf3n de madera, marfil y carey. Adem\xe1s de ellos, encontramos una mesa puesta, y junto a ella tambi\xe9n un gong, que serv\xeda para llamar a la comida. Por lo general, se tocaba media hora antes de que se sirviera la comida, para que hubiera tiempo de vestirse adecuadamente y prepararse para la comida. Tambi\xe9n son interesantes los peque\xf1os espejos venecianos, que fueron dise\xf1ados como candelabros. Se supon\xeda que la luz reflejada en ellos duplicaba la iluminaci\xf3n de la habitaci\xf3n. Hoy percibimos este espacio con paneles de madera como un comedor, pero por datos hist\xf3ricos e inventarios sabemos que este espacio sol\xeda ser un dormitorio, es decir, el dormitorio de las hijas mayores de Francisco y su esposa Mar\xeda Hoyos Sprinzenstein, quienes junto con Mar\xeda ocupaban el piso de damas. Un recuerdo del dormitorio es una muesca en el revestimiento de madera cerca de la ventana, donde se registr\xf3 el a\xf1o y la entonces altura de su hija Clotilda.\\n\\nAl dormitorio corresponder\xeda tambi\xe9n la ubicaci\xf3n l\xf3gica del vestidor y el ba\xf1o, que ahora vamos a ver. Solo para su informaci\xf3n - si miran hacia atr\xe1s a trav\xe9s de la enfilada ahora, ver\xe1n el final con la ventana del que hablamos antes."},{"audio":"/es/chateau/es_room_16.mp3","number":16,"img":"/chateau/prevlekarna.jpg","title":"Vestuario","card_label":"Hemos llegado al final de la enfilada.","button":"Visita","text":"Hemos llegado al final de la enfilada. La habitaci\xf3n delante del cuarto de ba\xf1o serv\xeda de guardaropa y vestidor. Por la puerta pueden echar un vistazo al cuarto de ba\xf1o que es de aproximadamente cien a\xf1os de antig\xfcedad, es una de las habitaciones m\xe1s interesantes. Al cuarto le domina una ba\xf1era, junto a la que encontrar\xe1n no solo una ducha, sino tambi\xe9n un ba\xf1o de burbujas. Ese se consegu\xeda sumergiendo la tabla de madera que pueden ver encima la ba\xf1era, la bomba condujo aire a la ba\xf1era a trav\xe9s de un tubo de goma, de esa manera podr\xeda darse un ba\xf1o de burbujas.\\n\\nA la izquierda de la ba\xf1era hay un tanque de agua caliente. El agua caliente proven\xeda de la cocina del castillo en la planta baja, donde se calentaba y luego se bombeaba al tanque de almacenamiento. Gracias a que la cocina estaba en funcionamiento todo el d\xeda, hab\xeda suficiente agua caliente para todos.\\n\\nEl rinc\xf3n empotrado ocultaba entonces el inodoro, por lo que ten\xedan toda la comodidad de aquella \xe9poca en el ba\xf1o.\\n\\nA la izquierda, debajo de la ventana, pueden ver una de muchas mesas de lavado. Estas se encontraban en habitaciones individuales donde viv\xedan los visitantes u otros miembros de la familia. En ella encontrar\xe1n no solo una jarra de agua y un lavabo con la inscripci\xf3n Friedlant, sino tambi\xe9n jaboneras o goteros para cepillos de dientes.\\n\\nSaliendo del vestuario, ver\xe1n una vitrina a su izquierda, donde encontrar\xe1n una colecci\xf3n de cubiertas de cabeza de mujer, completada con fotos familiares, frascos de perfume, bolsos y similares.\\n\\nLuego nos dirigimos al corredor real, que recibi\xf3 su nombre por las grandes pinturas que representan a los monarcas europeos.\\n\\nDesde all\xed tambi\xe9n se pueden contemplar las instalaciones t\xe9cnicas para la servidumbre, con aseo propio y otras mesas de lavado y vajillas de porcelana."},{"audio":"/es/chateau/es_room_17.mp3","number":17,"img":"/chateau/chodba.jpg","title":"Corredor Real","card_label":"Una estrecha escalera, por debajo de la cual hay una salida a la terraza exterior, nos llevar\xeda a la buhardilla, donde proseguir\xe1 nuestro recorrido, pero llegaremos hasta all\xed por la escalera de caracol principal.","button":"Visita","text":"Una estrecha escalera, por debajo de la cual hay una salida a la terraza exterior, nos llevar\xeda a la buhardilla, donde proseguir\xe1 nuestro recorrido, pero llegaremos hasta all\xed por la escalera de caracol principal.\\n\\nEn las ventanas pueden fijarse en las vidrieras. Una representa el castillo de Fr\xfddlant, y en la otra encontramos de nuevo el escudo de armas de los Clam-Gallas, del que ya hemos hablado hoy.\\n\\nPasaremos por el pasillo pasando las habitaciones de la enfilada y luego les pedir\xe9 que suban la escalera de caracol que ver\xe1n a su izquierda."},{"audio":"/es/chateau/es_room_18.mp3","number":18,"img":"/chateau/podkrovi.jpg","title":"\xc1tico","card_label":"No todos los castillos tienen la oportunidad de mostrar a sus visitantes todos los pisos.","button":"Visita","text":"No todos los castillos tienen la oportunidad de mostrar a sus visitantes todos los pisos. Fr\xfddlant es una excepci\xf3n en esto, y sus espacios bien conservados bajo el techo permiten ver varias habitaciones para ni\xf1os, sirvientes y visitantes. En la cabecera de este espacio se encuentra una de las habitaciones infantiles. Seguramente traer\xe1 su atenci\xf3an de todos ustedel el empapelado de la habitaci\xf3n, que en realidad es una colecci\xf3n de chistes de una revista francesa. En la habitaci\xf3n nos encontramos con algunos juguetes, como un carrito infantil con un caballo, en el que uno de los ni\xf1os puede meterse y as\xed disfrazado puede llevar a otro ni\xf1o. Luego pueden ver un juego de mesa. En el estante de juguetes, observen el modelo del castillo de Fr\xfddlant.\\n\\nLa habitaci\xf3n est\xe1 dividida en dos partes, primera de ellas es una sala de juegos y luego un peque\xf1o estudio detr\xe1s de la cama.\\n\\nLos ni\xf1os estaban al cuidado de una maestra o institutriz que, por lo general, ten\xeda su propia habitaci\xf3n cerca. Hablamos sobre el hecho de que Francisco ten\xeda siete hijas, no obstante la habitaci\xf3n que est\xe1n viendo est\xe1 decorada de forma bastante pueril. Es que fue utilizado por los hijos de una de las hijas de Francisco, Eleonora, es decir, los nietos que vinieron aqu\xed con su madre y otros hermanos para un apartamento de verano. Eleonora, tuvo cuatro hijos y una hija de dos matrimonios. M\xe1s tarde, Francisco hizo renovar el palacete de Libverda para ellos y la habitaci\xf3n se convirti\xf3 en una habitaci\xf3n de invitados.\\n\\nA la izquierda de la puerta de la habitaci\xf3n pueden ver una peque\xf1a puerta por la que se entraba al desv\xe1n del palacio. Hasta el d\xeda de hoy se conservan en \xe9l varias casetas de madera, que serv\xedan no solo para guardar objetos, sino tambi\xe9n de alojamiento para la servidumbre."},{"audio":"/es/chateau/es_room_19.mp3","number":19,"img":"/chateau/lokajna.jpg","title":"Cuarto de lacayo","card_label":"Justo al lado del cuarto de ni\xf1os, pueden ver uno de los apartamentos de los sirvientes.","button":"Visita","text":"Justo al lado del cuarto de ni\xf1os, pueden ver uno de los apartamentos de los sirvientes. Este est\xe1 amueblado como un cuarto de lacayo. En el cuarto del lacayo, que atend\xeda a los miembros de la familia y serv\xeda a la mesa, encontramos una amplia colecci\xf3n de uniformes de servidumbre bien conservados para diversas ocasiones. En la puerta cuelga un sencillo abrigo de invierno, y en el armario se pueden ver los uniformes que se utilizaron en el desempe\xf1o del deber. Los uniformes llevan correas con el escudo Clam-Gallas. Otro juego de ropa cuelga en la puerta del armario. Adem\xe1s de uniformes, aqu\xed tambi\xe9n encontrar\xe1n equipaje de viaje, nuevamente con el emblema del propietario, y gorras para varias ocasiones, en la c\xf3moda, por ejemplo, cubiertas de cabeza del conductor.\\n\\nPor al lado de los dep\xf3sitos y otras puertas que llevan hacia el techumbre pasamos hasta un peque\xf1o sal\xf3n del \xe1tico que podr\xeda haber sido utilizado por los visitantes. El dormitorio correspondiente al sal\xf3n estaba detr\xe1s de la puerta que ven a la izquierda de la habitaci\xf3n. Despu\xe9s de ver el sal\xf3n pasaremos a la segunda parte del \xe1tico, desde donde echaremos un vistazo a las habitaciones donde originalmente viv\xedan las princesas menores y sus instututrices.\\n\\nHoy, el local est\xe1 acondicionado como un sal\xf3n de m\xfasica, conectado a un peque\xf1o dormitorio para la institutriz. Las escaleras al final del pasillo nos llevar\xedan de regreso al corredor real. Si a\xfan recuerdan las vidrieras de Fr\xfddlant y el escudo de armas Clam-Gallas, est\xe1n justo en el rellano de esta escalera de conexi\xf3n. Sin embargo, pasaremos por la puerta al final del pasillo del \xe1tico a la \xfaltima habitaci\xf3n que visitaremos hoy en el palacio, a saber, la capilla del palacio. Por favor, suban las escaleras de la derecha, la puerta de la capilla estar\xe1 abierta, yo voy a cerrar aqu\xed y les seguir\xe9 de inmediato."},{"audio":"/es/chateau/es_room_20.mp3","number":20,"img":"/chateau/kaple.jpg","title":"Capilla de Santa Ana","card_label":"Hemos llegado al final de nuestro recorrido.","button":"Visita","text":"Hemos llegado al final de nuestro recorrido. La capilla de Santa Ana est\xe1 construida en el sitio de la torre de vigilancia original del castillo. Tambi\xe9n fue construida por los Redern, y la construcci\xf3n fue realizada por Marcus Spazzio de Lancia. Por cierto, ese tambi\xe9n dise\xf1\xf3 y construy\xf3 el palacio por el que pasamos hoy.\\n\\nEl castillo est\xe1 conectado a la capilla por un arco de riostra, esta vez tan amplio que forma un pasillo c\xf3modo de conexi\xf3n, para que la familia pueda llegar desde el castillo a la capilla a trav\xe9s de los espacios interiores.\\n\\nLuego, la capilla est\xe1 conectada con el palacio, por lo que puede recorrer todos los edificios principales del complejo sin tener que salir fuera del edificio.\\n\\nEl pasillo del arco de riostra conduc\xeda directamente al oratorio de la capilla, donde se sentaba la nobleza. Est\xe1 justo encima de ustedes. Debajo de la familia en el espacio detr\xe1s de la verja, donde hoy se pueden ver t\xfanicas sacerdotales y casullas de los siglos XVIII y XIX, hab\xeda bancos reservados para la gente m\xe1s adinerada del pueblo y bancos sencillos eran entonces para otros visitantes y personal del castillo que tambi\xe9n participaba en la misa. La capilla tiene dos altares. Uno protestante, es de principios del siglo XVII (autor: Ambrosio Fritch), que decor\xf3 la capilla bajo la familia Redern, y el otro cat\xf3lico, que fue colocado en la capilla por los Gallas, es s\xf3lo de finales del siglo XVII.\\n\\nFue ese que estaba decorado con la imagen de Santa Ana, que da nombre a la capilla. La estatua que vemos en el altar hoy representa a Santa Rosal\xeda.\\n\\nLa capilla se complementa luego con un p\xfalpito y en la parte superior del primer piso podemos ver el \xf3rgano. Los esgrafiados neorrenacentistas bajo el oratorio muestran escenas de la vida de Cristo.\\n\\nBueno, como les dije, esta es la \xfaltima zona que ver\xe1n hoy en la ruta del palacio. Desde aqu\xed, bajaremos por la segunda escalera y me despedir\xe9 de ustedes abajo en la puerta.\\n\\nSaldremos justo enfrente del castillo alto, all\xed a\xfan se pueden subir unos escalones hasta el mirador de Valdstein, donde se ve todo el tramo del castillo por el que hemos pasado hoy. Se ve el arco de conexi\xf3n encima de ustedes y un camino debajo que los llevar\xe1 de regreso al patio principal y fuera del recinto. Pueden bajar por las escaleras o por el camino antiguo de caballero.\\n\\nEspero que hayan disfrutado el recorrido y si contin\xfaan en la ruta del castillo, esperen al gu\xeda en el patio bajo.\\n\\nUna vez m\xe1s les doy gracias por la visita y espero que tengan un buen d\xeda y que, en alg\xfan momento, volvamos a vernos."}]},{"tour_id":"chateau","language":"pl","title":"Pa\u0142ac","img":"/chateau/chateau.jpg","rooms_label":"pokoi","time":"60 minut","description":"Ta wycieczka prowadzi go\u015bcia przez bogato wyposa\u017cony zamek i histori\u0119 ostatnich w\u0142a\u015bcicieli Clam Gallas. W pe\u0142ni wyposa\u017cona trasa zwiedzania odwzorowuje zamek i jego ponad 20 pomieszcze\u0144 na wszystkich pi\u0119trach.","button":"Rozpocz\u0105\u0107 wycieczk\u0119","rooms":[{"audio":"/pl/chateau/pl_room_1.mp3","number":1,"img":"/chateau/dolni_nadvori.jpg","title":"Dziedziniec Dolny","card_label":"Znajdujemy si\u0119 na dziedzi\u0144cu dolnym , z kt\xf3rego roztacza sie widok na ca\u0141y obiekt .","button":"Odwiedza\u0107","text":"Dzie\u0144 dobry , witamy Pa\u0144stwa bardzo serdecznie na zamku Frydlant i \u017cyczymy przyjemnego zwiedzania . Znajdujemy si\u0119 na dziedzi\u0144cu dolnym , z kt\xf3rego roztacza sie widok na ca\u0141y obiekt . Widzimy \u015bredniowieczny zamek , renesansow\u0105 kaplic\u0119 oraz nowe i stare skrzyd\u0141o pa\u0141acowe. Gotycka warownia wzniesiona zosta\u0141a w po\u0141owie XIII wieku . Najstarsz\u0105 cz\u0119\u015bci\u0105 zamku jest wysoka wie\u017ca zwana Indika. Kaplica zosta\u0141a zbudowana w latach 1598- 1602 na polecenie \xf3wczesnych w\u0141a\u015bcicieli zamku \u2013 Melchiora i Katarzyny von Redern . Stara renesansowa cz\u0119\u015b\u0107 pa\u0141acu ozdobiona jest sgraffitami \u2013 jest to renesansowa technika zdobienia tynku pochodz\u0105ca z W\u0142och. Do starej pa\u0141acowej cz\u0119\u015bci dobudowano w XIX wieku now\u0105 tzw. Skrzyd\u0141o Kasztela\u0144skie.\\n\\nDroga prowadz\u0105ca na zamek nazywana jest Rycersk\u0105 . Po niej rycerze wje\u017cd\u017cali konno a damy by\u0141y wnoszone w lektykach ."},{"audio":"/pl/chateau/pl_room_2.mp3","number":2,"img":"/chateau/kuchyne.jpg","title":"Kuchnia Pa\u0141acowa","card_label":"Trasa pa\u0141acowa opowie nam o najnowszej historii zamku Frydlant .","button":"Odwiedza\u0107","text":"Trasa pa\u0141acowa opowie nam o najnowszej historii zamku Frydlant . Skupimy si\u0119 na ostatnim m\u0119skim potomku rodu Clam Gallas , kt\xf3ry nosi\u0141 imi\u0119 Franz. Dowiedz\u0105 si\u0119 Pa\u0144stwo sporo o nim i jego najbli\u017cszej rodzinie.\\n\\nNasz\u0105 wycieczk\u0119 zaczynamy nietradycyjnie bo od kuchni, kt\xf3ra by\u0141a cz\u0119\u015bci\u0105 parteru przeznaczonego na pomieszczenia gospodarcze. Znajdowa\u0141a si\u0119 tu nie tylko kuchnia i spi\u017carnia ale tak\u017ce kuchnia dla s\u0141u\u017cby i kancelaria majordomusa. Dalsze pomieszczenia gospodarcze w postaci magla czy sk\u0141adu bielizny znajdowa\u0141y si\u0119 w wie\u017cyczce nad wej\u015bciem na dziedziniec .\\n\\nKuchnia w tej postaci jak\u0105 widzimy pochodzi z prze\u0141omu XIX i XX wieku . Kuchnia pa\u0141acowa budzi\u0141a si\u0119 do \u017cycia jako pierwsza . Oko\u0141o 4 rano zapalano w piecu i zaczyna\u0141o si\u0119 przygotowywanie \u015bniadania. Kucharka i jej pomocnicy wstawali najwcze\u015bniej pracuj\u0105c nad list\u0105 potraw na dany dzie\u0144. Menu by\u0141o konsultowane z pani\u0105 domu czyli Mari\u0105 Clam Gallas \u2013 \u017con\u0105 wcze\u015bniej wspomnianego Franza .\\n\\nDwoje orginalnych menu , kt\xf3re zachowa\u0141y si\u0119 widzimy na stole pod oknem.\\n\\nFrydlantska kuchnia jest dosy\u0107 nowoczesna jak na tamte czasy . Widzimy tu zbi\xf3r naczy\u0144 miedzianych i ceramicznych . Piece kuchenne poch\u0141ania\u0141y du\u017co drewna , kt\xf3re musia\u0141o by\u0107 w zasi\u0119gu r\u0119ki , dlatego obok kuchni znajduje si\u0119 drewutnia. Piec ogrzewa\u0141 tak\u017ce wod\u0119 , kt\xf3ra by\u0141a wpompowywana do zbiornika znajduj\u0105cego si\u0119 w \u0141azience na pierwszym pi\u0119trze. Ogrzana woda by\u0141a odprowadzana rurami , kt\xf3re widzimy przy suficie.\\n\\nWyposa\u017cenie kuchni i dalszych komnat jest orginalne. Zamek Frydlant nie zosta\u0141 rozkradziony w trakcie wojny i tak\u017ce po jej uko\u0144czeniu.\\n\\nJedzenie noszono z kuchni schodami do jadalni.\\n\\nTeraz przejdziemy przez spi\u017carni\u0119 , po drodze zobaczymy jeszcze pomieszenie s\u0141u\u017cbowe i przejdziemy do cz\u0119\u015bci mieszkalnej."},{"audio":"/pl/chateau/pl_room_3.mp3","number":3,"img":"/chateau/pripravna.jpg","title":"Korytarz przy kredensie","card_label":"Znajdujemy si\u0119 w korytarzu dla s\u0141u\u017cby .","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 w korytarzu dla s\u0141u\u017cby .\\n\\nMo\u017cna si\u0119 st\u0105d dosta\u0107 do podgrzewalni posi\u0141k\xf3w inaczej kredens . Teraz mamy wystawione tu serwisy obiadowe oraz mn\xf3stwo ceramiki , porcelany i naczynia cynowe. Piecyk , na kt\xf3rym podgrzewano jedzenie znajduje za oknem po prawej stonie. Podgrzane jedzenie wydawano s\u0141u\u017cbie przez okienko i wnoszono do jadalni.\\n\\nWidzimy dwa napisy na \u015bcianie , kt\xf3re przet\u0141umaczone brzmi\u0105 \u2013\\n\\n1.Uwa\u017caj na j\u0119zyk albo kontroluj to co m\xf3wisz\\n\\n2.Zachowaj spok\xf3j bez gniewu i z\u0141o\u015bci"},{"audio":"/pl/chateau/pl_room_4.mp3","number":4,"img":"/chateau/erbovni_sal.jpg","title":"Sala Herbowa lub Salon Gier","card_label":"Jeste\u015bmy na pierwszym pi\u0119trze pa\u0141acowym , na kt\xf3rym mieszcz\u0105 si\u0119 pokoje reprezentacyjne oraz pokoje pana zamku.","button":"Odwiedza\u0107","text":"Jeste\u015bmy na pierwszym pi\u0119trze pa\u0141acowym , na kt\xf3rym mieszcz\u0105 si\u0119 pokoje reprezentacyjne oraz pokoje pana zamku. Znajdujemy si\u0119 w salonie , kt\xf3ry s\u0141u\u017cy\u0141 jako pok\xf3j gier . Widzimy st\xf3\u0141 bilardowy, kt\xf3ry pierwotnie sta\u0141 w zamkowej cz\u0119\u015bci . St\xf3\u0141 zosta\u0141 przeniesiony tutaj w XIX wieku poniewa\u017c stary zamek zacz\u0105\u0141 od 1801 roku tworzy\u0107 muzeum rodzinne. Widzimy tak\u017ce stolik do ruletki , sto\u0141y szachowe i do trik traka .\\n\\nW tej sali poznamy tak\u017ce histori\u0119 wszystkich rod\xf3w zamieszkuj\u0105cych t\u0119 siedzib\u0119 , pocz\u0105wszy od \u015bredniowiecza a sko\u0144czywszy na XX stuleciu. Widzimy herby wszystich rodzin . Nie jest przypadkiem , \u017ce w tej sali , przez kt\xf3r\u0105 przechodzili wszyscy go\u015bcie wyeksponowano wszystkie herby . Franz Clam Gallas m\xf3g\u0141 si\u0119 pochwali\u0107 bogat\u0105 histori\u0105 tego miejsca .\\n\\nPierwszy herb przedstawia r\xf3d Ronovic\xf3w , kt\xf3ry panowa\u0141 na zamku jako pierwszy do 1278 roku. Nast\u0119pnie przez prawie 300 lat zamek nale\u017ca\u0141 do rodziny Bibersztejn\xf3w . To dzi\u0119ki nimi zamek zosta\u0141 przebudowany w XVI wieku zmieniaj\u0105c si\u0119 w renesansow\u0105 warowni\u0119. Po \u015bmierci ostatniego m\u0119skiego potomka z rodu Bibersztejn zamek w po\u0141owie XVI wieku kupili Redernowie . Ich panowanie nie trwa\u0141o d\u0141ugo ale za to w najwi\u0119kszym stopniu rozbudowali Frydlant. Powi\u0119kszyli zamek , zbudowali kaplic\u0119 oraz pa\u0141ac renesansowy , w kt\xf3rym teraz znajdujemy si\u0119. Pierwotnie w pa\u0141acu renesansowym znajdowa\u0141y si\u0119 kancelarie i pokoje dla s\u0141u\u017cby. Po Redernach zamek znalaz\u0141 si\u0119 we w\u0141adaniu Albrechta von Waldsztejna . Jego pobyt na zamku ograniczy\u0141 si\u0119 tylko do kilku wizyt , ale dzi\u0119ki niemu ziemia frydlancka by\u0141a strategicznie tak dobrze zabezpieczona ,\u017ce przez kilka lat \u017cadna bitwa jej nie dotk\u0141a , dlatego m\xf3wiono o niej TERRA FELIX \u2013 SZCZ\u0118\u015aLIWA ZIEMIA. Waldsztejn by\u0141 cz\u0141owiekiem odwa\u017cnym , ambitnym oraz ogromnie bogatym , dlatego niebezpiecznym nawet dla Habsburg\xf3w . Cechy jego charakteru zgubi\u0141y go , zosta\u0141 zamordowany w Chebie w 1634 roku przez wojska Habsburg\xf3w . Zdradzili go jego wsp\xf3\u0141towarzysze. Mi\u0119dzy nimi by\u0141 Mathias von Gallas pochodz\u0105cy z W\u0142och , kt\xf3ry w nagrod\u0119 za zdrad\u0119 Albrechta dosta\u0141 od kr\xf3la 500\xa0000 z\u0141otych oraz Frydlanckie Pa\u0144stwo wraz z zamkiem . Paradoksalnie Mathias kr\xf3tko nacieszy\u0141 si\u0119 nabytym zamkiem poniewa\u017c na kilka lat warowni\u0119 obsadzi\u0141o wojsko szwedzkie . Gallas p\u0141aci\u0141 im spore pieni\u0105dze aby w zbyt du\u017cym stopniu nie zdewastowali zamku , i tak si\u0119 te\u017c sta\u0141o a nawet zosta\u0141y po nich pami\u0105tki w postaci rozbudowanej fortyfikacji i barbakanu . W po\u0141owie XVIII wieku rodzina Gallas \u0141\u0105czy si\u0119 z rodem Clam\xf3w poniewa\u017c ostatni Gallas nie doczeka\u0141 si\u0119 m\u0119skiego potomka a nie chcia\u0141 by jego nazwisko zagin\u0119\u0141o . Przez po\u0141\u0105czenie dw\xf3ch rod\xf3w oraz herb\xf3w powsta\u0141a rodzina Clam Gallas panuj\u0105ca na zamku do roku 1945. Fr\xfddlant zosta\u0141 odebrny ostatniej w\u0141a\u015bcicielce Clotyldzie Clam Gallas na postawie dekret\xf3w Benesza . Clotylda jedna z c\xf3rek Franza i Marii Clam Gallas\xf3w jako ostatnia w\u0141a\u015bcicielka Frydlantu umar\u0141a we Salzburg w 1975 roku , by\u0141a bezdzietna i samotna ."},{"audio":"/pl/chateau/pl_room_5.mp3","number":5,"img":"/chateau/jidelna.jpg","title":"Jadalnia","card_label":"Bezpo\u015brednio do Sali Herbowej dobudowana zosta\u0141a w XIX wieku pa\u0141acowa jadalnia, z kt\xf3rej mo\u017cna przej\u015b\u0107 na taras , na kt\xf3rym w s\u0141oneczne i ciep\u0141e dni spo\u017cywano posi\u0141ki.","button":"Odwiedza\u0107","text":"Bezpo\u015brednio do Sali Herbowej dobudowana zosta\u0141a w XIX wieku pa\u0141acowa jadalnia, z kt\xf3rej mo\u017cna przej\u015b\u0107 na taras , na kt\xf3rym w s\u0141oneczne i ciep\u0141e dni spo\u017cywano posi\u0141ki. Widzimy w jadalni okno w stylu angielskim , piec w stylu w\u0141oskim , obok pieca wbudowane jest w \u015bciane lawabo , w kt\xf3rym obmywano sobie d\u0141onie po posi\u0141kach. Na stole kr\xf3luje porcelana angielska a przy oknie stoji tzw. Pomocnik \u2013 poziomowy stolik na naczynia albo potrawy. Wr\xf3\u0107my do okna . Ozdobione jest herbem Clam Gallas\xf3w . \u0141\u0105czy w sobie symbole dw\xf3ch rodzin \u2013 austryjackiego kota rodziny Clam oraz w\u0141oskiego or\u0141a rodziny Gallas\xf3w. Natomiast w \u015brodku wyst\u0119puje Diana \u2013 bogini \u0141owu. Z okna rozci\u0105ga si\u0119 widok na G\xf3ry Izerskie.\\n\\n\u015aciany jadalni pokryte s\u0105 drewnem i my\u015bliwskimi trofeami. \u015aciany zdobione s\u0105 motywami czterech cn\xf3t \u2013 Wiary , Nadzieji , Sprawiedliwo\u015bci oraz Mi\u0141o\u015bci.\\n\\nNa suficie widzimy Jupitera \u2013 w\u0141adc\u0119 Panteonu, kt\xf3ry jest bogiem \u015bwiat\u0141a i nieba , Merkurego \u2013 rzymskiego boga handlu i zysku , Justicj\u0119 \u2013 personifikacj\u0119 sprawiedliwo\u015bci oraz Fortun\u0119 \u2013 bogini\u0119 losu.\\n\\nJadalnia by\u0141a u\u017cywana par\u0119 razy dziennie . \u015aniadanie by\u0141o podawane w formie bufetu. Dzieci jada\u0141y osobno , razem z guwernantk\u0105. O 13.30 rozlega\u0141 si\u0119 gong og\u0141aszaj\u0105cy obiad. Najwa\u017cniejsza by\u0141a kolacja , wtedy by\u0141y prowadzone d\u0141ugie rozmowy na r\xf3\u017cne tematy . Mi\u0119dzy g\u0141\xf3wnymi posi\u0141kami podawano desery oko\u0141o 11.00 i 17.00 w prywatnych salonach."},{"audio":"/pl/chateau/pl_room_6.mp3","number":6,"img":"/chateau/modry_salon.jpg","title":"Salon B\u0141\u0119kitny","card_label":"Luksusowy salon z wielkim dywanem w perskie wzory i sk\xf3rzanymi tapetami jest g\u0141\xf3wnym salonem na tym pi\u0119trze .","button":"Odwiedza\u0107","text":"Luksusowy salon z wielkim dywanem w perskie wzory i sk\xf3rzanymi tapetami jest g\u0141\xf3wnym salonem na tym pi\u0119trze . Tutaj odbywa\u0141y si\u0119 spotkania towarzyskie , dlatego ten salon by\u0141 najbardziej reprezentacyjny . Chciano w ten spos\xf3b pokaza\u0107 status rodzinny . Znajduj\u0105 si\u0119 tutaj bardzo cenne eksponaty \u2013 belgijska i holenderska ceramika, holenderskie obrazy z XVII wieku . Widzimy tak\u017ce portret Franza Clam Gallasa. Kominek jest w barwach \u017c\xf3\u0141to \u2013 niebieskich , jest to kolor herbu Clam Gallas . Do tego salonu prowadz\u0105 drzwi z g\u0141\xf3wnego korytarza , na kt\xf3rym znajduj\u0105 si\u0119 schody na dalsze pi\u0119tra pa\u0141acowe. Z tego salonu tak\u017ce prowadz\u0105 drzwi na taras , gdzie rozpo\u015bciera si\u0119 widok na stary zamkowy browar i rzek\u0119 Smied\u0119 oraz fos\u0119 zamkow\u0105 wybudowan\u0105 przez Szwed\xf3w. Salon ten s\u0141u\u017cy\u0141 rodzinie Franza jako g\u0141\xf3wne pomieszczenie do odpoczynku i spotka\u0144 towarzyskich ."},{"audio":"/pl/chateau/pl_room_7.mp3","number":7,"img":"/chateau/knihovna.jpg","title":"Ma\u0141a biblioteka","card_label":"\u015aciany tego saloniku zdobi\u0105 tak\u017ce tapety sk\xf3rzane tzw. Kurdybany .","button":"Odwiedza\u0107","text":"\u015aciany tego saloniku zdobi\u0105 tak\u017ce tapety sk\xf3rzane tzw. Kurdybany . Widzimy tak\u017ce podr\u0119czn\u0105 biblioteczk\u0119 , kt\xf3ra zawiera tyko ma\u0141\u0105 cz\u0119\u015b\u0107 ksi\u0119gozbioru jaki posiadamy. G\u0142\xf3wna biblioteka znajduje si\u0119 w cz\u0119\u015bci zamkowej , za\u0141o\u017cy\u0141 j\u0105 w XVII wieku Franz Ferdynand Gallas . Zawiera on oko\u0141o 16\xa0000 ksi\u0105\u017cek datowanych od XVI do XX wieku . Dominuje tu ceramika holenderska \u2013 delfte\u0144ska."},{"audio":"/pl/chateau/pl_room_8.mp3","number":8,"img":"/chateau/prijimaci_salon.jpg","title":"Sala audiencyjna","card_label":"Dostali\u015bmy si\u0119 do prywatnych komnat Franza Clam Gallasa .","button":"Odwiedza\u0107","text":"Dostali\u015bmy si\u0119 do prywatnych komnat Franza Clam Gallasa . Przedostatni w\u0141a\u015bciciel Frydlantu urodzi\u0141 si\u0119 w 1854 roku . Nigdy nie zrobi\u0141 tak wielkiej kariery wojskowej jak jego ojciec \u2013 gen. Eduard Clam Gallas ale i tak sta\u0141 si\u0119 nadporucznikiem pu\u0141ku dragon\xf3w . Pr\xf3cz Frydlantu jego maj\u0105tek obejmowa\u0141 tak\u017ce posiad\u0141o\u015bci jak Grabsztejn , Lemberk, pa\u0141ac w Libercu , w Wiedniu a tak\u017ce ogromny pa\u0141ac w Pradze. Z \u017con\u0105 Mari\u0105 dochowali si\u0119 siedmiu c\xf3rek . Kiedy wiadomo by\u0141o ju\u017c , \u017ce nie doczekaj\u0105 si\u0119 m\u0119skiego potomka , maj\u0105tek zosta\u0141 podzielony miedzy c\xf3rkami . Przedostatnia c\xf3rka Clotylda przej\u0119\u0141a Fr\xfddlant. Salon ten , zreszt\u0105 jak ca\u0141e to pi\u0119tro powsta\u0141o w stylu neorenesansowym , zaprojektowa\u0141 je dziadek Clotyldy \u2013 gen Eduard Clam Gallas. Widzimy tu portrety w\u0141a\u015bcicieli zamku , o kt\xf3rych wspominali\u015bmy w Sali herbowej \u2013\\n\\nMelchior von Redern wraz z synem Krzysztofem\\n\\nAlbrecht von Waldszejn\\n\\nMathias Gallas\\n\\nKrystian Filip Clam Gallas \u2013 pra pra dziadek Clotyldy"},{"audio":"/pl/chateau/pl_room_9.mp3","number":9,"img":"/chateau/pracovna.jpg","title":"Pracownia","card_label":"Dalszym prywatnym pomieszczeniem jest pracownia Franza Clam Gallasa.","button":"Odwiedza\u0107","text":"Dalszym prywatnym pomieszczeniem jest pracownia Franza Clam Gallasa. W odr\xf3\u017cnieniu od wcze\u015bniejszych pomieszcze\u0144 , gdzie przyjmowano go\u015bci ten salon by\u0141 ca\u0141kowicie prywatny i niedost\u0119pny. Pr\xf3cz biurka , przy kt\xf3rym pracowa\u0141 Franz widzimy dalsz\u0105 cz\u0119\u015b\u0107 ksi\u0119gozbioru \u2013 mamy tu wszystkie powie\u015bci Dickensa. Franz swoje dzieci\u0144stwo prze\u017cy\u0141 w Czechach i Austrii . Mia\u0141 angielsk\u0105 guwernantk\u0119 , kt\xf3ra stara\u0141a si\u0119 o jego wychowanie w duchu nowej tradycji. Studiowa\u0141 histori\u0119 i prawo we Wiedniu. Ojciec siedmiu c\xf3rek by\u0141 bardzo szanowany przez poddanych . By\u0141 sprawiedliwy i mia\u0141 poczucie humoru. Franz finansowa\u0141 rozw\xf3j lokalnych stowarzysze\u0144 , by\u0141 wielkim propagatorem turystyki \u2013 finansowa\u0141 powstawanie szlak\xf3w turystycznych i schronisk w G\xf3rach Izerskich , kocha\u0141 sporty zimowe. By\u0141 cz\u0141onkiem klubu automobilowego i golfowego a we Wiedniu za\u0141o\u017cy\u0141 pierwszy klub tenisowy. Przekazywa\u0141 spore sumy na renowacje ko\u015bcio\u0141\xf3w i szk\xf3\u0141 oraz na socialn\u0105 pomoc swych poddanych. Jako znakomity je\u017adziec konny towarzyszy\u0141 cesarzowej Sissi podczas polowa\u0144 w Angli. Powstanie pa\u0144stwa Czechos\u0141owackiego pozbawi\u0141o go tytu\u0141u szlacheckiego a reforma rolna odebra\u0141a mu ponad po\u0141ow\u0119 maj\u0105tku ziemskiego . Dla niego jednak najwa\u017cniejsze by\u0141o to , by pracownicy jego nie stracili pracy . Wszystkie te wydarzenia pogorszy\u0141y jego stan zdrowia. Franz Clam Gallas zmar\u0141 na wylew w 1930 roku. Podczas konduktu pogrzebowego jego herb by\u0141 niesiony do g\xf3ry nogami \u2013 oznacza\u0141o to , \u017ce by\u0141 ostatnim m\u0119skim potokiem rodu Clam Gallas.\\n\\nMo\u017cemy zobaczy\u0107 na biurku fotografi\u0119 m\u0141odego Franza wraz z \u017con\u0105 Mari\u0105 oraz Franza jako wo\u017anic\u0119 z zaprz\u0119giem sk\u0141adaj\u0105cym si\u0119 z jego czterech c\xf3rek. Na ostatnim zdi\u0119ciu widzimy siedz\u0105cego w fotelu gen. Eduarda Clam Gallasa- ojca Franza."},{"audio":"/pl/chateau/pl_room_10.mp3","number":10,"img":"/chateau/loznice.jpg","title":"Sypialnia Franza Clam Gallasa","card_label":"Wyposa\u017cona jest tak samo jak wcze\u015bniejsze pomieszczenia w meble z prze\u0141omu XVIII i XIX wieku .","button":"Odwiedza\u0107","text":"Wyposa\u017cona jest tak samo jak wcze\u015bniejsze pomieszczenia w meble z prze\u0141omu XVIII i XIX wieku . Na stoliku toaletowym znajduj\u0105 si\u0119 przybory do golenia , misy i dzbany do mycia sygnowane herbem Frydlantu , mydelniczka oraz pod\u0141u\u017cne nacznie na szczoteczki do mycia z\u0119b\xf3w. Na stoliku przy dzwiach wystawione s\u0105 zdi\u0119cia rodzinne. Obok szafy widzimy zdi\u0119cie wszystkich siedmiu c\xf3rek Franza ustawionych od najstarszej do najm\u0141odszej . Clotylda \u2013 ostatnia pani zamku stoji jako druga od lewej strony."},{"audio":"/pl/chateau/pl_room_11.mp3","number":11,"img":"/chateau/kvetinovy_salon.jpg","title":"Salon Kwiatowy","card_label":"Zwiedzanie damskiego pi\u0119tra zaczynamy od g\u0141\xf3wnego pomieszczenia , kt\xf3rym jest salon kwiatowy nazywany tak\u017ce muzycznym.","button":"Odwiedza\u0107","text":"Zwiedzanie damskiego pi\u0119tra zaczynamy od g\u0141\xf3wnego pomieszczenia , kt\xf3rym jest salon kwiatowy nazywany tak\u017ce muzycznym. Na tym pi\u0119trze dominujacy jest kolor niebieski \u2013 dawniej jako kolor damski. Widzimy tu orginalne tapety we wzory kwiatowe , kt\xf3ry powtarza si\u0119 na zas\u0141onach , suficie oraz tapicerce meblowej \u2013 ta jest odnowiona. Inicjatork\u0105 tego salonu by\u0141a matka Franza \u2013 Clotylda starsza . Portret Clotyldy starszej znajduje si\u0119 mi\u0119dzy oknami . Po jej prawej stronie widzimy portret m\u0141odego gen Eduarda Clam Gallasa \u2013 m\u0119\u017ca Clotyldy starszej a zarazem ojca Franza. Naprzeciw Eduarda patrzac na lewo wisi portret starszego brata gen Edurda Clam Gallasa \u2013 Wilhelma, kt\xf3ry zmar\u0141 na tyfus w 1822 roku w wieku 20 lat . Po lewej stronie od portretu Wilhelma Clam Gallasa widzimy portret Krystiana Krzysztofa Clam Gallasa , kt\xf3ry by\u0141 ojcem Eduarda i Wilhelma . Za rz\u0105d\xf3w gen Eduarda pa\u0141ac przeszed\u0141 wielk\u0105 przebudow\u0119 , on tak\u017ce zaprojektowa\u0141 pi\u0119tro m\u0119skie i sfinansowa\u0141 budow\u0119 najnowszego skrzyd\u0141a pa\u0141acowego tzw. Kasztela\u0144skiego. Eduard Clam Gallas zmar\u0141 w wieku 86 lat w 1891 roku . Nad XIX wieczn\u0105 komod\u0105 pochodz\u0105c\u0105 z Francji widzimy portret ma\u0141ego ksi\u0119cia Schwarzenberga \u2013 jeden z siostrze\u0144c\xf3w ostatniej w\u0141a\u015bcicielki \u2013 Clotyldy . Siostry Clotyldy wda\u0141y si\u0119 w tak znakomite rody jak Auerspergowie, Lichtensztajnowie, Arco \u2013 Zinnebergowie oraz Schwarzenbergowie. Jedna z si\xf3str - Eduardyna Clam Gallas zawar\u0141a zwi\u0105zek nier\xf3wny , bior\u0105c za m\u0119\u017ca nieszlachcica , by\u0141 to doktor Vinklbauer. W salonie tym odbywa\u0141y si\u0119 rodzinne spotkania a tak\u017ce ma\u0141e rodzinne koncerty. Z salonu kwiatowego przechodzi si\u0119 przez wszystkie pokoje tzw. Anfilad\u0105 , kt\xf3ra przewa\u017cnie ko\u0144czy\u0141a si\u0119 jak w naszym przypadku z jednej strony lustrem a z drugiej strony widokiem na okno, czasami te\u017c tam wisia\u0141 obraz.\\n\\nNajd\u0141u\u017csza anfilada w Czechach \u2013 80 met\xf3w , znajduje si\u0119 w pa\u0141acu Valtice."},{"audio":"/pl/chateau/pl_room_12.mp3","number":12,"img":"/chateau/loznice_damske1.jpg","title":"Apartamenty Marii i Clotyldy","card_label":"Zwiedzamy teraz 6 pomieszcze\u0144 , kt\xf3re po \u015bmierci Franza zamieszka\u0141y jego \u017cona i c\xf3rka Clotylda.","button":"Odwiedza\u0107","text":"Zwiedzamy teraz 6 pomieszcze\u0144 , kt\xf3re po \u015bmierci Franza zamieszka\u0141y jego \u017cona i c\xf3rka Clotylda. Stworzy\u0141y 2 apartamenty ka\u017cdy sk\u0141adaj\u0105cy si\u0119 z 3 pokoji. Pierwszy apartament zamieszkiwa\u0141a \u017cona Franza \u2013 Maria Clam Gallas , w sk\u0141ad tego apartamentu wchodzi \u2013 sypialnia , garderoba i salonik .\\n\\nMaria z domu Hoyos mia\u0141a hiszpa\u0144skich przodk\xf3w. Urodzi\u0141a si\u0119 12 sierpnia 1858 na zamku Horn w Austrii jako jedna z siedmiorga dzieci Karola Hoyos \u2013 Sprinzenstein i Eleonory von Paar .\\n\\nDrugi apartament nale\u017ca\u0141 do Clotyldy , tu tak\u017ce widzimy sypialnie, salon i garderob\u0119.\\n\\nClotylda urodzi\u0141a si\u0119 1 stycznia 1898 roku , dosta\u0141a imi\u0119 po swej babce. Po \u015bmierci ojca jako spodkobierczyni zamku Frydlant dba\u0141a o histori\u0119 rodu zatrudniaj\u0105c archiwist\u0119 i kronikarza \u2013 Josefa Bergla. Gromadzi\u0141a tak\u017ce rodzinne pami\u0105tki . Tak samo jak jej siostry mia\u0141a guwernantk\u0119 z Anglii , jak ka\u017cda m\u0141oda szlachcianka uczestniczy\u0141a na pierwszym swoim balu we Wiedniu. Bra\u0141a tak\u017ce udzia\u0141 w pogrzebie cesarza Franciszka J\xf3zefa w 1916 roku. Po \u015bmierci matki w 1938 roku przenios\u0141a si\u0119 do najnowszej pa\u0141acowej cz\u0119\u015bci tzw. skrzyd\u0141a kasztela\u0144skiego. Ciekawostk\u0105 jest , \u017ce po zbombardowaniu Berlina na zamku zosta\u0141 zdeponowany ksi\u0119gozbi\xf3r z berli\u0144skiej miejskiej biblioteki. W roku 1945 na podstawie Dekret\xf3w Bene\u0161a zamek skonfiskowano Clotyldzie . Zmar\u0141a w Salzburku 21.11.1975 roku. By\u0141a ostatnia kt\xf3ra nosi\u0141a nazwisko Clam Gallas."},{"audio":"/pl/chateau/pl_room_13.mp3","number":13,"img":"/chateau/koupelna.jpg","title":"\u0141azienka","card_label":"\u0141azienka ta powsta\u0141a pod koniec XIX wieku , ju\u017c wtedy dzia\u0141a\u0141a kanalizacja i wodoci\u0105gi.","button":"Odwiedza\u0107","text":"\u0141azienka ta powsta\u0141a pod koniec XIX wieku , ju\u017c wtedy dzia\u0141a\u0141a kanalizacja i wodoci\u0105gi. Dominuje tu wanna , na \u015bcianie wisi drewnina deska , kt\xf3ra by\u0141a wk\u0141adana do wanny i wytwarza\u0141a b\u0105belki. Obok wanny widzimy te\u017c zbiornik na ciep\u0141\u0105 wod\u0119 , kt\xf3ra by\u0141a tu wt\u0141aczana z kuchni gdzie by\u0141a podgrzewana ."},{"audio":"/pl/chateau/pl_room_14.mp3","number":14,"img":"/chateau/chodba.jpg","title":"Korytarz kr\xf3lewski","card_label":"Schody , kt\xf3re widzimy po lewej stronie prowadz\u0105 na poddasze , kt\xf3re tak\u017ce zwiedzimy.","button":"Odwiedza\u0107","text":"Schody , kt\xf3re widzimy po lewej stronie prowadz\u0105 na poddasze , kt\xf3re tak\u017ce zwiedzimy. Korytarz nosi tak\u0105 nazw\u0119 poniewa\u017c widzimy tu portrety monarch\xf3w europejskich z prze\u0141omu XVI i XVII wieku . Zobaczymy w korytarzu przepi\u0119kn\u0105 barokow\u0105 szaf\u0119 \u2013 intarsjowan\u0105. Nad szaf\u0105 widzimy czaszk\u0119 bawo\u0141a \u2013 pami\u0105tka z podr\xf3\u017cy po Afryce. Przy piecu wisi suszarka na ubrania , widzimy tak\u017ce gong do wzywania na posi\u0141ki oraz \u017cardinier\u0119 na kwiaty ."},{"audio":"/pl/chateau/pl_room_15.mp3","number":15,"img":"/chateau/podkrovi.jpg","title":"Poddasze","card_label":"W tej cz\u0119\u015bci zobaczymy pokoje dzieci\u0119ce , pokoje s\u0141u\u017cby i pok\xf3j guwernantki , kt\xf3ra zajmowa\u0141a si\u0119 dzie\u0107mi pa\u0144stwa.","button":"Odwiedza\u0107","text":"W tej cz\u0119\u015bci zobaczymy pokoje dzieci\u0119ce , pokoje s\u0141u\u017cby i pok\xf3j guwernantki , kt\xf3ra zajmowa\u0141a si\u0119 dzie\u0107mi pa\u0144stwa. Zaczniemy od pokoju dzieciecego z tapetami z XIX wieku , by\u0141 to francuski komiks \u2013 Szary Wary.\\n\\nNast\u0119pny salonik to tak\u017ce pok\xf3j dzieci\u0119cy ,zobaczymy tu zabawki - na \u0141\xf3\u017cku le\u017cy ulubieniec c\xf3rek Franza \u2013 P\u0105czek.\\n\\nNast\u0119pnie widzimy pok\xf3j s\u0141u\u017cby , kt\xf3ry jest pe\u0141ny uniform\xf3w pracownik\xf3w zamku z XIX wieku.\\n\\nNast\u0119pny pok\xf3j to sypialnia s\u0141u\u017cby a obok dalsza sypialnia dzieci\u0119ca.\\n\\nZ sypialni dzieci\u0119cej wchodzimy do salonu , kt\xf3ry tworzy\u0141 pok\xf3j do nauki . Tu guwernantka uczy\u0141a m\u0141odsze c\xf3rki Franza i Marii , natomiast do strarszch przychodzi\u0141y nauczycielki z miasta. Dziewcz\u0119ta uczy\u0141y si\u0119 j\u0119zyk\xf3w obcych , geografi , przyrody , matematyki itd. Widzimy tu sprz\u0119ty i pomoce do nauki oraz instrumenty muzyczne. Widzimy tak\u017ce na \u015bcianach podobizny przodk\xf3w hrabianek Clam Gallasowych .\\n\\nWyjdziemy na korytarz i tam zobaczymy jeszcze sypialnie guwernantki ."},{"audio":"/pl/chateau/pl_room_16.mp3","number":16,"img":"/chateau/kaple.jpg","title":"Kaplica Pa\u0141acowa","card_label":"Znajdujemy si\u0119 w Kaplicy Pa\u0141acowej pod wezwaniem \u015bw Anny .","button":"Odwiedza\u0107","text":"Znajdujemy si\u0119 w Kaplicy Pa\u0141acowej pod wezwaniem \u015bw Anny . Zosta\u0141a ona zbudowana na miejscu starej wie\u017cy stra\u017cniczej na prze\u0141omie XVI i XVII wieku . Budowe kaplicy sfinansowali Redernowie \u2013 trzecia z koleji rodzina panuj\u0105ca na zamku, widzieli\u015bmy ich herb w Sali herbowej. Redernowie byli protestantami wi\u0119c dzieki nim powsta\u0141 o\u0141tarz renesansowy protestancki- o\u0141tarz na wprost po wej\u015bciu do kaplicy. Potem powsta\u0141 o\u0141tarz barokowy , katolicki z inicjatywy rodziny Gallas \u2013 pi\u0105ta z koleji rodzina panuj\u0105ca. Kaplica w XIX wieku by\u0141a gruntownie odrestaurowana. Powsta\u0141y wtedy sgraffita na \u015bcianach oraz malowid\u0141a na stropie. W XIX wieku zakupiono we Wiedniu organy. Mamy tu te\u017c wystawione ornaty i naczynia liturgiczne .\\n\\nWychodzimy z kaplicy ko\u0144cz\u0105c tras\u0119 \u2013 pa\u0141acow\u0105.\\n\\nTeraz stoimy przed zamkiem zbudowanym w XIII wieku. Zamek zosta\u0141 zbudowany na skale bazaltowej.\\n\\nTeraz schodzimy na dziedziniec schodami , droga rycerska jest niezbyt bezpieczna .\\n\\nDzi\u0119kujemy i \u017cegnamy Pa\u0144stwa."}]}]}'),Ym=function(){function e(){a(this,e)}return s(e,[{key:"getLanguages",value:function(){return Zm.Mj}},{key:"getInstall",value:function(e){for(var t=Zm.N9,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getQRScanner",value:function(e){for(var t=Zm.RS,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getFaceRecognition",value:function(e){for(var t=Zm.em,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getFaceRecognitionPeople",value:function(e){for(var t=Zm.Lx,n=0;n<t.length;n++)if(t[n].language===e)return t[n].people;return null}},{key:"getInfo",value:function(e){for(var t=Zm.um,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getDialogs",value:function(e){for(var t=Zm.y4,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getHeader",value:function(e){for(var t=Zm.Fs,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getRotateLabel",value:function(e){for(var t=Zm.U1,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getHome",value:function(e){for(var t=Zm.LE,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getTours",value:function(e){for(var t=Zm.gB,n=[],r=0;r<t.length;r++)t[r].language===e&&n.push(t[r]);return n}},{key:"getTourIds",value:function(e){for(var t=this.getTours(e),n=[],r=0;r<t.length;r++)n.push(t[r].tour_id);return n}},{key:"getTour",value:function(e,t){for(var n=Zm.gB,r=0;r<n.length;r++)if(n[r].language===e&&n[r].tour_id===t)return n[r];return null}},{key:"getRooms",value:function(e,t){for(var n=Zm.gB,r=0;r<n.length;r++)if(n[r].language===e&&n[r].tour_id===t)return n[r].rooms;return null}},{key:"getRoom",value:function(e,t,n){for(var r=this.getRooms(e,t),a=0;a<r.length;a++)if(r[a].number===n)return r[a];return null}},{key:"getContact",value:function(e){for(var t=Zm.PX,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getNavbar",value:function(e){for(var t=Zm.mx,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getHistory",value:function(e){for(var t=Zm.m8,n=[],r=0;r<t.length;r++)t[r].language===e&&n.push(t[r]);return n}},{key:"getHistoryOverview",value:function(e){for(var t=this.getHistory(e),n=0;n<t.length;n++)if("/history_overview"===t[n].path)return t[n];return null}},{key:"getHouses",value:function(e){for(var t=this.getHistory(e),n=0;n<t.length;n++)if("/houses"===t[n].path)return t[n].houses;return[]}},{key:"getHouse",value:function(e,t){for(var n=this.getHouses(e),r=0;r<n.length;r++)if(n[r].title===t)return n[r];return null}},{key:"getOwners",value:function(e,t){for(var n=this.getHouses(e),r=0;r<n.length;r++)if(n[r].title===t)return n[r].owners;return null}},{key:"getOwner",value:function(e,t,n){for(var r=this.getOwners(e,t),a=0;a<r.length;a++)if(r[a].number===n)return r[a];return null}},{key:"getOther",value:function(e){for(var t=Zm.YH,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getAboutApp",value:function(e){for(var t=Zm.PU,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getWhereToNext",value:function(e){for(var t=Zm.Le,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getSettings",value:function(e){for(var t=Zm.Xd,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}},{key:"getRoomsOverview",value:function(e){for(var t=Zm.ZR,n=0;n<t.length;n++)if(t[n].language===e)return t[n]}},{key:"getVisitedRooms",value:function(e,t,n){if(null!=t){for(var r=this.getRooms(e,t),a=[],o=0;o<r.length;o++)r[o].number<=n&&a.push(r[o]);return a}return null}},{key:"getUnvisitedRooms",value:function(e,t,n){if(null!=t){for(var r=this.getRooms(e,t),a=[],o=0;o<r.length;o++)r[o].number>n&&a.push(r[o]);return a}return null}},{key:"getHelp",value:function(e){for(var t=Zm.R_,n=0;n<t.length;n++)if(t[n].language===e)return t[n];return null}}]),e}(),Jm=Ym,Qm=n(9439),$m=n(3433);function eg(e,t,n){return eg=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&u(a,n.prototype),a},eg.apply(null,arguments)}function tg(e){var t="function"===typeof Map?new Map:void 0;return tg=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return eg(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},tg(e)}var ng,rg=n(3878),ag=n(9199),og=n(181),ig=n(5267);function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ng||(ng={}));var ug,lg="popstate";function cg(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function dg(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(g){}}}function hg(e,t){return{usr:e.state,key:e.key,idx:t}}function fg(e,t,n,r){return void 0===n&&(n=null),sg({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?mg(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function pg(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,i=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function mg(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gg(e,t,n,r){void 0===r&&(r={});var a=r,o=a.window,i=void 0===o?document.defaultView:o,s=a.v5Compat,u=void 0!==s&&s,l=i.history,c=ng.Pop,d=null,h=f();function f(){return(l.state||{idx:null}).idx}function p(){c=ng.Pop;var e=f(),t=null==e?null:e-h;h=e,d&&d({action:c,location:g.location,delta:t})}function m(e){var t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:pg(e);return cg(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(sg({},l.state,{idx:h}),""));var g={get action(){return c},get location(){return e(i,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(lg,p),d=e,function(){i.removeEventListener(lg,p),d=null}},createHref:function(e){return t(i,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=ng.Push;var r=fg(g.location,e,t);n&&n(r,e);var a=hg(r,h=f()+1),o=g.createHref(r);try{l.pushState(a,"",o)}catch(s){i.location.assign(o)}u&&d&&d({action:c,location:g.location,delta:1})},replace:function(e,t){c=ng.Replace;var r=fg(g.location,e,t);n&&n(r,e);var a=hg(r,h=f()),o=g.createHref(r);l.replaceState(a,"",o),u&&d&&d({action:c,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ug||(ug={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function vg(e,t,n){void 0===n&&(n="/");var r=Tg(("string"===typeof t?mg(t):t).pathname||"/",n);if(null==r)return null;var a=yg(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var o=null,i=0;null==o&&i<a.length;++i)o=Ig(a[i],zg(r));return o}function yg(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,o){var i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(cg(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));var s=Mg([r,i.relativePath]),u=n.concat(i);e.children&&e.children.length>0&&(cg(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),yg(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Ag(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,og.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(bg(e.path));try{for(o.s();!(r=o.n()).done;){var i=r.value;a(e,t,i)}}catch(s){o.e(s)}finally{o.f()}}else a(e,t)})),t}function bg(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,(0,rg.Z)(n)||(0,ag.Z)(n)||(0,og.Z)(n)||(0,ig.Z)()),a=r[0],o=r.slice(1),i=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===o.length)return i?[s,""]:[s];var u=bg(o.join("/")),l=[];return l.push.apply(l,(0,$m.Z)(u.map((function(e){return""===e?s:[s,e].join("/")})))),i&&l.push.apply(l,(0,$m.Z)(u)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var wg=/^:\w+$/,_g=3,xg=2,kg=1,Cg=10,Eg=-2,Sg=function(e){return"*"===e};function Ag(e,t){var n=e.split("/"),r=n.length;return n.some(Sg)&&(r+=Eg),t&&(r+=xg),n.filter((function(e){return!Sg(e)})).reduce((function(e,t){return e+(wg.test(t)?_g:""===t?kg:Cg)}),r)}function Ig(e,t){for(var n=e.routesMeta,r={},a="/",o=[],i=0;i<n.length;++i){var s=n[i],u=i===n.length-1,l="/"===a?t:t.slice(a.length)||"/",c=Rg({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var d=s.route;o.push({params:r,pathname:Mg([a,c.pathname]),pathnameBase:Pg(Mg([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=Mg([a,c.pathnameBase]))}return o}function Rg(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);dg("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),r=(0,Qm.Z)(n,2),a=r[0],o=r[1],i=t.match(a);if(!i)return null;var s=i[0],u=s.replace(/(.)\/+$/,"$1"),l=i.slice(1),c=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return dg(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function zg(e){try{return decodeURI(e)}catch(t){return dg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Tg(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ng(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Og(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Dg(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=mg(e):(cg(!(a=sg({},e)).pathname||!a.pathname.includes("?"),Ng("?","pathname","search",a)),cg(!a.pathname||!a.pathname.includes("#"),Ng("#","pathname","hash",a)),cg(!a.search||!a.search.includes("#"),Ng("#","search","hash",a)));var o,i=""===e||""===a.pathname,s=i?"/":a.pathname;if(r||null==s)o=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;a.pathname=l.join("/")}o=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?mg(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,i=n.hash,s=void 0===i?"":i,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Fg(o),hash:jg(s)}}(a,o),d=s&&"/"!==s&&s.endsWith("/"),h=(i||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var Mg=function(e){return e.join("/").replace(/\/\/+/g,"/")},Pg=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Fg=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},jg=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Bg=function(e){l(n,e);var t=p(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n)}(tg(Error));function Lg(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Wg=["post","put","patch","delete"],Gg=(new Set(Wg),["get"].concat(Wg));new Set(Gg),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var Hg="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vg=e.useState,Ug=e.useEffect,qg=e.useLayoutEffect,Kg=e.useDebugValue;function Xg(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Hg(n,r)}catch(a){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var Zg=e.createContext(null);var Yg=e.createContext(null);var Jg=e.createContext(null);var Qg=e.createContext(null);var $g=e.createContext(null);var ev=e.createContext({outlet:null,matches:[]});var tv=e.createContext(null);function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(this,arguments)}function rv(){return null!=e.useContext($g)}function av(){return rv()||cg(!1),e.useContext($g).location}function ov(){rv()||cg(!1);var t=e.useContext(Qg),n=t.basename,r=t.navigator,a=e.useContext(ev).matches,o=av().pathname,i=JSON.stringify(Og(a).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var a=Dg(e,JSON.parse(i),o,"path"===t.relative);"/"!==n&&(a.pathname="/"===a.pathname?n:Mg([n,a.pathname])),(t.replace?r.replace:r.push)(a,t.state,t)}else r.go(e)}),[n,r,i,o]);return u}function iv(t,n){var r=(void 0===n?{}:n).relative,a=e.useContext(ev).matches,o=av().pathname,i=JSON.stringify(Og(a).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return Dg(t,JSON.parse(i),o,"path"===r)}),[t,i,o,r])}function sv(){var t=function(){var t,n=e.useContext(tv),r=fv(lv.UseRouteError),a=pv(lv.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[a]}(),n=Lg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,null)}var uv,lv,cv=function(t){l(r,t);var n=p(r);function r(e){var t;return a(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return s(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(ev.Provider,{value:this.props.routeContext},e.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function dv(t){var n=t.routeContext,r=t.match,a=t.children,o=e.useContext(Zg);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ev.Provider,{value:n},a)}function hv(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var a=t,o=null==r?void 0:r.errors;if(null!=o){var i=a.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));i>=0||cg(!1),a=a.slice(0,Math.min(a.length,i+1))}return a.reduceRight((function(t,i,s){var u=i.route.id?null==o?void 0:o[i.route.id]:null,l=null;r&&(l=i.route.ErrorBoundary?e.createElement(i.route.ErrorBoundary,null):i.route.errorElement?i.route.errorElement:e.createElement(sv,null));var c=n.concat(a.slice(0,s+1)),d=function(){var n=t;return u?n=l:i.route.Component?n=e.createElement(i.route.Component,null):i.route.element&&(n=i.route.element),e.createElement(dv,{match:i,routeContext:{outlet:t,matches:c},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?e.createElement(cv,{location:r.location,component:l,error:u,children:d(),routeContext:{outlet:null,matches:c}}):d()}),null)}function fv(t){var n=e.useContext(Yg);return n||cg(!1),n}function pv(t){var n=function(t){var n=e.useContext(ev);return n||cg(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||cg(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(uv||(uv={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(lv||(lv={}));var mv;function gv(e){cg(!1)}function vv(t){var n=t.basename,r=void 0===n?"/":n,a=t.children,o=void 0===a?null:a,i=t.location,s=t.navigationType,u=void 0===s?ng.Pop:s,l=t.navigator,c=t.static,d=void 0!==c&&c;rv()&&cg(!1);var h=r.replace(/^\/*/,"/"),f=e.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof i&&(i=mg(i));var p=i,m=p.pathname,g=void 0===m?"/":m,v=p.search,y=void 0===v?"":v,b=p.hash,w=void 0===b?"":b,_=p.state,x=void 0===_?null:_,k=p.key,C=void 0===k?"default":k,E=e.useMemo((function(){var e=Tg(g,h);return null==e?null:{location:{pathname:e,search:y,hash:w,state:x,key:C},navigationType:u}}),[h,g,y,w,x,C,u]);return null==E?null:e.createElement(Qg.Provider,{value:f},e.createElement($g.Provider,{children:o,value:E}))}function yv(t){var n=t.children,r=t.location,a=e.useContext(Zg);return function(t,n){rv()||cg(!1);var r,a=e.useContext(Qg).navigator,o=e.useContext(Yg),i=e.useContext(ev).matches,s=i[i.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,av());if(n){var d,h="string"===typeof n?mg(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||cg(!1),r=h}else r=c;var f=r.pathname||"/",p=vg(t,{pathname:"/"===l?f:f.slice(l.length)||"/"}),m=hv(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Mg([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Mg([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),i,o||void 0);return n&&m?e.createElement($g.Provider,{value:{location:nv({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:ng.Pop}},m):m}(a&&!n?a.router.routes:wv(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(mv||(mv={}));var bv=new Promise((function(){}));e.Component;function wv(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,a){if(e.isValidElement(t)){var o=[].concat((0,$m.Z)(n),[a]);if(t.type!==e.Fragment){t.type!==gv&&cg(!1),t.props.index&&t.props.children&&cg(!1);var i={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=wv(t.props.children,o)),r.push(i)}else r.push.apply(r,wv(t.props.children,o))}})),r}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(this,arguments)}function xv(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var kv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Cv=["aria-current","caseSensitive","className","end","style","to","children"];function Ev(t){var n,r=t.basename,a=t.children,o=t.window,i=e.useRef();null==i.current&&(i.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),gg((function(e,t){var n=e.location;return fg("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:pg(t)}),null,n)));var s=i.current,u=e.useState({action:s.action,location:s.location}),l=(0,Qm.Z)(u,2),c=l[0],d=l[1];return e.useLayoutEffect((function(){return s.listen(d)}),[s]),e.createElement(vv,{basename:r,children:a,location:c.location,navigationType:c.action,navigator:s})}var Sv="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iv=e.forwardRef((function(t,n){var r,a=t.onClick,o=t.relative,i=t.reloadDocument,s=t.replace,u=t.state,l=t.target,c=t.to,d=t.preventScrollReset,h=xv(t,kv),f=e.useContext(Qg).basename,p=!1;if("string"===typeof c&&Av.test(c)&&(r=c,Sv)){var m=new URL(window.location.href),g=c.startsWith("//")?new URL(m.protocol+c):new URL(c),v=Tg(g.pathname,f);g.origin===m.origin&&null!=v?c=v+g.search+g.hash:p=!0}var y=function(t,n){var r=(void 0===n?{}:n).relative;rv()||cg(!1);var a=e.useContext(Qg),o=a.basename,i=a.navigator,s=iv(t,{relative:r}),u=s.hash,l=s.pathname,c=s.search,d=l;return"/"!==o&&(d="/"===l?o:Mg([o,l])),i.createHref({pathname:d,search:c,hash:u})}(c,{relative:o}),b=function(t,n){var r=void 0===n?{}:n,a=r.target,o=r.replace,i=r.state,s=r.preventScrollReset,u=r.relative,l=ov(),c=av(),d=iv(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,a)){e.preventDefault();var n=void 0!==o?o:pg(c)===pg(d);l(t,{replace:n,state:i,preventScrollReset:s,relative:u})}}),[c,l,d,o,i,a,t,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:d,relative:o});return e.createElement("a",_v({},h,{href:r||y,onClick:p||i?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:n,target:l}))}));var Rv=e.forwardRef((function(t,n){var r=t["aria-current"],a=void 0===r?"page":r,o=t.caseSensitive,i=void 0!==o&&o,s=t.className,u=void 0===s?"":s,l=t.end,c=void 0!==l&&l,d=t.style,h=t.to,f=t.children,p=xv(t,Cv),m=iv(h,{relative:p.relative}),g=av(),v=e.useContext(Yg),y=e.useContext(Qg).navigator,b=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,w=g.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase());var x,k=w===b||!c&&w.startsWith(b)&&"/"===w.charAt(b.length),C=null!=_&&(_===b||!c&&_.startsWith(b)&&"/"===_.charAt(b.length)),E=k?a:void 0;x="function"===typeof u?u({isActive:k,isPending:C}):[u,k?"active":null,C?"pending":null].filter(Boolean).join(" ");var S="function"===typeof d?d({isActive:k,isPending:C}):d;return e.createElement(Iv,_v({},p,{"aria-current":E,className:x,ref:n,style:S,to:h}),"function"===typeof f?f({isActive:k,isPending:C}):f)}));var zv,Tv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(zv||(zv={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Tv||(Tv={}));var Nv=e.createContext({language:"en",setLanguage:function(){},tour:"castle",setTour:function(){},room:"1",setRoom:function(){},house:"rederns",setHouse:function(){},owner:"1",setOwner:function(){},"font-size":"d",setFontSize:function(){},gallery_tour:"castle",setGalleryTour:function(){},image_recognition_name:"",setImageRecognitionName:function(){},image_recognition_img:"",setImageRecognitionImg:function(){}}),Ov=n(5172),Dv=n(184);var Mv=function(){var t=(0,e.useContext)(Nv),n=(new Jm).getLanguages(),r=(0,e.useState)(!1),a=(0,Qm.Z)(r,2),o=a[0],i=a[1];return(0,Dv.jsxs)("div",{className:"dropdown-box text-transform-primary",children:[(0,Dv.jsxs)("div",{className:"dropdown-button text-transform-primary cursor-primary flex-secondary align-items-primary",onClick:function(){return i(!o)},children:[(0,Dv.jsx)("div",{className:"dropdown-padding font-size-medium",children:t.language}),(0,Dv.jsx)(Ov.Z,{className:"dropdown-icon"})]}),(0,Dv.jsx)("ul",{className:o?"dropdown display-block":"dropdown",children:n.map((function(e){return(0,Dv.jsx)("li",{className:"dropdown-item cursor-primary font-size-medium",onClick:function(){return function(e){i(!o),t.setLanguage(e)}(e)},children:e},e)}))})]})},Pv=n(7462),Fv=n(3366);function jv(e,t){if(null==e)return{};var n,r,a=(0,Fv.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Bv=n(4942),Lv=n(8182),Wv=n(2110),Gv=n.n(Wv),Hv="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv="object"===("undefined"===typeof window?"undefined":Hv(window))&&"object"===("undefined"===typeof document?"undefined":Hv(document))&&9===document.nodeType;function Uv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}var qv={}.constructor;function Kv(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(Kv);if(e.constructor!==qv)return e;var t={};for(var n in e)t[n]=Kv(e[n]);return t}function Xv(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,a=Kv(t),o=r.plugins.onCreateRule(e,a,n);return o||(e[0],null)}var Zv=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Yv=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=Zv(e[n]," ");else t=Zv(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function Jv(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Qv(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function $v(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var a=n.indent,o=void 0===a?0:a,i=t.fallbacks;!1===n.format&&(o=-1/0);var s=Jv(n),u=s.linebreak,l=s.space;if(e&&o++,i)if(Array.isArray(i))for(var c=0;c<i.length;c++){var d=i[c];for(var h in d){var f=d[h];null!=f&&(r&&(r+=u),r+=Qv(h+":"+l+Yv(f)+";",o))}}else for(var p in i){var m=i[p];null!=m&&(r&&(r+=u),r+=Qv(p+":"+l+Yv(m)+";",o))}for(var g in t){var v=t[g];null!=v&&"fallbacks"!==g&&(r&&(r+=u),r+=Qv(g+":"+l+Yv(v)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),Qv(""+e+l+"{"+r,--o)+Qv("}",o)):r}var ey=/([[\].#*$><+~=|^:(),"'`\s])/g,ty="undefined"!==typeof CSS&&CSS.escape,ny=function(e){return ty?ty(e):e.replace(ey,"\\$1")},ry=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,a=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:a&&(this.renderer=new a)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var a=t;n&&!1===n.process||(a=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==a||!1===a,i=e in this.style;if(o&&!i&&!r)return this;var s=o&&i;if(s?delete this.style[e]:this.style[e]=a,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,a),this;var u=this.options.sheet;return u&&u.attached,this},e}(),ay=function(e){function t(t,n,r){var a;a=e.call(this,t,n,r)||this;var o=r.selector,i=r.scoped,s=r.sheet,u=r.generateId;return o?a.selectorText=o:!1!==i&&(a.id=u(f(f(a)),s),a.selectorText="."+ny(a.id)),a}Uv(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Yv(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,Pv.Z)({},e,{allowEmpty:!0}):e;return $v(this.selectorText,this.style,n)},s(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(ry),oy={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new ay(e,t,n)}},iy={indent:1,children:!0},sy=/@([\w-]+)/,uy=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(sy);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Ny((0,Pv.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=iy);var t=Jv(e).linebreak;if(null==e.indent&&(e.indent=iy.indent),null==e.children&&(e.children=iy.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),ly=/@container|@media|@supports\s+/,cy={onCreateRule:function(e,t,n){return ly.test(e)?new uy(e,t,n):null}},dy={indent:1,children:!0},hy=/@keyframes\s+([\w-]+)/,fy=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(hy);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,i=n.generateId;for(var s in this.id=!1===a?this.name:ny(i(this,o)),this.rules=new Ny((0,Pv.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,Pv.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=dy);var t=Jv(e).linebreak;if(null==e.indent&&(e.indent=dy.indent),null==e.children&&(e.children=dy.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),py=/@keyframes\s+/,my=/\$([\w-]+)/g,gy=function(e,t){return"string"===typeof e?e.replace(my,(function(e,n){return n in t?t[n]:e})):e},vy=function(e,t,n){var r=e[t],a=gy(r,n);a!==r&&(e[t]=a)},yy={onCreateRule:function(e,t,n){return"string"===typeof e&&py.test(e)?new fy(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&vy(e,"animation-name",n.keyframes),"animation"in e&&vy(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return gy(e,r.keyframes);default:return e}}},by=function(e){function t(){return e.apply(this,arguments)||this}return Uv(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,Pv.Z)({},e,{allowEmpty:!0}):e;return $v(this.key,this.style,n)},t}(ry),wy={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new by(e,t,n):null}},_y=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Jv(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=$v(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return $v(this.at,this.style,e)},e}(),xy=/@font-face/,ky={onCreateRule:function(e,t,n){return xy.test(e)?new _y(e,t,n):null}},Cy=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return $v(this.key,this.style,e)},e}(),Ey={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Cy(e,t,n):null}},Sy=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ay={"@charset":!0,"@import":!0,"@namespace":!0},Iy={onCreateRule:function(e,t,n){return e in Ay?new Sy(e,t,n):null}},Ry=[oy,cy,yy,wy,ky,Ey,Iy],zy={process:!0},Ty={force:!0,process:!0},Ny=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,i=r.jss,s=r.Renderer,u=r.generateId,l=r.scoped,c=(0,Pv.Z)({classes:this.classes,parent:a,sheet:o,jss:i,Renderer:s,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(c.selector="."+ny(this.classes[d]));var h=Xv(d,t,c);if(!h)return null;this.register(h);var f=void 0===c.index?this.index.length:c.index;return this.index.splice(f,0,h),h},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,Pv.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof ay?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof fy&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof ay?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof fy&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=zy);var a=this.options,o=a.jss.plugins,i=a.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,i,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,i),t.style){var l=t.style[u];l!==s[u]&&t.prop(u,l,Ty)}for(var c in s){var d=t.style[c],h=s[c];null==d&&d!==h&&t.prop(c,null,Ty)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,a=Jv(e).linebreak,o=0;o<this.index.length;o++){var i=this.index[o].toString(e);(i||r)&&(t&&(t+=a),t+=i)}return t},e}(),Oy=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,Pv.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Ny(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var a=this.rules.add(e,t,n);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(r?r.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),a):a:(this.deployed=!1,a)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var a=this.rules.replace(e,t,n);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(this.renderer&&(a?r.renderable&&this.renderer.replaceRule(r.renderable,a):this.renderer.deleteRule(r)),a):a:(this.deployed=!1,a)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var a=this.addRule(r,e[r],t);a&&n.push(a)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Dy=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var a=this.registry.onCreateRule[r](e,t,n);if(a)return a}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,a=0;a<this.registry.onChangeValue.length;a++)r=this.registry.onChangeValue[a](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),My=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,Fv.Z)(t,["attached"]),a=Jv(r).linebreak,o="",i=0;i<this.registry.length;i++){var s=this.registry[i];null!=n&&s.attached!==n||(o&&(o+=a),o+=s.toString(r))}return o},s(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Py=new My,Fy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),jy="2f1acc6c3a606b082e5eef5e54414ffb";null==Fy[jy]&&(Fy[jy]=0);var By=Fy[jy]++,Ly=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var a="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(a=String(r.options.jss.id))),e.minify?""+(o||"c")+By+a+t:o+n.key+"-"+By+(a?"-"+a:"")+"-"+t}},Wy=function(e){var t;return function(){return t||(t=e()),t}},Gy=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Hy=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Yv(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var a=r?r.indexOf("!important"):-1,o=a>-1?r.substr(0,a-1):r;e.style.setProperty(t,o,a>-1?"important":"")}}catch(i){return!1}return!0},Vy=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Uy=function(e,t){return e.selectorText=t,e.selectorText===t},qy=Wy((function(){return document.querySelector("head")}));function Ky(e){var t=Py.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var a=function(e){for(var t=qy(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(a)return{parent:a.parentNode,node:a.nextSibling}}return!1}var Xy=Wy((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Zy=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Yy=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Jy=function(){function e(e){this.getPropertyValue=Gy,this.setProperty=Hy,this.removeProperty=Vy,this.setSelector=Uy,this.hasInsertedRules=!1,this.cssRules=[],e&&Py.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,a=t.element;this.element=a||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=Xy();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ky(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var a=n,o=a.parentNode;o&&o.insertBefore(e,a.nextSibling)}else qy().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,a=n;if("conditional"===e.type||"keyframes"===e.type){var o=Yy(n,t);if(!1===(a=Zy(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,a)}return this.insertRules(r.rules,a),a}var i=e.toString();if(!i)return!1;var s=Yy(n,t),u=Zy(n,i,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Oy&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Qy=0,$y=function(){function e(e){this.id=Qy++,this.version="10.10.0",this.plugins=new Dy,this.options={id:{minify:!1},createGenerateId:Ly,Renderer:Vv?Jy:null,plugins:[]},this.generateId=Ly({minify:!1});for(var t=0;t<Ry.length;t++)this.plugins.use(Ry[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,Pv.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Py.index?0:Py.index+1);var r=new Oy(e,(0,Pv.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Py.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,Pv.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=Xv(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),eb=function(e){return new $y(e)},tb="object"===typeof CSS&&null!=CSS&&"number"in CSS;function nb(e){var t=null;for(var n in e){var r=e[n],a=typeof r;if("function"===a)t||(t={}),t[n]=r;else if("object"===a&&null!==r&&!Array.isArray(r)){var o=nb(r);o&&(t||(t={}),t[n]=o)}}return t}eb();function rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,Pv.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var ab={set:function(e,t,n,r){var a=e.get(t);a||(a=new Map,e.set(t,a)),a.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},ob=ab;var ib=e.createContext(null);function sb(){return e.useContext(ib)}var ub="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",lb=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var cb=Date.now(),db="fnValues"+cb,hb="fnStyle"+ ++cb,fb=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=Xv(e,{},n);return r[hb]=t,r},onProcessStyle:function(e,t){if(db in t||hb in t)return e;var n={};for(var r in e){var a=e[r];"function"===typeof a&&(delete e[r],n[r]=a)}return t[db]=n,e},onUpdate:function(e,t,n,r){var a=t,o=a[hb];o&&(a.style=o(e)||{});var i=a[db];if(i)for(var s in i)a.prop(s,i[s](e),r)}}},pb="@global",mb="@global ",gb=function(){function e(e,t,n){for(var r in this.type="global",this.at=pb,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Ny((0,Pv.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),vb=function(){function e(e,t,n){this.type="global",this.at=pb,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(mb.length);this.rule=n.jss.createRule(r,t,(0,Pv.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),yb=/\s*,\s*/g;function bb(e,t){for(var n=e.split(yb),r="",a=0;a<n.length;a++)r+=t+" "+n[a].trim(),n[a+1]&&(r+=", ");return r}var wb=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===pb)return new gb(e,t,n);if("@"===e[0]&&e.substr(0,mb.length)===mb)return new vb(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[pb]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,Pv.Z)({},n,{selector:bb(o,e.selector)}));delete r[pb]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,pb.length)===pb){var o=bb(a.substr(pb.length),e.selector);t.addRule(o,r[a],(0,Pv.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},_b=/\s*,\s*/g,xb=/&/g,kb=/\$([\w-]+)/g;var Cb=function(){function e(e,t){return function(n,r){var a=e.getRule(r)||t&&t.getRule(r);return a?a.selector:r}}function t(e,t){for(var n=t.split(_b),r=e.split(_b),a="",o=0;o<n.length;o++)for(var i=n[o],s=0;s<r.length;s++){var u=r[s];a&&(a+=", "),a+=-1!==u.indexOf("&")?u.replace(xb,i):i+" "+u}return a}function n(e,t,n){if(n)return(0,Pv.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,Pv.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var i,s,u=a,l=u.options.parent;for(var c in r){var d=-1!==c.indexOf("&"),h="@"===c[0];if(d||h){if(i=n(u,l,i),d){var f=t(c,u.selector);s||(s=e(l,o)),f=f.replace(kb,s);var p=u.key+"-"+c;"replaceRule"in l?l.replaceRule(p,r[c],(0,Pv.Z)({},i,{selector:f})):l.addRule(p,r[c],(0,Pv.Z)({},i,{selector:f}))}else h&&l.addRule(c,{},i).addRule(u.key,r[c],{selector:u.selector});delete r[c]}}return r}}},Eb=/[A-Z]/g,Sb=/^ms-/,Ab={};function Ib(e){return"-"+e.toLowerCase()}var Rb=function(e){if(Ab.hasOwnProperty(e))return Ab[e];var t=e.replace(Eb,Ib);return Ab[e]=Sb.test(t)?"-"+t:t};function zb(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Rb(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(zb):t.fallbacks=zb(e.fallbacks)),t}var Tb=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=zb(e[t]);return e}return zb(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Rb(t);return t===r?e:(n.prop(r,e),null)}}},Nb=tb&&CSS?CSS.px:"px",Ob=tb&&CSS?CSS.ms:"ms",Db=tb&&CSS?CSS.percent:"%";function Mb(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var a in e)r[a]=e[a],r[a.replace(t,n)]=e[a];return r}var Pb=Mb({"animation-delay":Ob,"animation-duration":Ob,"background-position":Nb,"background-position-x":Nb,"background-position-y":Nb,"background-size":Nb,border:Nb,"border-bottom":Nb,"border-bottom-left-radius":Nb,"border-bottom-right-radius":Nb,"border-bottom-width":Nb,"border-left":Nb,"border-left-width":Nb,"border-radius":Nb,"border-right":Nb,"border-right-width":Nb,"border-top":Nb,"border-top-left-radius":Nb,"border-top-right-radius":Nb,"border-top-width":Nb,"border-width":Nb,"border-block":Nb,"border-block-end":Nb,"border-block-end-width":Nb,"border-block-start":Nb,"border-block-start-width":Nb,"border-block-width":Nb,"border-inline":Nb,"border-inline-end":Nb,"border-inline-end-width":Nb,"border-inline-start":Nb,"border-inline-start-width":Nb,"border-inline-width":Nb,"border-start-start-radius":Nb,"border-start-end-radius":Nb,"border-end-start-radius":Nb,"border-end-end-radius":Nb,margin:Nb,"margin-bottom":Nb,"margin-left":Nb,"margin-right":Nb,"margin-top":Nb,"margin-block":Nb,"margin-block-end":Nb,"margin-block-start":Nb,"margin-inline":Nb,"margin-inline-end":Nb,"margin-inline-start":Nb,padding:Nb,"padding-bottom":Nb,"padding-left":Nb,"padding-right":Nb,"padding-top":Nb,"padding-block":Nb,"padding-block-end":Nb,"padding-block-start":Nb,"padding-inline":Nb,"padding-inline-end":Nb,"padding-inline-start":Nb,"mask-position-x":Nb,"mask-position-y":Nb,"mask-size":Nb,height:Nb,width:Nb,"min-height":Nb,"max-height":Nb,"min-width":Nb,"max-width":Nb,bottom:Nb,left:Nb,top:Nb,right:Nb,inset:Nb,"inset-block":Nb,"inset-block-end":Nb,"inset-block-start":Nb,"inset-inline":Nb,"inset-inline-end":Nb,"inset-inline-start":Nb,"box-shadow":Nb,"text-shadow":Nb,"column-gap":Nb,"column-rule":Nb,"column-rule-width":Nb,"column-width":Nb,"font-size":Nb,"font-size-delta":Nb,"letter-spacing":Nb,"text-decoration-thickness":Nb,"text-indent":Nb,"text-stroke":Nb,"text-stroke-width":Nb,"word-spacing":Nb,motion:Nb,"motion-offset":Nb,outline:Nb,"outline-offset":Nb,"outline-width":Nb,perspective:Nb,"perspective-origin-x":Db,"perspective-origin-y":Db,"transform-origin":Db,"transform-origin-x":Db,"transform-origin-y":Db,"transform-origin-z":Db,"transition-delay":Ob,"transition-duration":Ob,"vertical-align":Nb,"flex-basis":Nb,"shape-margin":Nb,size:Nb,gap:Nb,grid:Nb,"grid-gap":Nb,"row-gap":Nb,"grid-row-gap":Nb,"grid-column-gap":Nb,"grid-template-rows":Nb,"grid-template-columns":Nb,"grid-auto-rows":Nb,"grid-auto-columns":Nb,"box-shadow-x":Nb,"box-shadow-y":Nb,"box-shadow-blur":Nb,"box-shadow-spread":Nb,"font-line-height":Nb,"text-shadow-x":Nb,"text-shadow-y":Nb,"text-shadow-blur":Nb});function Fb(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Fb(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=Fb(a,t[a],n);else for(var o in t)t[o]=Fb(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var i=n[e]||Pb[e];return!i||0===t&&i===Nb?t.toString():"function"===typeof i?i(t).toString():""+t+i}return t}var jb=function(e){void 0===e&&(e={});var t=Mb(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Fb(r,e[r],t);return e},onChangeValue:function(e,n){return Fb(n,e,t)}}},Bb="",Lb="",Wb="",Gb="",Hb=Vv&&"ontouchstart"in document.documentElement;if(Vv){var Vb={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Ub=document.createElement("p").style;for(var qb in Vb)if(qb+"Transform"in Ub){Bb=qb,Lb=Vb[qb];break}"Webkit"===Bb&&"msHyphens"in Ub&&(Bb="ms",Lb=Vb.ms,Gb="edge"),"Webkit"===Bb&&"-apple-trailing-word"in Ub&&(Wb="apple")}var Kb={js:Bb,css:Lb,vendor:Wb,browser:Gb,isTouch:Hb};var Xb={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Kb.js?"-webkit-"+e:Kb.css+e)}},Zb={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Kb.js?Kb.css+"print-"+e:e)}},Yb=/[-\s]+(.)?/g;function Jb(e,t){return t?t.toUpperCase():""}function Qb(e){return e.replace(Yb,Jb)}function $b(e){return Qb("-"+e)}var ew,tw={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Kb.js){var n="mask-image";if(Qb(n)in t)return e;if(Kb.js+$b(n)in t)return Kb.css+e}return e}},nw={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Kb.vendor||Kb.isTouch?e:Kb.css+e)}},rw={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Kb.css+e)}},aw={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Kb.css+e)}},ow={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Kb.js||"ms"===Kb.js&&"edge"!==Kb.browser?Kb.css+e:e)}},iw={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Kb.js||"ms"===Kb.js||"apple"===Kb.vendor?Kb.css+e:e)}},sw={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Kb.js?"WebkitColumn"+$b(e)in t&&Kb.css+"column-"+e:"Moz"===Kb.js&&("page"+$b(e)in t&&"page-"+e))}},uw={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Kb.js)return e;var n=e.replace("-inline","");return Kb.js+$b(n)in t&&Kb.css+n}},lw={supportedProperty:function(e,t){return Qb(e)in t&&e}},cw={supportedProperty:function(e,t){var n=$b(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Kb.js+n in t?Kb.css+e:"Webkit"!==Kb.js&&"Webkit"+n in t&&"-webkit-"+e}},dw={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Kb.js?""+Kb.css+e:e)}},hw={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Kb.js?Kb.css+"scroll-chaining":e)}},fw={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},pw={supportedProperty:function(e,t){var n=fw[e];return!!n&&(Kb.js+$b(n)in t&&Kb.css+n)}},mw={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},gw=Object.keys(mw),vw=function(e){return Kb.css+e},yw={supportedProperty:function(e,t,n){var r=n.multiple;if(gw.indexOf(e)>-1){var a=mw[e];if(!Array.isArray(a))return Kb.js+$b(a)in t&&Kb.css+a;if(!r)return!1;for(var o=0;o<a.length;o++)if(!(Kb.js+$b(a[0])in t))return!1;return a.map(vw)}return!1}},bw=[Xb,Zb,tw,nw,rw,aw,ow,iw,sw,uw,lw,cw,dw,hw,pw,yw],ww=bw.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),_w=bw.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,$m.Z)(t.noPrefill)),e}),[]),xw={};if(Vv){ew=document.createElement("p");var kw=window.getComputedStyle(document.documentElement,"");for(var Cw in kw)isNaN(Cw)||(xw[kw[Cw]]=kw[Cw]);_w.forEach((function(e){return delete xw[e]}))}function Ew(e,t){if(void 0===t&&(t={}),!ew)return e;if(null!=xw[e])return xw[e];"transition"!==e&&"transform"!==e||(t[e]=e in ew.style);for(var n=0;n<ww.length&&(xw[e]=ww[n](e,ew.style,t),!xw[e]);n++);try{ew.style[e]=""}catch(r){return!1}return xw[e]}var Sw,Aw={},Iw={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Rw=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function zw(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ew(t):", "+Ew(n);return r||(t||n)}function Tw(e,t){var n=t;if(!Sw||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Aw[r])return Aw[r];try{Sw.style[e]=n}catch(a){return Aw[r]=!1,!1}if(Iw[e])n=n.replace(Rw,zw);else if(""===Sw.style[e]&&("-ms-flex"===(n=Kb.css+n)&&(Sw.style[e]="-ms-flexbox"),Sw.style[e]=n,""===Sw.style[e]))return Aw[r]=!1,!1;return Sw.style[e]="",Aw[r]=n,Aw[r]}Vv&&(Sw=document.createElement("p"));var Nw=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var a=!1,o=Ew(n);o&&o!==n&&(a=!0);var i=!1,s=Tw(o,Yv(r));s&&s!==r&&(i=!0),(a||i)&&(a&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Kb.js?e:"@"+Kb.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Tw(t,Yv(e))||e}}};var Ow=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},a=Object.keys(t).sort(e),o=0;o<a.length;o++)r[a[o]]=t[a[o]];return r}}};var Dw=eb({plugins:[fb(),wb(),Cb(),Tb(),jb(),"undefined"===typeof window?null:Nw(),Ow()]}),Mw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,a=void 0===r?"jss":r,o=e.seed,i=void 0===o?"":o,s=""===i?"":"".concat(i,"-"),u=0,l=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==lb.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[ub]&&""===i?"".concat(o,"-").concat(l()):o}return"".concat(s).concat(a).concat(l())}}(),Pw={disableGeneration:!1,generateClassName:Mw,jss:Dw,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Fw=e.createContext(Pw);var jw=-1e9;function Bw(e){return e&&"object"===(0,h.Z)(e)&&e.constructor===Object}function Lw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,Pv.Z)({},e):e;return Bw(e)&&Bw(t)&&Object.keys(t).forEach((function(a){"__proto__"!==a&&(Bw(t[a])&&a in e?r[a]=Lw(e[a],t[a],n):r[a]=t[a])})),r}var Ww={};function Gw(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,i=e.name;if(!a.disableGeneration){var s=ob.get(a.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},ob.set(a.sheetsManager,o,r,s));var u=(0,Pv.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var l=a.sheetsRegistry;if(0===s.refs){var c;a.sheetsCache&&(c=ob.get(a.sheetsCache,o,r));var d=o.create(r,i);c||((c=a.jss.createStyleSheet(d,(0,Pv.Z)({link:!1},u))).attach(),a.sheetsCache&&ob.set(a.sheetsCache,o,r,c)),l&&l.add(c),s.staticSheet=c,s.dynamicStyles=nb(d)}if(s.dynamicStyles){var h=a.jss.createStyleSheet(s.dynamicStyles,(0,Pv.Z)({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=rb({baseClasses:s.staticSheet.classes,newClasses:h.classes}),l&&l.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function Hw(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,a=n.classNamePrefix,o=n.Component,i=n.defaultTheme,s=void 0===i?Ww:i,u=jv(n,["name","classNamePrefix","Component","defaultTheme"]),l=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],i=(0,Pv.Z)({},a);return Object.keys(o).forEach((function(e){i[e]=Lw(i[e],o[e])})),i},options:{}}}(t),c=r||a||"makeStyles";l.options={index:jw+=1,name:r,meta:c,classNamePrefix:c};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=sb()||s,a=(0,Pv.Z)({},e.useContext(Fw),u),i=e.useRef(),c=e.useRef();!function(t,n){var r,a=e.useRef([]),o=e.useMemo((function(){return{}}),n);a.current!==o&&(a.current=o,r=t()),e.useEffect((function(){return function(){r&&r()}}),[o])}((function(){var e={name:r,state:{},stylesCreator:l,stylesOptions:a,theme:n};return Gw(e,t),c.current=!1,i.current=e,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,a=e.stylesCreator;if(!r.disableGeneration){var o=ob.get(r.sheetsManager,a,n);o.refs-=1;var i=r.sheetsRegistry;0===o.refs&&(ob.delete(r.sheetsManager,a,n),r.jss.removeStyleSheet(o.staticSheet),i&&i.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),i&&i.remove(t.dynamicSheet))}}(e)}}),[n,l]),e.useEffect((function(){c.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(i.current,t),c.current=!0}));var d=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,a=!0),a&&(r.cacheClasses.value=rb({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(i.current,t.classes,o);return d}}function Vw(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var a,o=t.props[n];for(a in o)void 0===r[a]&&(r[a]=o[a]);return r}var Uw=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var a=n.defaultTheme,o=n.withTheme,i=void 0!==o&&o,s=n.name,u=jv(n,["defaultTheme","withTheme","name"]);var l=s,c=Hw(t,(0,Pv.Z)({defaultTheme:a,Component:r,name:s||r.displayName,classNamePrefix:l},u)),d=e.forwardRef((function(t,n){t.classes;var o,u=t.innerRef,l=jv(t,["classes","innerRef"]),d=c((0,Pv.Z)({},r.defaultProps,t)),h=l;return("string"===typeof s||i)&&(o=sb()||a,s&&(h=Vw({theme:o,name:s,props:l})),i&&!h.theme&&(h.theme=o)),e.createElement(r,(0,Pv.Z)({ref:u||n,classes:d},h))}));return Gv()(d,r),d}},qw=["xs","sm","md","lg","xl"];function Kw(e,t,n){var r;return(0,Pv.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,Pv.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,Bv.Z)({},e.up("sm"),(0,Pv.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,Bv.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,Bv.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function Xw(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Zw={black:"#000",white:"#fff"},Yw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Jw={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Qw={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},$w={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},e_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},t_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},n_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function r_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a_(e){if(e.type)return e;if("#"===e.charAt(0))return a_(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Xw(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function o_(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function i_(e){var t="hsl"===(e=a_(e)).type?a_(function(e){var t=(e=a_(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,o=r*Math.min(a,1-a),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),o_({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s_(e,t){return e=a_(e),t=r_(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o_(e)}function u_(e,t){if(e=a_(e),t=r_(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o_(e)}function l_(e,t){if(e=a_(e),t=r_(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o_(e)}var c_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zw.white,default:Yw[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},d_={text:{primary:Zw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Yw[800],default:"#303030"},action:{active:Zw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function h_(e,t,n,r){var a=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=l_(e.main,a):"dark"===t&&(e.dark=u_(e.main,o)))}function f_(e){var t=e.primary,n=void 0===t?{light:Jw[300],main:Jw[500],dark:Jw[700]}:t,r=e.secondary,a=void 0===r?{light:Qw.A200,main:Qw.A400,dark:Qw.A700}:r,o=e.error,i=void 0===o?{light:$w[300],main:$w[500],dark:$w[700]}:o,s=e.warning,u=void 0===s?{light:e_[300],main:e_[500],dark:e_[700]}:s,l=e.info,c=void 0===l?{light:t_[300],main:t_[500],dark:t_[700]}:l,d=e.success,h=void 0===d?{light:n_[300],main:n_[500],dark:n_[700]}:d,f=e.type,p=void 0===f?"light":f,m=e.contrastThreshold,g=void 0===m?3:m,v=e.tonalOffset,y=void 0===v?.2:v,b=jv(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=i_(e),r=i_(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,d_.text.primary)>=g?d_.text.primary:c_.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,Pv.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Xw(4,t));if("string"!==typeof e.main)throw new Error(Xw(5,JSON.stringify(e.main)));return h_(e,"light",n,y),h_(e,"dark",r,y),e.contrastText||(e.contrastText=w(e.main)),e},x={dark:d_,light:c_};return Lw((0,Pv.Z)({common:Zw,type:p,primary:_(n),secondary:_(a,"A400","A200","A700"),error:_(i),warning:_(u),info:_(c),success:_(h),grey:Yw,contrastThreshold:g,getContrastText:w,augmentColor:_,tonalOffset:y},x[p]),b)}function p_(e){return Math.round(1e5*e)/1e5}function m_(e){return p_(e)}var g_={textTransform:"uppercase"},v_='"Roboto", "Helvetica", "Arial", sans-serif';function y_(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?v_:r,o=n.fontSize,i=void 0===o?14:o,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,c=void 0===l?400:l,d=n.fontWeightMedium,h=void 0===d?500:d,f=n.fontWeightBold,p=void 0===f?700:f,m=n.htmlFontSize,g=void 0===m?16:m,v=n.allVariants,y=n.pxToRem,b=jv(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=i/14,_=y||function(e){return"".concat(e/g*w,"rem")},x=function(e,t,n,r,o){return(0,Pv.Z)({fontFamily:a,fontWeight:e,fontSize:_(t),lineHeight:n},a===v_?{letterSpacing:"".concat(p_(r/t),"em")}:{},o,v)},k={h1:x(u,96,1.167,-1.5),h2:x(u,60,1.2,-.5),h3:x(c,48,1.167,0),h4:x(c,34,1.235,.25),h5:x(c,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(c,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(c,16,1.5,.15),body2:x(c,14,1.43,.15),button:x(h,14,1.75,.4,g_),caption:x(c,12,1.66,.4),overline:x(c,12,2.66,1,g_)};return Lw((0,Pv.Z)({htmlFontSize:g,pxToRem:_,round:m_,fontFamily:a,fontSize:i,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:h,fontWeightBold:p},k),b,{clone:!1})}function b_(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var w_=["none",b_(0,2,1,-1,0,1,1,0,0,1,3,0),b_(0,3,1,-2,0,2,2,0,0,1,5,0),b_(0,3,3,-2,0,3,4,0,0,1,8,0),b_(0,2,4,-1,0,4,5,0,0,1,10,0),b_(0,3,5,-1,0,5,8,0,0,1,14,0),b_(0,3,5,-1,0,6,10,0,0,1,18,0),b_(0,4,5,-2,0,7,10,1,0,2,16,1),b_(0,5,5,-3,0,8,10,1,0,3,14,2),b_(0,5,6,-3,0,9,12,1,0,3,16,2),b_(0,6,6,-3,0,10,14,1,0,4,18,3),b_(0,6,7,-4,0,11,15,1,0,4,20,3),b_(0,7,8,-4,0,12,17,2,0,5,22,4),b_(0,7,8,-4,0,13,19,2,0,5,24,4),b_(0,7,9,-4,0,14,21,2,0,5,26,4),b_(0,8,9,-5,0,15,22,2,0,6,28,5),b_(0,8,10,-5,0,16,24,2,0,6,30,5),b_(0,8,11,-5,0,17,26,2,0,6,32,5),b_(0,9,11,-5,0,18,28,2,0,7,34,6),b_(0,9,12,-6,0,19,29,2,0,7,36,6),b_(0,10,13,-6,0,20,31,3,0,8,38,7),b_(0,10,13,-6,0,21,33,3,0,8,40,7),b_(0,10,14,-6,0,22,35,3,0,8,42,7),b_(0,11,14,-7,0,23,36,3,0,9,44,8),b_(0,11,15,-7,0,24,38,3,0,9,46,8)],__={borderRadius:4},x_={xs:0,sm:600,md:960,lg:1280,xl:1920},k_={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(x_[e],"px)")}};var C_=function(e,t){return t?Lw(e,t,{clone:!1}):e};var E_={m:"margin",p:"padding"},S_={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},A_={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},I_=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!A_[e])return[e];e=A_[e]}var t=e.split(""),n=(0,Qm.Z)(t,2),r=n[0],a=n[1],o=E_[r],i=S_[a]||"";return Array.isArray(i)?i.map((function(e){return o+e})):[o+i]})),R_=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function z_(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function T_(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function N_(e){var t=z_(e.theme);return Object.keys(e).map((function(n){if(-1===R_.indexOf(n))return null;var r=T_(I_(n),t),a=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||k_;return t.reduce((function(e,a,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===(0,h.Z)(t)){var a=e.theme.breakpoints||k_;return Object.keys(t).reduce((function(e,r){return e[a.up(r)]=n(t[r]),e}),{})}return n(t)}(e,a,r)})).reduce(C_,{})}N_.propTypes={},N_.filterProps=R_;var O_={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D_={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M_(e){return"".concat(Math.round(e),"ms")}var P_={easing:O_,duration:D_,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?D_.standard:n,a=t.easing,o=void 0===a?O_.easeInOut:a,i=t.delay,s=void 0===i?0:i;jv(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:M_(r)," ").concat(o," ").concat("string"===typeof s?s:M_(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},F_={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function j_(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,o=e.palette,i=void 0===o?{}:o,s=e.spacing,u=e.typography,l=void 0===u?{}:u,c=jv(e,["breakpoints","mixins","palette","spacing","typography"]),d=f_(i),h=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,o=e.step,i=void 0===o?5:o,s=jv(e,["values","unit","step"]);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function l(e,t){var r=qw.indexOf(t);return r===qw.length-1?u(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[qw[r+1]]?n[qw[r+1]]:t)-i/100).concat(a,")")}return(0,Pv.Z)({keys:qw,values:n,up:u,down:function(e){var t=qw.indexOf(e)+1,r=n[qw[t]];return t===qw.length?u("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-i/100).concat(a,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},s)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=z_({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(s),p=Lw({breakpoints:h,direction:"ltr",mixins:Kw(h,f,a),overrides:{},palette:d,props:{},shadows:w_,typography:y_(d,l),spacing:f,shape:__,transitions:P_,zIndex:F_},c),m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];return p=g.reduce((function(e,t){return Lw(e,t)}),p)}var B_=j_();var L_=function(e,t){return Uw(e,(0,Pv.Z)({defaultTheme:B_},t))};function W_(e){if("string"!==typeof e)throw new Error(Xw(7));return e.charAt(0).toUpperCase()+e.slice(1)}var G_=n(4164);function H_(e){return e&&e.ownerDocument||document}function V_(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function U_(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){V_(t,e),V_(n,e)}}),[t,n])}var q_="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;var K_=e.forwardRef((function(t,n){var r=t.children,a=t.container,o=t.disablePortal,i=void 0!==o&&o,s=t.onRendered,u=e.useState(null),l=u[0],c=u[1],d=U_(e.isValidElement(r)?r.ref:null,n);return q_((function(){i||c(function(e){return e="function"===typeof e?e():e,G_.findDOMNode(e)}(a)||document.body)}),[a,i]),q_((function(){if(l&&!i)return V_(n,l),function(){V_(n,null)}}),[n,l,i]),q_((function(){s&&(l||i)&&s()}),[s,l,i]),i?e.isValidElement(r)?e.cloneElement(r,{ref:d}):r:l?G_.createPortal(r,l):l}));function X_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Z_="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function Y_(t){var n=e.useRef(t);return Z_((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function J_(e){var t,n=H_(e);return n.body===e?(t=n,H_(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Q_(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function $_(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function ex(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,$m.Z)(r)),i=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===i.indexOf(e.tagName)&&Q_(e,a)}))}function tx(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function nx(e,t){var n,r=[],a=[],o=e.container;if(!t.disableScrollLock){if(J_(o)){var i=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat($_(o)+i,"px"),n=H_(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){a.push(e.style.paddingRight),e.style.paddingRight="".concat($_(e)+i,"px")}))}var s=o.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){a[t]?e.style.paddingRight=a[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var rx=function(){function e(){a(this,e),this.modals=[],this.containers=[]}return s(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Q_(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ex(t,e.mountNode,e.modalRef,r,!0);var a=tx(this.containers,(function(e){return e.container===t}));return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=tx(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=nx(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=tx(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Q_(e.modalRef,!0),ex(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var a=r.modals[r.modals.length-1];a.modalRef&&Q_(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var ax=function(t){var n=t.children,r=t.disableAutoFocus,a=void 0!==r&&r,o=t.disableEnforceFocus,i=void 0!==o&&o,s=t.disableRestoreFocus,u=void 0!==s&&s,l=t.getDoc,c=t.isEnabled,d=t.open,h=e.useRef(),f=e.useRef(null),p=e.useRef(null),m=e.useRef(),g=e.useRef(null),v=e.useCallback((function(e){g.current=G_.findDOMNode(e)}),[]),y=U_(n.ref,v),b=e.useRef();return e.useEffect((function(){b.current=d}),[d]),!b.current&&d&&"undefined"!==typeof window&&(m.current=l().activeElement),e.useEffect((function(){if(d){var e=H_(g.current);a||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!i&&c()&&!h.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():h.current=!1)},n=function(t){!i&&c()&&9===t.keyCode&&e.activeElement===g.current&&(h.current=!0,t.shiftKey?p.current.focus():f.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[a,i,u,c,d]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelStart"}),e.cloneElement(n,{ref:y}),e.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},ox={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},ix=e.forwardRef((function(t,n){var r=t.invisible,a=void 0!==r&&r,o=t.open,i=jv(t,["invisible","open"]);return o?e.createElement("div",(0,Pv.Z)({"aria-hidden":!0,ref:n},i,{style:(0,Pv.Z)({},ox.root,a?ox.invisible:{},i.style)})):null}));var sx=new rx,ux=e.forwardRef((function(t,n){var r=sb(),a=Vw({name:"MuiModal",props:(0,Pv.Z)({},t),theme:r}),o=a.BackdropComponent,i=void 0===o?ix:o,s=a.BackdropProps,u=a.children,l=a.closeAfterTransition,c=void 0!==l&&l,d=a.container,h=a.disableAutoFocus,f=void 0!==h&&h,p=a.disableBackdropClick,m=void 0!==p&&p,g=a.disableEnforceFocus,v=void 0!==g&&g,y=a.disableEscapeKeyDown,b=void 0!==y&&y,w=a.disablePortal,_=void 0!==w&&w,x=a.disableRestoreFocus,k=void 0!==x&&x,C=a.disableScrollLock,E=void 0!==C&&C,S=a.hideBackdrop,A=void 0!==S&&S,I=a.keepMounted,R=void 0!==I&&I,z=a.manager,T=void 0===z?sx:z,N=a.onBackdropClick,O=a.onClose,D=a.onEscapeKeyDown,M=a.onRendered,P=a.open,F=jv(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),j=e.useState(!0),B=j[0],L=j[1],W=e.useRef({}),G=e.useRef(null),H=e.useRef(null),V=U_(H,n),U=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(a),q=function(){return H_(G.current)},K=function(){return W.current.modalRef=H.current,W.current.mountNode=G.current,W.current},X=function(){T.mount(K(),{disableScrollLock:E}),H.current.scrollTop=0},Z=Y_((function(){var e=function(e){return e="function"===typeof e?e():e,G_.findDOMNode(e)}(d)||q().body;T.add(K(),e),H.current&&X()})),Y=e.useCallback((function(){return T.isTopModal(K())}),[T]),J=Y_((function(e){G.current=e,e&&(M&&M(),P&&Y()?X():Q_(H.current,!0))})),Q=e.useCallback((function(){T.remove(K())}),[T]);if(e.useEffect((function(){return function(){Q()}}),[Q]),e.useEffect((function(){P?Z():U&&c||Q()}),[P,Q,U,c,Z]),!R&&!P&&(!U||B))return null;var $=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:F_}),ee={};return void 0===u.props.tabIndex&&(ee.tabIndex=u.props.tabIndex||"-1"),U&&(ee.onEnter=X_((function(){L(!1)}),u.props.onEnter),ee.onExited=X_((function(){L(!0),c&&Q()}),u.props.onExited)),e.createElement(K_,{ref:J,container:d,disablePortal:_},e.createElement("div",(0,Pv.Z)({ref:V,onKeyDown:function(e){"Escape"===e.key&&Y()&&(D&&D(e),b||(e.stopPropagation(),O&&O(e,"escapeKeyDown")))},role:"presentation"},F,{style:(0,Pv.Z)({},$.root,!P&&B?$.hidden:{},F.style)}),A?null:e.createElement(i,(0,Pv.Z)({open:P,onClick:function(e){e.target===e.currentTarget&&(N&&N(e),!m&&O&&O(e,"backdropClick"))}},s)),e.createElement(ax,{disableEnforceFocus:v,disableAutoFocus:f,disableRestoreFocus:k,getDoc:q,isEnabled:Y,open:P},e.cloneElement(u,ee))))})),lx=!1,cx=e.createContext(null),dx="unmounted",hx="exited",fx="entering",px="entered",mx="exiting",gx=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var a,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(a=hx,r.appearStatus=fx):a=px:a=e.unmountOnExit||e.mountOnEnter?dx:hx,r.state={status:a},r.nextCallback=null,r}Uv(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===dx?{status:hx}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==fx&&n!==px&&(t=fx):n!==fx&&n!==px||(t=mx)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===fx){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:G_.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hx&&this.setState({status:dx})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[G_.findDOMNode(this),r],o=a[0],i=a[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||lx?this.safeSetState({status:px},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,i),this.safeSetState({status:fx},(function(){t.props.onEntering(o,i),t.onTransitionEnd(u,(function(){t.safeSetState({status:px},(function(){t.props.onEntered(o,i)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:G_.findDOMNode(this);t&&!lx?(this.props.onExit(r),this.safeSetState({status:mx},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:hx},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:hx},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:G_.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],i=a[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===dx)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,Fv.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(cx.Provider,{value:null},"function"===typeof r?r(t,a):e.cloneElement(e.Children.only(r),a))},n}(e.Component);function vx(){}gx.contextType=cx,gx.propTypes={},gx.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vx,onEntering:vx,onEntered:vx,onExit:vx,onExiting:vx,onExited:vx},gx.UNMOUNTED=dx,gx.EXITED=hx,gx.ENTERING=fx,gx.ENTERED=px,gx.EXITING=mx;var yx=gx;function bx(e,t){var n=e.timeout,r=e.style,a=void 0===r?{}:r;return{duration:a.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:a.transitionDelay}}var wx={entering:{opacity:1},entered:{opacity:1}},_x={enter:D_.enteringScreen,exit:D_.leavingScreen},xx=e.forwardRef((function(t,n){var r=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,i=t.in,s=t.onEnter,u=t.onEntered,l=t.onEntering,c=t.onExit,d=t.onExited,h=t.onExiting,f=t.style,p=t.TransitionComponent,m=void 0===p?yx:p,g=t.timeout,v=void 0===g?_x:g,y=jv(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),b=sb()||B_,w=b.unstable_strictMode&&!o,_=e.useRef(null),x=U_(r.ref,n),k=U_(w?_:void 0,x),C=function(e){return function(t,n){if(e){var r=w?[_.current,t]:[t,n],a=(0,Qm.Z)(r,2),o=a[0],i=a[1];void 0===i?e(o):e(o,i)}}},E=C(l),S=C((function(e,t){!function(e){e.scrollTop}(e);var n=bx({style:f,timeout:v},{mode:"enter"});e.style.webkitTransition=b.transitions.create("opacity",n),e.style.transition=b.transitions.create("opacity",n),s&&s(e,t)})),A=C(u),I=C(h),R=C((function(e){var t=bx({style:f,timeout:v},{mode:"exit"});e.style.webkitTransition=b.transitions.create("opacity",t),e.style.transition=b.transitions.create("opacity",t),c&&c(e)})),z=C(d);return e.createElement(m,(0,Pv.Z)({appear:!0,in:i,nodeRef:w?_:void 0,onEnter:S,onEntered:A,onEntering:E,onExit:R,onExited:z,onExiting:I,timeout:v},y),(function(t,n){return e.cloneElement(r,(0,Pv.Z)({style:(0,Pv.Z)({opacity:0,visibility:"exited"!==t||i?void 0:"hidden"},wx[t],f,r.props.style),ref:k},n))}))})),kx=xx,Cx=e.forwardRef((function(t,n){var r=t.children,a=t.classes,o=t.className,i=t.invisible,s=void 0!==i&&i,u=t.open,l=t.transitionDuration,c=t.TransitionComponent,d=void 0===c?kx:c,h=jv(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(d,(0,Pv.Z)({in:u,timeout:l},h),e.createElement("div",{className:(0,Lv.Z)(a.root,o,s&&a.invisible),"aria-hidden":!0,ref:n},r))})),Ex=L_({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Cx),Sx=e.forwardRef((function(t,n){var r=t.classes,a=t.className,o=t.component,i=void 0===o?"div":o,s=t.square,u=void 0!==s&&s,l=t.elevation,c=void 0===l?1:l,d=t.variant,h=void 0===d?"elevation":d,f=jv(t,["classes","className","component","square","elevation","variant"]);return e.createElement(i,(0,Pv.Z)({className:(0,Lv.Z)(r.root,a,"outlined"===h?r.outlined:r["elevation".concat(c)],!u&&r.rounded),ref:n},f))})),Ax=L_((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,Pv.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Sx),Ix={enter:D_.enteringScreen,exit:D_.leavingScreen},Rx=e.forwardRef((function(t,n){var r=t.BackdropProps,a=t.children,o=t.classes,i=t.className,s=t.disableBackdropClick,u=void 0!==s&&s,l=t.disableEscapeKeyDown,c=void 0!==l&&l,d=t.fullScreen,h=void 0!==d&&d,f=t.fullWidth,p=void 0!==f&&f,m=t.maxWidth,g=void 0===m?"sm":m,v=t.onBackdropClick,y=t.onClose,b=t.onEnter,w=t.onEntered,_=t.onEntering,x=t.onEscapeKeyDown,k=t.onExit,C=t.onExited,E=t.onExiting,S=t.open,A=t.PaperComponent,I=void 0===A?Ax:A,R=t.PaperProps,z=void 0===R?{}:R,T=t.scroll,N=void 0===T?"paper":T,O=t.TransitionComponent,D=void 0===O?kx:O,M=t.transitionDuration,P=void 0===M?Ix:M,F=t.TransitionProps,j=t["aria-describedby"],B=t["aria-labelledby"],L=jv(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),W=e.useRef();return e.createElement(ux,(0,Pv.Z)({className:(0,Lv.Z)(o.root,i),BackdropComponent:Ex,BackdropProps:(0,Pv.Z)({transitionDuration:P},r),closeAfterTransition:!0},u?{disableBackdropClick:u}:{},{disableEscapeKeyDown:c,onEscapeKeyDown:x,onClose:y,open:S,ref:n},L),e.createElement(D,(0,Pv.Z)({appear:!0,in:S,timeout:P,onEnter:b,onEntering:_,onEntered:w,onExit:k,onExiting:E,onExited:C,role:"none presentation"},F),e.createElement("div",{className:(0,Lv.Z)(o.container,o["scroll".concat(W_(N))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===W.current&&(W.current=null,v&&v(e),!u&&y&&y(e,"backdropClick"))},onMouseDown:function(e){W.current=e.target}},e.createElement(I,(0,Pv.Z)({elevation:24,role:"dialog","aria-describedby":j,"aria-labelledby":B},z,{className:(0,Lv.Z)(o.paper,o["paperScroll".concat(W_(N))],o["paperWidth".concat(W_(String(g)))],z.className,h&&o.paperFullScreen,p&&o.paperFullWidth)}),a))))})),zx=L_((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,Bv.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,Bv.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,Bv.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,Bv.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,Bv.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(Rx),Tx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Nx=e.forwardRef((function(t,n){var r=t.align,a=void 0===r?"inherit":r,o=t.classes,i=t.className,s=t.color,u=void 0===s?"initial":s,l=t.component,c=t.display,d=void 0===c?"initial":c,h=t.gutterBottom,f=void 0!==h&&h,p=t.noWrap,m=void 0!==p&&p,g=t.paragraph,v=void 0!==g&&g,y=t.variant,b=void 0===y?"body1":y,w=t.variantMapping,_=void 0===w?Tx:w,x=jv(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=l||(v?"p":_[b]||Tx[b])||"span";return e.createElement(k,(0,Pv.Z)({className:(0,Lv.Z)(o.root,i,"inherit"!==b&&o[b],"initial"!==u&&o["color".concat(W_(u))],m&&o.noWrap,f&&o.gutterBottom,v&&o.paragraph,"inherit"!==a&&o["align".concat(W_(a))],"initial"!==d&&o["display".concat(W_(d))]),ref:n},x))})),Ox=L_((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Nx),Dx=e.forwardRef((function(t,n){return e.createElement(Ox,(0,Pv.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},t))})),Mx=L_({root:{marginBottom:12}},{name:"MuiDialogContentText"})(Dx),Px=e.forwardRef((function(t,n){var r=t.children,a=t.classes,o=t.className,i=t.disableTypography,s=void 0!==i&&i,u=jv(t,["children","classes","className","disableTypography"]);return e.createElement("div",(0,Pv.Z)({className:(0,Lv.Z)(a.root,o),ref:n},u),s?r:e.createElement(Ox,{component:"h2",variant:"h6"},r))})),Fx=L_({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Px),jx=e.forwardRef((function(t,n){var r=t.disableSpacing,a=void 0!==r&&r,o=t.classes,i=t.className,s=jv(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,Pv.Z)({className:(0,Lv.Z)(o.root,i,!a&&o.spacing),ref:n},s))})),Bx=L_({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(jx),Lx=e.forwardRef((function(t,n){var r=t.classes,a=t.className,o=t.dividers,i=void 0!==o&&o,s=jv(t,["classes","className","dividers"]);return e.createElement("div",(0,Pv.Z)({className:(0,Lv.Z)(r.root,a,i&&r.dividers),ref:n},s))})),Wx=L_((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Lx),Gx=!0,Hx=!1,Vx=null,Ux={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function qx(e){e.metaKey||e.altKey||e.ctrlKey||(Gx=!0)}function Kx(){Gx=!1}function Xx(){"hidden"===this.visibilityState&&Hx&&(Gx=!0)}function Zx(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Gx||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Ux[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Yx(){Hx=!0,window.clearTimeout(Vx),Vx=window.setTimeout((function(){Hx=!1}),100)}function Jx(){return{isFocusVisible:Zx,onBlurVisible:Yx,ref:e.useCallback((function(e){var t,n=G_.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",qx,!0),t.addEventListener("mousedown",Kx,!0),t.addEventListener("pointerdown",Kx,!0),t.addEventListener("touchstart",Kx,!0),t.addEventListener("visibilitychange",Xx,!0))}),[])}}function Qx(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function $x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ek(t,n,r){var a=Qx(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var s={};for(var u in t){if(a[u])for(r=0;r<a[u].length;r++){var l=a[u][r];s[a[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,a);return Object.keys(o).forEach((function(i){var s=o[i];if((0,e.isValidElement)(s)){var u=i in n,l=i in a,c=n[i],d=(0,e.isValidElement)(c)&&!c.props.in;!l||u&&!d?l||!u||d?l&&u&&(0,e.isValidElement)(c)&&(o[i]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:$x(s,"exit",t),enter:$x(s,"enter",t)})):o[i]=(0,e.cloneElement)(s,{in:!1}):o[i]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:$x(s,"exit",t),enter:$x(s,"enter",t)})}})),o}var tk=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},nk=function(t){function n(e,n){var r,a=(r=t.call(this,e,n)||this).handleExited.bind(f(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Uv(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,a,o=n.children,i=n.handleExited;return{children:n.firstRender?(r=t,a=i,Qx(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:a.bind(null,t),in:!0,appear:$x(t,"appear",r),enter:$x(t,"enter",r),exit:$x(t,"exit",r)})}))):ek(t,o,i),firstRender:!1}},r.handleExited=function(e,t){var n=Qx(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Pv.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,a=(0,Fv.Z)(t,["component","childFactory"]),o=this.state.contextValue,i=tk(this.state.children).map(r);return delete a.appear,delete a.enter,delete a.exit,null===n?e.createElement(cx.Provider,{value:o},i):e.createElement(cx.Provider,{value:o},e.createElement(n,a,i))},n}(e.Component);nk.propTypes={},nk.defaultProps={component:"div",childFactory:function(e){return e}};var rk=nk,ak="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var ok=function(t){var n=t.classes,r=t.pulsate,a=void 0!==r&&r,o=t.rippleX,i=t.rippleY,s=t.rippleSize,u=t.in,l=t.onExited,c=void 0===l?function(){}:l,d=t.timeout,h=e.useState(!1),f=h[0],p=h[1],m=(0,Lv.Z)(n.ripple,n.rippleVisible,a&&n.ripplePulsate),g={width:s,height:s,top:-s/2+i,left:-s/2+o},v=(0,Lv.Z)(n.child,f&&n.childLeaving,a&&n.childPulsate),y=Y_(c);return ak((function(){if(!u){p(!0);var e=setTimeout(y,d);return function(){clearTimeout(e)}}}),[y,u,d]),e.createElement("span",{className:m,style:g},e.createElement("span",{className:v}))},ik=e.forwardRef((function(t,n){var r=t.center,a=void 0!==r&&r,o=t.classes,i=t.className,s=jv(t,["center","classes","className"]),u=e.useState([]),l=u[0],c=u[1],d=e.useRef(0),h=e.useRef(null);e.useEffect((function(){h.current&&(h.current(),h.current=null)}),[l]);var f=e.useRef(!1),p=e.useRef(null),m=e.useRef(null),g=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var v=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,a=t.rippleY,i=t.rippleSize,s=t.cb;c((function(t){return[].concat((0,$m.Z)(t),[e.createElement(ok,{key:d.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:a,rippleSize:i})])})),d.current+=1,h.current=s}),[o]),y=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,i=t.center,s=void 0===i?a||t.pulsate:i,u=t.fakeElement,l=void 0!==u&&u;if("mousedown"===e.type&&f.current)f.current=!1;else{"touchstart"===e.type&&(f.current=!0);var c,d,h,y=l?null:g.current,b=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(b.width/2),d=Math.round(b.height/2);else{var w=e.touches?e.touches[0]:e,_=w.clientX,x=w.clientY;c=Math.round(_-b.left),d=Math.round(x-b.top)}if(s)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(h+=1);else{var k=2*Math.max(Math.abs((y?y.clientWidth:0)-c),c)+2,C=2*Math.max(Math.abs((y?y.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(k,2)+Math.pow(C,2))}e.touches?null===m.current&&(m.current=function(){v({pulsate:o,rippleX:c,rippleY:d,rippleSize:h,cb:n})},p.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):v({pulsate:o,rippleX:c,rippleY:d,rippleSize:h,cb:n})}}),[a,v]),b=e.useCallback((function(){y({},{pulsate:!0})}),[y]),w=e.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(p.current=setTimeout((function(){w(e,t)})));m.current=null,c((function(e){return e.length>0?e.slice(1):e})),h.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:b,start:y,stop:w}}),[b,y,w]),e.createElement("span",(0,Pv.Z)({className:(0,Lv.Z)(o.root,i),ref:g},s),e.createElement(rk,{component:null,exit:!0},l))})),sk=L_((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(ik)),uk=e.forwardRef((function(t,n){var r=t.action,a=t.buttonRef,o=t.centerRipple,i=void 0!==o&&o,s=t.children,u=t.classes,l=t.className,c=t.component,d=void 0===c?"button":c,h=t.disabled,f=void 0!==h&&h,p=t.disableRipple,m=void 0!==p&&p,g=t.disableTouchRipple,v=void 0!==g&&g,y=t.focusRipple,b=void 0!==y&&y,w=t.focusVisibleClassName,_=t.onBlur,x=t.onClick,k=t.onFocus,C=t.onFocusVisible,E=t.onKeyDown,S=t.onKeyUp,A=t.onMouseDown,I=t.onMouseLeave,R=t.onMouseUp,z=t.onTouchEnd,T=t.onTouchMove,N=t.onTouchStart,O=t.onDragLeave,D=t.tabIndex,M=void 0===D?0:D,P=t.TouchRippleProps,F=t.type,j=void 0===F?"button":F,B=jv(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),L=e.useRef(null);var W=e.useRef(null),G=e.useState(!1),H=G[0],V=G[1];f&&H&&V(!1);var U=Jx(),q=U.isFocusVisible,K=U.onBlurVisible,X=U.ref;function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return Y_((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}e.useImperativeHandle(r,(function(){return{focusVisible:function(){V(!0),L.current.focus()}}}),[]),e.useEffect((function(){H&&b&&!m&&W.current.pulsate()}),[m,b,H]);var Y=Z("start",A),J=Z("stop",O),Q=Z("stop",R),$=Z("stop",(function(e){H&&e.preventDefault(),I&&I(e)})),ee=Z("start",N),te=Z("stop",z),ne=Z("stop",T),re=Z("stop",(function(e){H&&(K(e),V(!1)),_&&_(e)}),!1),ae=Y_((function(e){L.current||(L.current=e.currentTarget),q(e)&&(V(!0),C&&C(e)),k&&k(e)})),oe=function(){var e=G_.findDOMNode(L.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ie=e.useRef(!1),se=Y_((function(e){b&&!ie.current&&H&&W.current&&" "===e.key&&(ie.current=!0,e.persist(),W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&oe()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&oe()&&"Enter"===e.key&&!f&&(e.preventDefault(),x&&x(e))})),ue=Y_((function(e){b&&" "===e.key&&W.current&&H&&!e.defaultPrevented&&(ie.current=!1,e.persist(),W.current.stop(e,(function(){W.current.pulsate(e)}))),S&&S(e),x&&e.target===e.currentTarget&&oe()&&" "===e.key&&!e.defaultPrevented&&x(e)})),le=d;"button"===le&&B.href&&(le="a");var ce={};"button"===le?(ce.type=j,ce.disabled=f):("a"===le&&B.href||(ce.role="button"),ce["aria-disabled"]=f);var de=U_(a,n),he=U_(X,L),fe=U_(de,he),pe=e.useState(!1),me=pe[0],ge=pe[1];e.useEffect((function(){ge(!0)}),[]);var ve=me&&!m&&!f;return e.createElement(le,(0,Pv.Z)({className:(0,Lv.Z)(u.root,l,H&&[u.focusVisible,w],f&&u.disabled),onBlur:re,onClick:x,onFocus:ae,onKeyDown:se,onKeyUp:ue,onMouseDown:Y,onMouseLeave:$,onMouseUp:Q,onDragLeave:J,onTouchEnd:te,onTouchMove:ne,onTouchStart:ee,ref:fe,tabIndex:f?-1:M},ce,B),s,ve?e.createElement(sk,(0,Pv.Z)({ref:W,center:i},P)):null)})),lk=L_({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(uk),ck=e.forwardRef((function(t,n){var r=t.children,a=t.classes,o=t.className,i=t.color,s=void 0===i?"default":i,u=t.component,l=void 0===u?"button":u,c=t.disabled,d=void 0!==c&&c,h=t.disableElevation,f=void 0!==h&&h,p=t.disableFocusRipple,m=void 0!==p&&p,g=t.endIcon,v=t.focusVisibleClassName,y=t.fullWidth,b=void 0!==y&&y,w=t.size,_=void 0===w?"medium":w,x=t.startIcon,k=t.type,C=void 0===k?"button":k,E=t.variant,S=void 0===E?"text":E,A=jv(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=x&&e.createElement("span",{className:(0,Lv.Z)(a.startIcon,a["iconSize".concat(W_(_))])},x),R=g&&e.createElement("span",{className:(0,Lv.Z)(a.endIcon,a["iconSize".concat(W_(_))])},g);return e.createElement(lk,(0,Pv.Z)({className:(0,Lv.Z)(a.root,a[S],o,"inherit"===s?a.colorInherit:"default"!==s&&a["".concat(S).concat(W_(s))],"medium"!==_&&[a["".concat(S,"Size").concat(W_(_))],a["size".concat(W_(_))]],f&&a.disableElevation,d&&a.disabled,b&&a.fullWidth),component:l,disabled:d,focusRipple:!m,focusVisibleClassName:(0,Lv.Z)(a.focusVisible,v),ref:n,type:C},A),e.createElement("span",{className:a.label},I,r,R))})),dk=L_((function(e){return{root:(0,Pv.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:s_(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:s_(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:s_(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(s_(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:s_(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(s_(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:s_(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(ck);var hk=function(t){var n=(0,e.useContext)(Nv),r=(new Jm).getDialogs(n.language);return(0,Dv.jsxs)(zx,{open:t.isOpen,children:[(0,Dv.jsx)(Fx,{children:t.title}),(0,Dv.jsx)(Wx,{children:(0,Dv.jsx)(Mx,{children:t.content})}),(0,Dv.jsx)(Bx,{children:(0,Dv.jsx)(dk,{onClick:t.closeDialog,children:r.close_label})})]})};var fk=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getHome(t.language),a=n.getDialogs(t.language),o=n.getHelp(t.language),i=function(){if(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform))return!0;return!1}()&&!function(){var e=navigator.userAgent;if(e.includes("Safari")&&!e.includes("Chrome")&&!e.includes("Chromium"))return!0;return!1}(),s=(0,e.useState)(i),u=(0,Qm.Z)(s,2),l=u[0],c=u[1];return(0,e.useEffect)((function(){var e=document.getElementById("homepage"),t=(new Date).getHours();t>=6&&t<12?e.classList.add("welcome-morning"):t>=12&&t<18?e.classList.add("welcome-afternoon"):t>=18&&t<22?e.classList.add("welcome-evening"):e.classList.add("welcome-night")})),(0,Dv.jsxs)("div",{id:"homepage",className:"welcome-background full-screen flex",children:[(0,Dv.jsx)(hk,{isOpen:l,closeDialog:function(){c(!1)},title:a.warning,content:a.install_use_safari}),(0,Dv.jsx)(Mv,{}),(0,Dv.jsxs)("div",{className:"flex welcome-box",children:[(0,Dv.jsxs)("h1",{className:"center-text welcome-text-large color-primary welcome-text",children:[r.label_1,(0,Dv.jsx)("br",{}),r.label_2,(0,Dv.jsx)("br",{}),r.label_3]}),(0,Dv.jsx)(Iv,{to:"/tours",children:(0,Dv.jsx)("span",{className:"button center-text display-block margin-top-primary background-primary color-primary welcome-text-button font-weight-primary text-transform-primary",children:r.button_label})})]}),(0,Dv.jsx)("div",{className:"help-box flex margin-primary font-weight-primary",children:(0,Dv.jsx)(Iv,{to:"help",className:"color-primary center-text",children:o.help})})]})};function pk(){pk=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),s=new S(a||[]);return r(i,"_invoke",{value:x(e,n,s)}),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=l;var d={};function f(){}function p(){}function m(){}var g={};u(g,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==t&&n.call(y,o)&&(g=y);var b=m.prototype=f.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function a(r,o,i,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,h.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return I()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(_.prototype),u(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function mk(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,a)}function gk(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mk(o,r,a,i,s,"next",e)}function s(e){mk(o,r,a,i,s,"throw",e)}i(void 0)}))}}var vk=function(t){var n=(0,e.useContext)(Nv),r=new Jm,a=r.getNavbar(n.language),o=r.getInstall(n.language),i=r.getDialogs(n.language),s=(0,e.useState)(!1),u=(0,Qm.Z)(s,2),l=u[0],c=u[1],d=function(){c(!l)},h=(0,e.useState)(!1),f=(0,Qm.Z)(h,2),p=f[0],m=f[1],g=function(){var e=navigator.userAgent;if(e.includes("Safari")&&!e.includes("Chrome")&&!e.includes("Chromium"))return!0;return!1}(),v=function(){if(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform))return!0;return!1}(),y=ov(),b=function(){m(!0)},w=function(){m(!1)};function _(){return(_=gk(pk().mark((function e(){var t;return pk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.deferredPrompt){e.next=9;break}return window.deferredPrompt.prompt(),e.next=4,window.deferredPrompt.userChoice;case 4:t=e.sent,"accepted"===t.outcome&&(window.installBannerDisplayed=!1),e.next=10;break;case 9:b();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsxs)(zx,{open:p,onClose:w,children:[(0,Dv.jsx)(Fx,{children:i.install_download_label}),(0,Dv.jsxs)(Wx,{children:[(0,Dv.jsx)(Mx,{children:g?i.install_step_1_safari:i.install_step_1}),(0,Dv.jsx)(Mx,{children:i.install_step_2}),(0,Dv.jsx)(Mx,{children:i.install_step_3}),(0,Dv.jsx)(Mx,{className:"font-weight-primary",children:v&&!g?i.install_use_safari:""})]}),(0,Dv.jsx)(Bx,{children:(0,Dv.jsx)(dk,{onClick:w,children:i.close_label})})]}),(0,Dv.jsxs)("header",{id:"header",className:"navigation background-primary stick-top z-index-nav flex-secondary align-items-primary",children:[(0,Dv.jsx)("h1",{id:"headerLabel",className:"text-header font-weight-primary color-primary margin-right-primary text-large",children:t.header}),(0,Dv.jsxs)("div",{className:"flex-secondary align-items-primary z-index-nav",children:[(0,Dv.jsx)(Mv,{}),(0,Dv.jsxs)("div",{className:"hamburger",onClick:d,children:[(0,Dv.jsx)("span",{className:l?"bar hamburger1":"bar"}),(0,Dv.jsx)("span",{className:l?"bar hamburger2":"bar"}),(0,Dv.jsx)("span",{className:l?"bar hamburger3":"bar"})]})]})]}),(0,Dv.jsx)("nav",{id:"navbar",children:(0,Dv.jsxs)("ul",{id:"navlist",className:l?"navigation-list font-weight-primary flex navigation-list-active":"navigation-list flex font-weight-primary",onClick:d,children:[(0,Dv.jsx)("li",{children:(0,Dv.jsx)(Rv,{className:"navigation-link-padding text-medium font-weight-primary color-primary",to:"/",children:(0,Dv.jsx)("span",{children:a.home})})}),(0,Dv.jsx)("li",{children:(0,Dv.jsx)(Rv,{className:"navigation-link-padding text-medium font-weight-primary color-primary cursor-primary",to:"/other",children:a.menu})}),(0,Dv.jsx)("li",{children:(0,Dv.jsx)(Rv,{className:"navigation-link-padding text-medium font-weight-primary color-primary cursor-primary",to:"/tours",children:a.tours})}),(0,Dv.jsx)("li",{children:(0,Dv.jsx)(Rv,{className:"navigation-link-padding text-medium font-weight-primary color-primary cursor-primary",to:"/rooms_overview",children:a.rooms})}),(0,Dv.jsx)("li",{children:(0,Dv.jsx)(Rv,{className:"navigation-link-padding text-medium font-weight-primary color-primary cursor-primary",onClick:function(){return y(-1)},children:a.back})}),(0,Dv.jsx)("li",{className:window.installBannerDisplayed?"background-primary":"display-none",children:(0,Dv.jsxs)("div",{className:"flex navigation-link-padding navigation-list-install",children:[(0,Dv.jsx)("span",{className:"text-medium color-primary margin-bottom-primary",children:o.install_label}),(0,Dv.jsx)("button",{onClick:function(){return _.apply(this,arguments)},id:"downloadButton",className:"margin-secondary background-secondary text-medium button background-primary color-secondary text-transform-primary font-weight-primary",children:o.install})]})})]})})]})},yk=n(5878);var bk=function(e){return(0,Dv.jsx)("div",{className:"card box-shadow transition-primary padding-third margin-bottom-primary",children:(0,Dv.jsxs)("div",{className:"flex",children:[(0,Dv.jsxs)("div",{className:"flex-secondary align-items-primary padding-bottom-primary",children:[(0,Dv.jsx)(yk.Z,{className:"icon margin-right-secondary"}),(0,Dv.jsx)("span",{className:"font-weight-primary text-medium",children:e.info})]}),(0,Dv.jsx)("span",{children:e.content})]})})},wk=n(9212),_k=n(4941);var xk=function(e){return(0,Dv.jsx)("span",{className:"margin-primary display-block text-medium button align-self-primary background-primary font-weight-primary color-primary",children:e.button})};var kk=function(e){return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsxs)("div",{className:"padding-bottom-primary position-relative flex",children:[(0,Dv.jsx)("img",{src:n(9977)("./img".concat(e.img)),alt:"castle",className:"card-image border-radius-secondary"}),e.children]}),(0,Dv.jsx)("h2",{className:"text-medium padding-primary padding-bottom-primary",children:e.title}),(0,Dv.jsx)("p",{className:"margin-bottom padding-primary medieval-first-letter padding-bottom-primary",children:e.description})]})};var Ck=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getTours(t.language),a=n.getHeader(t.language),o=n.getInfo(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.tours}),(0,Dv.jsxs)("div",{className:"content-container",children:[(0,Dv.jsx)(bk,{info:o.info,content:o.tours_info}),(0,Dv.jsx)("div",{className:"grid-secondary padding-top-primary",children:r.map((function(e){return(0,Dv.jsx)(Iv,{to:"/rooms",className:"card box-shadow transition-primary hover-primary",children:(0,Dv.jsxs)("article",{className:"flex",onClick:function(){return t.setTour(e.tour_id)},children:[(0,Dv.jsx)(kk,{img:e.img,title:e.title,description:e.description}),(0,Dv.jsxs)("div",{className:"flex-secondary align-items-primary padding-primary padding-bottom-primary",children:[(0,Dv.jsx)(_k.Z,{className:"icon margin-right-secondary"}),(0,Dv.jsx)("span",{className:"font-weight-primary",children:e.rooms.length+" "+e.rooms_label})]}),(0,Dv.jsxs)("div",{className:"flex-secondary align-items-primary padding-primary padding-bottom-primary",children:[(0,Dv.jsx)(wk.Z,{className:"icon margin-right-secondary"}),(0,Dv.jsx)("span",{className:"font-weight-primary",children:e.time})]}),(0,Dv.jsx)(xk,{button:e.button})]})},e.title)}))})]})]})};var Ek=function(){var t=(0,e.useContext)(Nv),n=(new Jm).getTour(t.language,t.tour);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:n.title}),(0,Dv.jsx)("div",{className:"content-container",children:(0,Dv.jsx)("div",{className:"grid",children:n.rooms.map((function(e){return(0,Dv.jsx)(Iv,{to:"/room",className:"card box-shadow transition-primary hover-primary",onClick:function(){return t.setRoom(e.number)},children:(0,Dv.jsxs)("article",{className:"flex",children:[(0,Dv.jsx)(kk,{img:e.img,title:e.title,description:e.card_label,children:(0,Dv.jsx)("div",{className:"card-number flex round-item",children:(0,Dv.jsx)("span",{className:"round-item-content",children:e.number})})}),(0,Dv.jsx)(xk,{button:e.button})]})},e.number)}))})})]})},Sk=n(8456);n(5913);var Ak=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getContact(t.language),a=n.getHeader(t.language),o=(0,e.useState)(!1),i=(0,Qm.Z)(o,2),s=i[0],u=i[1],l=function(e){window.open(e,"_blank","")};return(0,e.useEffect)((function(){navigator.onLine,u(!1)}),[s]),(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.contact}),(0,Dv.jsx)("div",{className:"content-container background-secondary padding-secondary box-shadow border-radius-primary",children:(0,Dv.jsxs)("div",{className:"contact-box",children:[(0,Dv.jsx)("div",{className:"margin-top",children:(0,Dv.jsxs)("ul",{className:"contact-list",children:[(0,Dv.jsxs)("li",{className:"margin-bottom-primary",children:[(0,Dv.jsxs)("div",{className:"flex-secondary align-items-primary",children:[(0,Dv.jsx)("span",{className:"font-weight-primary text-transform-primary margin-right-secondary",children:r.address}),(0,Dv.jsx)(Sk.Z,{})]}),(0,Dv.jsx)("span",{className:"cursor-primary",onClick:function(){return l("https://www.google.com/maps/place/Z%C3%A1mek+Fr%C3%BDdlant/@50.9040814,15.0505186,11.54z/data=!4m6!3m5!1s0x47092e5555ec4efb:0xb81e27103a735e5c!8m2!3d50.9148748!4d15.0837108!16s%2Fg%2F1tftvn_y")},children:"Z\xe1meck\xe1 4001 464 01 Fr\xfddlant"})]}),(0,Dv.jsxs)("li",{className:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{className:"font-weight-primary text-transform-primary margin-right-secondary",children:r.reservation}),(0,Dv.jsx)("a",{href:"mailto:zamek.rezervace@seznam.cz",children:"zamek.rezervace@seznam.cz"})]}),(0,Dv.jsxs)("li",{className:"margin-bottom-primary",children:[(0,Dv.jsxs)("div",{className:"flex-secondary align-items-primary",children:[(0,Dv.jsx)("span",{className:"font-weight-primary text-transform-primary margin-right-secondary",children:r.web}),(0,Dv.jsx)(Sk.Z,{})]}),(0,Dv.jsx)("span",{className:"cursor-primary",onClick:function(){return l("https://www.zamek-frydlant.cz/cs")},children:"www.zamek-frydlant.cz"})]}),(0,Dv.jsxs)("li",{className:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{className:"font-weight-primary text-transform-primary",children:r.phone}),(0,Dv.jsx)("a",{href:"tel:771 270 150",children:"+420 771 270 150"})]})]})}),(0,Dv.jsx)("div",{className:"map-box",children:(0,Dv.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d80611.4856216651!2d14.978767699106092!3d50.84766716300532!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47092e5555ec4efb%3A0xb81e27103a735e5c!2zWsOhbWVrIEZyw71kbGFudA!5e0!3m2!1scs!2scz!4v1659987294190!5m2!1scs!2scz",style:{border:0},allowfullscreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"map",title:"map"})})]})})]})};var Ik=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getInfo(t.language),a=n.getHeader(t.language),o=n.getRoomsOverview(t.language),i=n.getUnvisitedRooms(t.language,t.tour,t.room),s=n.getVisitedRooms(t.language,t.tour,t.room);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.rooms}),(0,Dv.jsx)("div",{className:"content-container background-secondary",children:t.tour?(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(bk,{info:r.info,content:r.rooms_overview}),(0,Dv.jsx)("h3",{className:s.length?"opacity padding-top-primary padding-bottom-primary":"display-none",children:o.seen}),s.map((function(e){return(0,Dv.jsxs)("div",{className:"card flex-secondary align-items-primary margin-bottom-primary box-shadow padding-third opacity",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)("span",{className:"round-item-content color-primary",children:e.number})}),(0,Dv.jsx)("span",{children:e.title})]})})),(0,Dv.jsx)("h3",{className:"padding-top-primary padding-bottom-primary",children:i.length?o.not_seen:o.nothing_more}),i.map((function(e){return(0,Dv.jsxs)(Iv,{to:"/room",className:"transition-primary hover-primary card flex-secondary align-items-primary margin-bottom-primary box-shadow padding-third",onClick:function(){return t.setRoom(e.number)},children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)("span",{className:"round-item-content color-primary",children:e.number})}),(0,Dv.jsx)("span",{children:e.title})]})}))]}):(0,Dv.jsx)("span",{className:"padding-third display-block font-weight-primary text-medium",children:o.tour_not_selected})})]})},Rk=n(8264),zk=n(7394),Tk=n(1542),Nk=n(9771),Ok=n(345);var Dk=function(){var t=(0,e.useContext)(Nv),r=new Jm,a=r.getRoom(t.language,t.tour,t.room),o=r.getTour(t.language,t.tour),i=a.number-1>=1,s=a.number+1<=o.rooms.length,u=(0,e.useState)(!1),l=(0,Qm.Z)(u,2),c=l[0],d=l[1],h=0,f=0,p=function(){i&&t.setRoom(a.number-1)},m=function(){s&&t.setRoom(a.number+1)};function g(){var e=document.getElementById("audio");navigator.mediaSession.setPositionState({duration:e.duration,playbackRate:e.playbackRate,position:e.currentTime})}return(0,e.useEffect)((function(){window.scrollTo(0,0);var e=r.getRoom(t.language,t.tour,t.room).title.toString(),n=r.getTour(t.language,t.tour).title.toString();if("mediaSession"in navigator){navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:"Audio guide Fr\xfddlant",album:n,artwork:[{src:Nk,sizes:"64x64",type:"image/png"},{src:Ok,sizes:"128x128",type:"image/png"}]});for(var a=0,o=[["play",function(){l.play()}],["pause",function(){l.pause()}],["previoustrack",function(){d(!0),p()}],["nexttrack",function(){d(!0),m()}],["seekto",function(e){e.fastSeek&&"fastSeek"in l?l.fastSeek(e.seekTime):(l.currentTime=e.seekTime,console.log(e))}]];a<o.length;a++){var i=(0,Qm.Z)(o[a],2),s=i[0],u=i[1];try{navigator.mediaSession.setActionHandler(s,u)}catch(h){console.log("The media session action, ".concat(s,", is not supported"))}}var l=document.getElementById("audio");l.onloadedmetadata=function(){g()},l.onseeked=function(){g()},l.onended=function(){console.log("ended")},c&&l.play(),d(!1)}}),[t.room]),(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:o.title}),(0,Dv.jsxs)("div",{className:"flex content-container background-secondary center-text padding-secondary border-radius-primary box-shadow",onTouchStart:function(e){h=e.changedTouches[0].clientX,f=e.changedTouches[0].clientY},onTouchEnd:function(e){!function(e,t,n,r){console.log("sliding"),Math.abs(n-r)<50&&(e>t+100?m():e+100<t&&p())}(h,e.changedTouches[0].clientX,f,e.changedTouches[0].clientY)},children:[(0,Dv.jsxs)("article",{children:[(0,Dv.jsx)("div",{className:"flex-secondary",children:(0,Dv.jsxs)("div",{className:"margin-right-primary margin-left-primary",children:[(0,Dv.jsx)("span",{className:"font-style-primary margin-primary",children:a.number}),(0,Dv.jsx)("h2",{className:"text-medium",children:a.title}),(0,Dv.jsx)("span",{className:"font-style-primary margin-primary",children:o.title})]})}),(0,Dv.jsxs)("div",{className:"margin-top-secondary",children:[(0,Dv.jsx)("img",{src:n(9977)("./img".concat(a.img)),alt:"castle",className:"page-image"}),(0,Dv.jsx)("audio",{preload:"metadata",id:"audio",controls:!0,src:n(1668)("./audio".concat(a.audio)),className:"page-audio",children:" Your browser does not support the audio element."})]}),(0,Dv.jsx)("p",{className:"start-text margin-top-secondary medieval-first-letter",children:a.text})]}),(0,Dv.jsxs)("div",{className:"flex-secondary stick-bottom padding-bottom-primary padding-top-primary background-gradient",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-primary ".concat(i?"":" visibility-hidden"),children:(0,Dv.jsx)(zk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary",onClick:function(){p()}})}),(0,Dv.jsx)(Iv,{to:"/scan_room",className:"flex round-item background-fourth visibility-hidden",children:(0,Dv.jsx)(Tk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary"})}),(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-left-primary ".concat(s?"":" visibility-hidden"),children:(0,Dv.jsx)(Rk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary",onClick:function(){m()}})})]})]})]})};var Mk=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getHistory(t.language),a=n.getHeader(t.language),o=n.getInfo(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.history}),(0,Dv.jsxs)("div",{className:"content-container",children:[(0,Dv.jsx)(bk,{info:o.info,content:o.history_info}),(0,Dv.jsx)("div",{className:"grid-secondary padding-top-primary",children:r.map((function(e){return(0,Dv.jsx)(Iv,{to:e.path,className:"card box-shadow transition-primary hover-primary",children:(0,Dv.jsxs)("article",{className:"flex",children:[(0,Dv.jsx)(kk,{img:e.img,title:e.title,description:e.card_label}),(0,Dv.jsx)(xk,{button:e.button})]})},e.title)}))})]})]})};var Pk=function(){var t=(0,e.useContext)(Nv),r=new Jm,a=r.getHistoryOverview(t.language),o=r.getHeader(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:o.history}),(0,Dv.jsx)("div",{className:"flex content-container background-secondary center-text padding-secondary box-shadow border-radius-primary",children:(0,Dv.jsxs)("article",{className:"font-size-third ",children:[(0,Dv.jsx)("div",{className:"flex-secondary",children:(0,Dv.jsxs)("div",{className:"margin-right-primary margin-left-primary",children:[(0,Dv.jsx)("span",{className:"font-style-primary margin-primary",children:o.history}),(0,Dv.jsx)("h2",{children:a.title}),(0,Dv.jsx)("span",{className:"font-style-primary margin-primary",children:a.label})]})}),(0,Dv.jsx)("div",{className:"margin-top-secondary",children:(0,Dv.jsx)("img",{src:n(9977)("./img".concat(a.img)),alt:"castle",className:"page-image"})}),(0,Dv.jsx)("p",{className:"start-text margin-top-secondary medieval-first-letter",children:a.description})]})})]})};var Fk=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getHouses(t.language),a=n.getHeader(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.houses}),(0,Dv.jsx)("div",{className:"margin-primary content-container",children:(0,Dv.jsx)("div",{className:"grid",children:r.map((function(e){return(0,Dv.jsx)(Iv,{to:"/owners",className:"card box-shadow transition-primary hover-primary",onClick:function(){return t.setHouse(e.title)},children:(0,Dv.jsxs)("article",{className:"flex",children:[(0,Dv.jsx)(kk,{img:e.img,title:e.title,description:e.description}),(0,Dv.jsx)(xk,{button:e.button})]})},e.title)}))})})]})};var jk=function(){var t=(0,e.useContext)(Nv),n=(new Jm).getOwners(t.language,t.house);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:t.house}),(0,Dv.jsx)("div",{className:"content-container",children:(0,Dv.jsx)("div",{className:"grid",children:n.map((function(e){return(0,Dv.jsx)(Iv,{to:"/owner",className:"card box-shadow transition-primary hover-primary",onClick:function(){return t.setOwner(e.number)},children:(0,Dv.jsxs)("article",{className:"flex",children:[(0,Dv.jsx)(kk,{img:e.img,title:e.name,description:e.label}),(0,Dv.jsx)(xk,{button:e.button})]})},e.number)}))})})]})};var Bk=function(){var t=(0,e.useContext)(Nv),r=new Jm,a=r.getOwner(t.language,t.house,t.owner),o=r.getHouse(t.language,t.house),i=a.number-1>=1,s=a.number+1<=o.owners.length,u=0,l=0,c=function(){a.number-1>=1&&t.setOwner(a.number-1)},d=function(){a.number+1<=o.owners.length&&t.setOwner(a.number+1)};return(0,e.useEffect)((function(){window.scrollTo(0,0)})),(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:t.house}),(0,Dv.jsxs)("div",{className:"flex content-container background-secondary center-text padding-secondary box-shadow border-radius-primary",onTouchStart:function(e){u=e.changedTouches[0].clientX,l=e.changedTouches[0].clientY},onTouchEnd:function(e){!function(e,t,n,r){Math.abs(n-r)<50&&(e>t+100?d():e+100<t&&c())}(u,e.changedTouches[0].clientX,l,e.changedTouches[0].clientY)},children:[(0,Dv.jsxs)("article",{className:"font-size-third medieval-first-letter",children:[(0,Dv.jsx)("div",{className:"flex-secondary",children:(0,Dv.jsxs)("div",{className:"margin-right-primary margin-left-primary",children:[(0,Dv.jsx)("span",{className:"font-style-primary margin-primary",children:o.title}),(0,Dv.jsx)("h2",{children:a.name}),(0,Dv.jsx)("span",{className:"font-style-primary margin-primary",children:a.years})]})}),(0,Dv.jsx)("div",{className:"margin-top-secondary",children:(0,Dv.jsx)("img",{src:n(9977)("./img".concat(a.img)),alt:"castle",className:"page-image"})}),(0,Dv.jsx)("p",{className:"start-text margin-top-secondary medieval-first-letter",children:a.text})]}),(0,Dv.jsxs)("div",{className:"flex-secondary stick-bottom padding-bottom-primary padding-top-primary background-gradient",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-primary ".concat(i?"":" visibility-hidden"),children:(0,Dv.jsx)(zk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary",onClick:function(){c()}})}),(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-left-primary ".concat(s?"":" visibility-hidden"),children:(0,Dv.jsx)(Rk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary",onClick:function(){d()}})})]})]})]})};var Lk=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getLanguages(),a=n.getHeader(t.language),o=n.getSettings(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.settings}),(0,Dv.jsxs)("section",{className:"content-container background-secondary padding-secondary box-shadow border-radius-primary",children:[(0,Dv.jsxs)("div",{children:[(0,Dv.jsx)("h2",{className:"padding-bottom-primary text-medium",children:o.letter}),(0,Dv.jsxs)("div",{onClick:function(){return t.setFontSize("d")},className:"font-size-default flex-secondary align-items-primary box-shadow transition-primary hover-primary padding-third margin-bottom-primary border-radius-primary cursor-primary",children:[(0,Dv.jsx)("span",{className:"margin-right-secondary font-weight-primary",children:"Aa"}),(0,Dv.jsx)("span",{children:o.default})]}),(0,Dv.jsxs)("div",{onClick:function(){return t.setFontSize("m")},className:"font-size-medium flex-secondary align-items-primary box-shadow transition-primary hover-primary padding-third margin-bottom-primary border-radius-primary cursor-primary",children:[(0,Dv.jsx)("span",{className:"margin-right-secondary font-weight-primary",children:"Aa"}),(0,Dv.jsx)("span",{children:o.medium})]}),(0,Dv.jsxs)("div",{onClick:function(){return t.setFontSize("l")},className:"font-size-large flex-secondary align-items-primary box-shadow transition-primary hover-primary padding-third margin-bottom-primary border-radius-primary cursor-primary",children:[(0,Dv.jsx)("span",{className:"margin-right-secondary font-weight-primary",children:"Aa"}),(0,Dv.jsx)("span",{children:o.large})]})]}),(0,Dv.jsxs)("div",{children:[(0,Dv.jsx)("h2",{className:"padding-bottom-primary text-medium",children:o.language_label}),r.map((function(e){return(0,Dv.jsx)("div",{onClick:function(){return t.setLanguage(e)},className:"flex-secondary align-items-primary box-shadow transition-primary hover-primary padding-third margin-bottom-primary border-radius-primary cursor-primary",children:(0,Dv.jsx)("span",{className:"text-transform-primary font-weight-primary",children:e})})}))]})]})]})},Wk=n(3229),Gk=n(9065),Hk=n(1334),Vk=n(7122),Uk=n(3742),qk=n(2237),Kk=n(4018);var Xk=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getHeader(t.language),a=n.getOther(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:r.menu}),(0,Dv.jsxs)("div",{className:"content-container",children:[(0,Dv.jsxs)(Iv,{to:"/history",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Uk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.history})]}),(0,Dv.jsxs)(Iv,{to:"/gallery",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Hk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.gallery})]}),(0,Dv.jsxs)(Iv,{to:"/image_recognition",className:"card align-items-primary box-shadow transition-primary hover-primary padding-third margin-bottom-primary display-none",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(qk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.image_recognition})]}),(0,Dv.jsxs)(Iv,{to:"/scan_room",className:"card align-items-primary box-shadow transition-primary hover-primary padding-third margin-bottom-primary display-none",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Tk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.scan_room})]}),(0,Dv.jsxs)(Iv,{to:"/where_to_next",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Gk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.where_to_next})]}),(0,Dv.jsxs)(Iv,{to:"/contact",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Wk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.contact})]}),(0,Dv.jsxs)(Iv,{to:"/settings",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Vk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.settings})]}),(0,Dv.jsxs)(Iv,{to:"/help",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(Kk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.help})]}),(0,Dv.jsxs)(Iv,{to:"/about_app",className:"card align-items-primary flex-secondary box-shadow transition-primary hover-primary padding-third margin-bottom-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(yk.Z,{className:"round-item-content color-primary"})}),(0,Dv.jsx)("span",{children:a.about_app})]})]})]})},Zk=n(5920);var Yk=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getHeader(t.language),a=n.getAboutApp(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:r.about_app}),(0,Dv.jsxs)("div",{class:"content-container background-secondary padding-secondary box-shadow border-radius-primary",children:[(0,Dv.jsx)("div",{className:"flex align-items-primary",children:(0,Dv.jsx)("div",{className:"margin-top-secondary",children:(0,Dv.jsx)("img",{src:Zk,alt:"logo",className:"page-image"})})}),(0,Dv.jsx)("div",{class:"contact-box",children:(0,Dv.jsx)("div",{className:"margin-top",children:(0,Dv.jsxs)("ul",{class:"contact-list",children:[(0,Dv.jsxs)("li",{class:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{class:"font-weight-primary text-transform-primary",children:a.for_label}),(0,Dv.jsx)("span",{children:a.for})]}),(0,Dv.jsxs)("li",{class:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{class:"font-weight-primary text-transform-primary",children:a.author_label}),(0,Dv.jsx)("span",{children:a.author})]}),(0,Dv.jsxs)("li",{class:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{class:"font-weight-primary text-transform-primary",children:a.collaboration_label}),(0,Dv.jsx)("span",{children:a.collaboration})]}),(0,Dv.jsxs)("li",{class:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{class:"font-weight-primary text-transform-primary",children:a.photos_label}),(0,Dv.jsx)("span",{children:a.photos1}),(0,Dv.jsx)("span",{children:a.photos2})]}),(0,Dv.jsxs)("li",{class:"margin-bottom-primary flex",children:[(0,Dv.jsx)("span",{class:"font-weight-primary text-transform-primary",children:a.logo_label}),(0,Dv.jsx)("span",{children:a.logo})]})]})})})]})]})};var Jk=function(){var t=(0,e.useContext)(Nv),r=new Jm,a=r.getHeader(t.language),o=r.getInfo(t.language),i=r.getWhereToNext(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.where_to_next}),(0,Dv.jsxs)("div",{className:"content-container",children:[(0,Dv.jsx)(bk,{info:o.info,content:o.where_to_info}),(0,Dv.jsx)("div",{className:"grid padding-top-primary",children:i.places.map((function(e){return(0,Dv.jsx)("a",{className:"card box-shadow transition-primary hover-primary",href:"",onClick:function(){return t=e.url,void window.open(t,"_blank","");var t},children:(0,Dv.jsxs)("article",{className:"flex",children:[(0,Dv.jsxs)("div",{className:"padding-bottom-primary position-relative flex",children:[(0,Dv.jsx)("img",{src:n(9977)("./img".concat(e.img)),alt:"castle",className:"card-image border-radius-secondary"}),(0,Dv.jsx)("div",{className:"card-number flex round-item",children:(0,Dv.jsx)(Sk.Z,{className:"round-item-content",children:e.number})}),(0,Dv.jsx)("span",{className:"image-source color-primary",children:e.src})]}),(0,Dv.jsx)("h2",{className:"text-medium padding-primary padding-bottom-primary",children:e.title}),(0,Dv.jsx)("p",{className:"margin-bottom padding-primary medieval-first-letter padding-bottom-primary",children:e.description}),(0,Dv.jsx)(xk,{button:i.button})]},e.title)})}))})]})]})};var Qk=function(){var t=(0,e.useContext)(Nv),r=new Jm,a=r.getTours(t.language),o=r.getHeader(t.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:o.gallery}),(0,Dv.jsx)("div",{className:"content-container",children:(0,Dv.jsx)("div",{className:"grid-secondary",children:a.map((function(e){return(0,Dv.jsx)(Iv,{to:"/gallery_rooms",className:"card box-shadow transition-primary hover-primary",children:(0,Dv.jsxs)("div",{className:"flex",onClick:function(){return t.setGalleryTour(e.tour_id)},children:[(0,Dv.jsx)("img",{src:n(9977)("./img".concat(e.img)),alt:"castle",className:"card-image border-radius-primary",loading:"lazy"}),(0,Dv.jsx)("h2",{className:"text-medium gallery-label margin-top-fourth color-primary padding-third",children:e.title})]})},e.title)}))})})]})};var $k=function(){var t=(0,e.useContext)(Nv),r=(new Jm).getTour(t.language,t.gallery_tour);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:r.title}),(0,Dv.jsx)("div",{className:"content-container",children:(0,Dv.jsx)("div",{className:"grid",children:r.rooms.map((function(e){return(0,Dv.jsxs)("div",{className:"flex card box-shadow transition-primary hover-primary",children:[(0,Dv.jsx)("img",{src:n(9977)("./img".concat(e.img)),alt:"castle",className:"card-image border-radius-primary"}),(0,Dv.jsx)("h2",{className:"text-medium gallery-label margin-top-fourth color-primary padding-third",children:e.title})]},e.title)}))})})]})};var eC=function(){var t=av().pathname;return(0,e.useEffect)((function(){window.scrollTo(0,0)}),[t]),null};function tC(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var nC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rC=function(e){function t(t,n){var r=this.constructor,a=e.call(this,t,n)||this;return Object.defineProperty(a,"name",{value:r.name,enumerable:!1,configurable:!0}),function(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}(a,r.prototype),tC(a),a}return nC(t,e),t}(Error);var aC,oC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iC=function(e){function t(t){void 0===t&&(t=void 0);var n=e.call(this,t)||this;return n.message=t,n}return oC(t,e),t.prototype.getKind=function(){return this.constructor.kind},t.kind="Exception",t}(rC),sC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sC(t,e),t.kind="ArgumentException",t}(iC),lC=uC,cC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cC(t,e),t.kind="IllegalArgumentException",t}(iC),hC=dC,fC=function(){function e(e){if(this.binarizer=e,null===e)throw new hC("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},e.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,n,r,a){var o=this.binarizer.getLuminanceSource().crop(t,n,r,a);return new e(this.binarizer.createBinarizer(o))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(g){return""}},e}(),pC=fC,mC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mC(t,e),t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(iC),vC=gC,yC=function(){function e(e){this.source=e}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),bC=function(){function e(){}return e.arraycopy=function(e,t,n,r,a){for(;a--;)n[r++]=e[t++]},e.currentTimeMillis=function(){return Date.now()},e}(),wC=bC,_C=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _C(t,e),t.kind="IndexOutOfBoundsException",t}(iC),kC=xC,CC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EC=function(e){function t(t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var r=e.call(this,n)||this;return r.index=t,r.message=n,r}return CC(t,e),t.kind="ArrayIndexOutOfBoundsException",t}(kC),SC=EC,AC=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},IC=function(){function e(){}return e.fill=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n]=t},e.fillWithin=function(t,n,r,a){e.rangeCheck(t.length,n,r);for(var o=n;o<r;o++)t[o]=a},e.rangeCheck=function(e,t,n){if(t>n)throw new hC("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new SC(t);if(n>e)throw new SC(n)},e.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.create=function(e,t,n){return Array.from({length:e}).map((function(e){return Array.from({length:t}).fill(n)}))},e.createInt32Array=function(e,t,n){return Array.from({length:e}).map((function(e){return Int32Array.from({length:t}).fill(n)}))},e.equals=function(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},e.hashCode=function(e){var t,n;if(null===e)return 0;var r=1;try{for(var a=AC(e),o=a.next();!o.done;o=a.next()){r=31*r+o.value}}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},e.copyOf=function(e,t){return e.slice(0,t)},e.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},e.copyOfRange=function(e,t,n){var r=n-t,a=new Int32Array(r);return wC.arraycopy(e,t,a,0,r),a},e.binarySearch=function(t,n,r){void 0===r&&(r=e.numberComparator);for(var a=0,o=t.length-1;a<=o;){var i=o+a>>1,s=r(n,t[i]);if(s>0)a=i+1;else{if(!(s<0))return i;o=i-1}}return-a-1},e.numberComparator=function(e,t){return e-t},e}(),RC=IC,zC=function(){function e(){}return e.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var n=31;return 0!==(t=e<<16)&&(n-=16,e=t),0!==(t=e<<8)&&(n-=8,e=t),0!==(t=e<<4)&&(n-=4,e=t),0!==(t=e<<2)&&(n-=2,e=t),n-(e<<1>>>31)},e.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31},e.toHexString=function(e){return e.toString(16)},e.toBinaryString=function(e){return String(parseInt(String(e),2))},e.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},e.truncDivision=function(e,t){return Math.trunc(e/t)},e.parseInt=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),TC=zC,NC=function(){function e(t,n){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=void 0===n||null===n?e.makeArray(t):n)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var n=e.makeArray(t);wC.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},e.prototype.get=function(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))},e.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},e.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},e.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,r=Math.floor(e/32),a=n[r];a&=~((1<<(31&e))-1);for(var o=n.length;0===a;){if(++r===o)return t;a=n[r]}var i=32*r+TC.numberOfTrailingZeros(a);return i>t?t:i},e.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,r=Math.floor(e/32),a=~n[r];a&=~((1<<(31&e))-1);for(var o=n.length;0===a;){if(++r===o)return t;a=~n[r]}var i=32*r+TC.numberOfTrailingZeros(a);return i>t?t:i},e.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},e.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new hC;if(t!==e){t--;for(var n=Math.floor(e/32),r=Math.floor(t/32),a=this.bits,o=n;o<=r;o++){var i=(2<<(o<r?31:31&t))-(1<<(o>n?0:31&e));a[o]|=i}}},e.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},e.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new hC;if(t===e)return!0;t--;for(var r=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,i=r;i<=a;i++){var s=(2<<(i<a?31:31&t))-(1<<(i>r?0:31&e))&4294967295;if((o[i]&s)!==(n?s:0))return!1}return!0},e.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},e.prototype.appendBits=function(e,t){if(t<0||t>32)throw new hC("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))},e.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},e.prototype.xor=function(e){if(this.size!==e.size)throw new hC("Sizes don't match");for(var t=this.bits,n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]},e.prototype.toBytes=function(e,t,n,r){for(var a=0;a<r;a++){for(var o=0,i=0;i<8;i++)this.get(e)&&(o|=1<<7-i),e++;t[n+a]=o}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits,a=0;a<n;a++){var o=r[a];o=(o=(o=(o=(o=o>>1&1431655765|(1431655765&o)<<1)>>2&858993459|(858993459&o)<<2)>>4&252645135|(252645135&o)<<4)>>8&16711935|(16711935&o)<<8)>>16&65535|(65535&o)<<16,e[t-a]=o}if(this.size!==32*n){var i=32*n-this.size,s=e[0]>>>i;for(a=1;a<n;a++){var u=e[a];s|=u<<32-i,e[a-1]=s,s=u>>>i}e[n-1]=s}this.bits=e},e.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.size===n.size&&RC.equals(this.bits,n.bits)},e.prototype.hashCode=function(){return 31*this.size+RC.hashCode(this.bits)},e.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e}(),OC=NC;!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(aC||(aC={}));var DC,MC=aC,PC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return PC(t,e),t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(iC),jC=FC,BC=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(DC||(DC={}));var LC,WC=function(){function e(t,n,r){for(var a,o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,this.values="number"===typeof n?Int32Array.from([n]):n,this.otherEncodingNames=i,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(r,this);for(var u=this.values,l=0,c=u.length;l!==c;l++){var d=u[l];e.VALUES_TO_ECI.set(d,this)}try{for(var h=BC(i),f=h.next();!f.done;f=h.next()){var p=f.value;e.NAME_TO_ECI.set(p,this)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new jC("incorect value");var n=e.VALUES_TO_ECI.get(t);if(void 0===n)throw new jC("incorect value");return n},e.getCharacterSetECIByName=function(t){var n=e.NAME_TO_ECI.get(t);if(void 0===n)throw new jC("incorect value");return n},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.getName()===n.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(DC.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(DC.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(DC.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(DC.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(DC.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(DC.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(DC.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(DC.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(DC.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(DC.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(DC.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(DC.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(DC.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(DC.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(DC.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(DC.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(DC.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(DC.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(DC.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(DC.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(DC.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(DC.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(DC.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(DC.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(DC.Big5,28,"Big5"),e.GB18030=new e(DC.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(DC.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),GC=WC,HC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return HC(t,e),t.kind="UnsupportedOperationException",t}(iC),UC=VC,qC=function(){function e(){}return e.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&"ISO-8859-1"===t},e.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)},e.isBrowser=function(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)},e.encodingName=function(e){return"string"===typeof e?e:e.getName()},e.encodingCharacterSet=function(e){return e instanceof GC?e:GC.getCharacterSetECIByName(e)},e.decodeFallback=function(t,n){var r=this.encodingCharacterSet(n);if(e.isDecodeFallbackSupported(r)){for(var a="",o=0,i=t.length;o<i;o++){var s=t[o].toString(16);s.length<2&&(s="0"+s),a+="%"+s}return decodeURIComponent(a)}if(r.equals(GC.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new UC("Encoding "+this.encodingName(n)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(e){return e.equals(GC.UTF8)||e.equals(GC.ISO8859_1)||e.equals(GC.ASCII)},e.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),n=[],r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)},e}(),KC=qC,XC=function(){function e(){}return e.castAsNonUtf8Char=function(e,t){void 0===t&&(t=null);var n=t?t.getName():this.ISO88591;return KC.decode(new Uint8Array([e]),n)},e.guessEncoding=function(t,n){if(null!==n&&void 0!==n&&void 0!==n.get(MC.CHARACTER_SET))return n.get(MC.CHARACTER_SET).toString();for(var r=t.length,a=!0,o=!0,i=!0,s=0,u=0,l=0,c=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],b=0;b<r&&(a||o||i);b++){var w=255&t[b];i&&(s>0?0===(128&w)?i=!1:s--:0!==(128&w)&&(0===(64&w)?i=!1:(s++,0===(32&w)?u++:(s++,0===(16&w)?l++:(s++,0===(8&w)?c++:i=!1))))),a&&(w>127&&w<160?a=!1:w>159&&(w<192||215===w||247===w)&&v++),o&&(d>0?w<64||127===w||w>252?o=!1:d--:128===w||160===w||w>239?o=!1:w>160&&w<224?(h++,p=0,++f>m&&(m=f)):w>127?(d++,f=0,++p>g&&(g=p)):(f=0,p=0))}return i&&s>0&&(i=!1),o&&d>0&&(o=!1),i&&(y||u+l+c>0)?e.UTF8:o&&(e.ASSUME_SHIFT_JIS||m>=3||g>=3)?e.SHIFT_JIS:a&&o?2===m&&2===h||10*v>=r?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:o?e.SHIFT_JIS:i?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(e,n,a,o,i,s){if("%%"===e)return"%";if(void 0!==t[++r]){e=o?parseInt(o.substr(1)):void 0;var u,l=i?parseInt(i.substr(1)):void 0;switch(s){case"s":u=t[r];break;case"c":u=t[r][0];break;case"f":u=parseFloat(t[r]).toFixed(e);break;case"p":u=parseFloat(t[r]).toPrecision(e);break;case"e":u=parseFloat(t[r]).toExponential(e);break;case"x":u=parseInt(t[r]).toString(l||16);break;case"d":u=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}u="object"===typeof u?JSON.stringify(u):(+u).toString(l);for(var c=parseInt(a),d=a&&a[0]+""==="0"?"0":" ";u.length<c;)u=void 0!==n?u+d:d+u;return u}}))},e.getBytes=function(e,t){return KC.encode(e,t)},e.getCharCode=function(e,t){return void 0===t&&(t=0),e.charCodeAt(t)},e.getCharAt=function(e){return String.fromCharCode(e)},e.SHIFT_JIS=GC.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=GC.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=GC.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),ZC=XC,YC=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.enableDecoding=function(e){return this.encoding=e,this},e.prototype.append=function(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=ZC.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},e.prototype.appendChars=function(e,t,n){for(var r=t;t<t+n;r++)this.append(e[r]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(e){return this.value.charAt(e)},e.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},e.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},e.prototype.substring=function(e,t){return this.value.substring(e,t)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},e}(),JC=YC,QC=function(){function e(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new hC("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var n=t.length,r=t[0].length,a=new e(r,n),o=0;o<n;o++)for(var i=t[o],s=0;s<r;s++)i[s]&&a.set(s,o);return a},e.parseFromString=function(t,n,r){if(null===t)throw new hC("stringRepresentation cannot be null");for(var a=new Array(t.length),o=0,i=0,s=-1,u=0,l=0;l<t.length;)if("\n"===t.charAt(l)||"\r"===t.charAt(l)){if(o>i){if(-1===s)s=o-i;else if(o-i!==s)throw new hC("row lengths do not match");i=o,u++}l++}else if(t.substring(l,l+n.length)===n)l+=n.length,a[o]=!0,o++;else{if(t.substring(l,l+r.length)!==r)throw new hC("illegal character encountered: "+t.substring(l));l+=r.length,a[o]=!1,o++}if(o>i){if(-1===s)s=o-i;else if(o-i!==s)throw new hC("row lengths do not match");u++}for(var c=new e(s,u),d=0;d<o;d++)a[d]&&c.set(Math.floor(d%s),Math.floor(d/s));return c},e.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)},e.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295},e.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)},e.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295},e.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new hC("input matrix dimensions do not match");for(var t=new OC(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,a=0,o=this.height;a<o;a++)for(var i=a*n,s=e.getRow(a,t).getBitArray(),u=0;u<n;u++)r[i+u]^=s[u]},e.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},e.prototype.setRegion=function(e,t,n,r){if(t<0||e<0)throw new hC("Left and top must be nonnegative");if(r<1||n<1)throw new hC("Height and width must be at least 1");var a=e+n,o=t+r;if(o>this.height||a>this.width)throw new hC("The region must fit inside the matrix");for(var i=this.rowSize,s=this.bits,u=t;u<o;u++)for(var l=u*i,c=e;c<a;c++)s[l+Math.floor(c/32)]|=1<<(31&c)&4294967295},e.prototype.getRow=function(e,t){null===t||void 0===t||t.getSize()<this.width?t=new OC(this.width):t.clear();for(var n=this.rowSize,r=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(32*o,r[a+o]);return t},e.prototype.setRow=function(e,t){wC.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new OC(e),r=new OC(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),r=this.getRow(t-1-a,r),n.reverse(),r.reverse(),this.setRow(a,r),this.setRow(t-1-a,n)},e.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,r=this.bits,a=e,o=t,i=-1,s=-1,u=0;u<t;u++)for(var l=0;l<n;l++){var c=r[u*n+l];if(0!==c){if(u<o&&(o=u),u>s&&(s=u),32*l<a){for(var d=0;0===(c<<31-d&4294967295);)d++;32*l+d<a&&(a=32*l+d)}if(32*l+31>i){for(d=31;c>>>d===0;)d--;32*l+d>i&&(i=32*l+d)}}}return i<a||s<o?null:Int32Array.from([a,o,i-a+1,s-o+1])},e.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&0===t[n];)n++;if(n===t.length)return null;for(var r=n/e,a=n%e*32,o=t[n],i=0;0===(o<<31-i&4294967295);)i++;return a+=i,Int32Array.from([a,r])},e.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&0===t[n];)n--;if(n<0)return null;for(var r=Math.floor(n/e),a=32*Math.floor(n%e),o=t[n],i=31;o>>>i===0;)i--;return a+=i,Int32Array.from([a,r])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&RC.equals(this.bits,n.bits)},e.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+RC.hashCode(this.bits)},e.prototype.toString=function(e,t,n){return void 0===e&&(e="X "),void 0===t&&(t="  "),void 0===n&&(n="\n"),this.buildToString(e,t,n)},e.prototype.buildToString=function(e,t,n){for(var r=new JC,a=0,o=this.height;a<o;a++){for(var i=0,s=this.width;i<s;i++)r.append(this.get(i,a)?e:t);r.append(n)}return r.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),$C=QC,eE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eE(t,e),t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(iC),nE=tE,rE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aE=function(e){function t(n){var r=e.call(this,n)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return rE(t,e),t.prototype.getBlackRow=function(e,n){var r=this.getLuminanceSource(),a=r.getWidth();void 0===n||null===n||n.getSize()<a?n=new OC(a):n.clear(),this.initArrays(a);for(var o=r.getRow(e,this.luminances),i=this.buckets,s=0;s<a;s++)i[(255&o[s])>>t.LUMINANCE_SHIFT]++;var u=t.estimateBlackPoint(i);if(a<3)for(s=0;s<a;s++)(255&o[s])<u&&n.set(s);else{var l=255&o[0],c=255&o[1];for(s=1;s<a-1;s++){var d=255&o[s+1];(4*c-l-d)/2<u&&n.set(s),l=c,c=d}}return n},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),a=new $C(n,r);this.initArrays(n);for(var o=this.buckets,i=1;i<5;i++)for(var s=Math.floor(r*i/5),u=e.getRow(s,this.luminances),l=Math.floor(4*n/5),c=Math.floor(n/5);c<l;c++){o[(255&u[c])>>t.LUMINANCE_SHIFT]++}var d=t.estimateBlackPoint(o),h=e.getMatrix();for(i=0;i<r;i++){var f=i*n;for(c=0;c<n;c++){(255&h[f+c])<d&&a.set(c,i)}}return a},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var n=this.buckets,r=0;r<t.LUMINANCE_BUCKETS;r++)n[r]=0},t.estimateBlackPoint=function(e){for(var n=e.length,r=0,a=0,o=0,i=0;i<n;i++)e[i]>o&&(a=i,o=e[i]),e[i]>r&&(r=e[i]);var s=0,u=0;for(i=0;i<n;i++){var l=i-a;(f=e[i]*l*l)>u&&(s=i,u=f)}if(a>s){var c=a;a=s,s=c}if(s-a<=n/16)throw new nE;var d=s-1,h=-1;for(i=s-1;i>a;i--){var f,p=i-a;(f=p*p*(s-i)*(r-e[i]))>h&&(d=i,h=f)}return d<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(yC),oE=aE,iE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sE=function(e){function t(t){var n=e.call(this,t)||this;return n.matrix=null,n}return iE(t,e),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),a=n.getHeight();if(r>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var o=n.getMatrix(),i=r>>t.BLOCK_SIZE_POWER;0!==(r&t.BLOCK_SIZE_MASK)&&i++;var s=a>>t.BLOCK_SIZE_POWER;0!==(a&t.BLOCK_SIZE_MASK)&&s++;var u=t.calculateBlackPoints(o,i,s,r,a),l=new $C(r,a);t.calculateThresholdForBlock(o,i,s,r,a,u,l),this.matrix=l}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,n,r,a,o,i,s){for(var u=o-t.BLOCK_SIZE,l=a-t.BLOCK_SIZE,c=0;c<r;c++){var d=c<<t.BLOCK_SIZE_POWER;d>u&&(d=u);for(var h=t.cap(c,2,r-3),f=0;f<n;f++){var p=f<<t.BLOCK_SIZE_POWER;p>l&&(p=l);for(var m=t.cap(f,2,n-3),g=0,v=-2;v<=2;v++){var y=i[h+v];g+=y[m-2]+y[m-1]+y[m]+y[m+1]+y[m+2]}var b=g/25;t.thresholdBlock(e,p,d,b,a,s)}}},t.cap=function(e,t,n){return e<t?t:e>n?n:e},t.thresholdBlock=function(e,n,r,a,o,i){for(var s=0,u=r*o+n;s<t.BLOCK_SIZE;s++,u+=o)for(var l=0;l<t.BLOCK_SIZE;l++)(255&e[u+l])<=a&&i.set(n+l,r+s)},t.calculateBlackPoints=function(e,n,r,a,o){for(var i=o-t.BLOCK_SIZE,s=a-t.BLOCK_SIZE,u=new Array(r),l=0;l<r;l++){u[l]=new Int32Array(n);var c=l<<t.BLOCK_SIZE_POWER;c>i&&(c=i);for(var d=0;d<n;d++){var h=d<<t.BLOCK_SIZE_POWER;h>s&&(h=s);for(var f=0,p=255,m=0,g=0,v=c*a+h;g<t.BLOCK_SIZE;g++,v+=a){for(var y=0;y<t.BLOCK_SIZE;y++){var b=255&e[v+y];f+=b,b<p&&(p=b),b>m&&(m=b)}if(m-p>t.MIN_DYNAMIC_RANGE)for(g++,v+=a;g<t.BLOCK_SIZE;g++,v+=a)for(y=0;y<t.BLOCK_SIZE;y++)f+=255&e[v+y]}var w=f>>2*t.BLOCK_SIZE_POWER;if(m-p<=t.MIN_DYNAMIC_RANGE&&(w=p/2,l>0&&d>0)){var _=(u[l-1][d]+2*u[l][d-1]+u[l-1][d-1])/4;p<_&&(w=_)}u[l][d]=w}}return u},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(oE),uE=sE,lE=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(e,t,n,r){throw new UC("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new UC("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new UC("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new JC,n=0;n<this.height;n++){for(var r=this.getRow(n,e),a=0;a<this.width;a++){var o=255&r[a],i=void 0;i=o<64?"#":o<128?"+":o<192?".":" ",t.append(i)}t.append("\n")}return t.toString()},e}(),cE=lE,dE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hE=function(e){function t(t){var n=e.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return dE(t,e),t.prototype.getRow=function(e,t){for(var n=this.delegate.getRow(e,t),r=this.getWidth(),a=0;a<r;a++)n[a]=255-(255&n[a]);return n},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t),r=0;r<t;r++)n[r]=255-(255&e[r]);return n},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,n,r,a){return new t(this.delegate.crop(e,n,r,a))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(cE),fE=hE,pE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mE=function(e){function t(n){var r=e.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=t.makeBufferFromCanvasImageData(n),r}return pE(t,e),t.makeBufferFromCanvasImageData=function(e){var n=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(n.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,t,n){for(var r=new Uint8ClampedArray(t*n),a=0,o=0,i=e.length;a<i;a+=4,o++){var s=void 0;if(0===e[a+3])s=255;else s=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;r[o]=s}return r},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new hC("Requested row is outside the image: "+e);var n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,n,r,a){return e.prototype.crop.call(this,t,n,r,a),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var n=this.getTempCanvasElement(),r=n.getContext("2d"),a=e*t.DEGREE_TO_RADIANS,o=this.canvas.width,i=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*i),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*i);return n.width=s,n.height=u,r.translate(s/2,u/2),r.rotate(a),r.drawImage(this.canvas,o/-2,i/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new fE(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}(cE),gE=function(){function e(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),vE=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(g){o(g)}}function s(e){try{u(r.throw(e))}catch(g){o(g)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},yE=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(g){o=[6,g],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bE=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wE=function(){function e(e,t,n){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return"undefined"!==typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return vE(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,s,u,l,c,d;return yE(this,(function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),t=[];try{for(n=bE(e),r=n.next();!r.done;r=n.next())a=r.value,"videoinput"===(o="video"===a.kind?"videoinput":a.kind)&&(i=a.deviceId||a.id,s=a.label||"Video device "+(t.length+1),u=a.groupId,l={deviceId:i,label:s,kind:o,groupId:u},t.push(l))}catch(f){c={error:f}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(c)throw c.error}}return[2,t]}}))}))},e.prototype.getVideoInputDevices=function(){return vE(this,void 0,void 0,(function(){return yE(this,(function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map((function(e){return new gE(e.deviceId,e.label)}))]}}))}))},e.prototype.findDeviceById=function(e){return vE(this,void 0,void 0,(function(){var t;return yE(this,(function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=n.sent())?[2,t.find((function(t){return t.deviceId===e}))]:[2,null]}}))}))},e.prototype.decodeFromInputVideoDevice=function(e,t){return vE(this,void 0,void 0,(function(){return yE(this,(function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.decodeOnceFromVideoDevice=function(e,t){return vE(this,void 0,void 0,(function(){var n;return yE(this,(function(r){switch(r.label){case 0:return this.reset(),n={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.decodeOnceFromConstraints=function(e,t){return vE(this,void 0,void 0,(function(){var n;return yE(this,(function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,r.sent()]}}))}))},e.prototype.decodeOnceFromStream=function(e,t){return vE(this,void 0,void 0,(function(){var n;return yE(this,(function(r){switch(r.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=r.sent(),[4,this.decodeOnce(n)];case 2:return[2,r.sent()]}}))}))},e.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return vE(this,void 0,void 0,(function(){return yE(this,(function(r){switch(r.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.decodeFromVideoDevice=function(e,t,n){return vE(this,void 0,void 0,(function(){var r;return yE(this,(function(a){switch(a.label){case 0:return r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(r,t,n)];case 1:return[2,a.sent()]}}))}))},e.prototype.decodeFromConstraints=function(e,t,n){return vE(this,void 0,void 0,(function(){var r;return yE(this,(function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=a.sent(),[4,this.decodeFromStream(r,t,n)];case 2:return[2,a.sent()]}}))}))},e.prototype.decodeFromStream=function(e,t,n){return vE(this,void 0,void 0,(function(){var r;return yE(this,(function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeContinuously(r,n)];case 2:return[2,a.sent()]}}))}))},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(e,t){return vE(this,void 0,void 0,(function(){var n;return yE(this,(function(r){switch(r.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return r.sent(),[2,n]}}))}))},e.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise((function(n,r){return t.playVideoOnLoad(e,(function(){return n()}))}))},e.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},e.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},e.prototype.tryPlayVideo=function(e){return vE(this,void 0,void 0,(function(){return yE(this,(function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}}))}))},e.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new lC("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new lC("element with id '"+e+"' must be an "+t+" element");return n},e.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new lC("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},e.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new lC("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},e.prototype.decodeFromVideoContinuously=function(e,t,n){if(void 0===e&&void 0===t)throw new lC("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},e.prototype.decodeFromImageElement=function(e){if(!e)throw new lC("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},e.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},e.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},e.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new lC("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},e.prototype.decodeFromImageUrl=function(e){if(!e)throw new lC("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},e.prototype.decodeFromVideoUrl=function(e){if(!e)throw new lC("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},e.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new lC("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r},e.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise((function(n,r){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,r)},e.addEventListener("load",t.imageLoadedListener)}))},e.prototype._decodeOnLoadVideo=function(e){return vE(this,void 0,void 0,(function(){return yE(this,(function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}}))}))},e.prototype._decodeOnLoadVideoContinuously=function(e,t){return vE(this,void 0,void 0,(function(){return yE(this,(function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}}))}))},e.prototype.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.prototype.prepareImageElement=function(e){var t;return"undefined"===typeof e&&((t=document.createElement("img")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},e.prototype.prepareVideoElement=function(e){var t;return e||"undefined"===typeof document||((t=document.createElement("video")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},e.prototype.decodeOnce=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var a=function a(o,i){if(r._stopAsyncDecode)return i(new nE("Video stream has ended before any code could be detected.")),void(r._stopAsyncDecode=void 0);try{o(r.decode(e))}catch(g){if(t&&g instanceof nE||(g instanceof vC||g instanceof jC)&&n)return setTimeout(a,r._timeBetweenDecodingAttempts,o,i);i(g)}};return new Promise((function(e,t){return a(e,t)}))},e.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;!function r(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var a=n.decode(e);t(a,null),setTimeout(r,n.timeBetweenScansMillis)}catch(g){t(null,g),(g instanceof vC||g instanceof jC||g instanceof nE)&&setTimeout(r,n._timeBetweenDecodingAttempts)}}()},e.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},e.prototype._isHTMLVideoElement=function(e){return 0!==e.videoWidth},e.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var t=this.getCaptureCanvas(e),n=new mE(t),r=new uE(n);return new pC(r)},e.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(e,t,n){void 0===t&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.drawImageOnCanvas=function(e,t,n){void 0===t&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},e.prototype.createCaptureCanvas=function(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;var t,n,r=document.createElement("canvas");return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(t=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(t=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),r.style.width=t+"px",r.style.height=n+"px",r.width=t,r.height=n,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach((function(e){return e.stop()})),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}},e.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")},e}(),_E=function(){function e(e,t,n,r,a,o){void 0===n&&(n=null==t?0:8*t.length),void 0===o&&(o=wC.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=a,this.resultMetadata=null,this.timestamp=void 0===o||null===o?wC.currentTimeMillis():o}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},e.prototype.putAllMetadata=function(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))},e.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var n=new Array(t.length+e.length);wC.arraycopy(t,0,n,0,t.length),wC.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}();!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(LC||(LC={}));var xE,kE=LC;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(xE||(xE={}));var CE,EE=xE,SE=function(){function e(e,t,n,r,a,o){void 0===a&&(a=-1),void 0===o&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=void 0===e||null===e?0:8*e.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(e){this.numBits=e},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(e){this.erasures=e},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(e){this.other=e},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),AE=function(){function e(){}return e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new hC;return this.logTable[e]},e.addOrSubtract=function(e,t){return e^t},e}(),IE=AE,RE=function(){function e(e,t){if(0===t.length)throw new hC;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),wC.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var t,n=this.coefficients;if(1===e){t=0;for(var r=0,a=n.length;r!==a;r++){var o=n[r];t=IE.addOrSubtract(t,o)}return t}t=n[0];var i=n.length,s=this.field;for(r=1;r<i;r++)t=IE.addOrSubtract(s.multiply(e,t),n[r]);return t},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new hC("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var a=n;n=r,r=a}var o=new Int32Array(r.length),i=r.length-n.length;wC.arraycopy(r,0,o,0,i);for(var s=i;s<r.length;s++)o[s]=IE.addOrSubtract(n[s-i],r[s]);return new e(this.field,o)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new hC("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,a=t.coefficients,o=a.length,i=new Int32Array(r+o-1),s=this.field,u=0;u<r;u++)for(var l=n[u],c=0;c<o;c++)i[u+c]=IE.addOrSubtract(i[u+c],s.multiply(l,a[c]));return new e(s,i)},e.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var n=this.coefficients.length,r=this.field,a=new Int32Array(n),o=this.coefficients,i=0;i<n;i++)a[i]=r.multiply(o[i],t);return new e(r,a)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new hC;if(0===n)return this.field.getZero();for(var r=this.coefficients,a=r.length,o=new Int32Array(a+t),i=this.field,s=0;s<a;s++)o[s]=i.multiply(r[s],n);return new e(i,o)},e.prototype.divide=function(e){if(!this.field.equals(e.field))throw new hC("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new hC("Divide by 0");for(var t=this.field,n=t.getZero(),r=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);r.getDegree()>=e.getDegree()&&!r.isZero();){var i=r.getDegree()-e.getDegree(),s=t.multiply(r.getCoefficient(r.getDegree()),o),u=e.multiplyByMonomial(i,s),l=t.buildMonomial(i,s);n=n.addOrSubtract(l),r=r.addOrSubtract(u)}return[n,r]},e.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){var r=this.field.log(n);0===r?e+="1":1===r?e+="a":(e+="a^",e+=r)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},e}(),zE=RE,TE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return TE(t,e),t.kind="ArithmeticException",t}(iC),OE=NE,DE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ME=function(e){function t(t,n,r){var a=e.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=r;for(var o=new Int32Array(n),i=1,s=0;s<n;s++)o[s]=i,(i*=2)>=n&&(i^=t,i&=n-1);a.expTable=o;var u=new Int32Array(n);for(s=0;s<n-1;s++)u[o[s]]=s;return a.logTable=u,a.zero=new zE(a,Int32Array.from([0])),a.one=new zE(a,Int32Array.from([1])),a}return DE(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new hC;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new zE(this,n)},t.prototype.inverse=function(e){if(0===e)throw new OE;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+TC.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(IE),PE=ME,FE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return FE(t,e),t.kind="ReedSolomonException",t}(iC),BE=jE,LE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return LE(t,e),t.kind="IllegalStateException",t}(iC),GE=WE,HE=function(){function e(e){this.field=e}return e.prototype.decode=function(e,t){for(var n=this.field,r=new zE(n,e),a=new Int32Array(t),o=!0,i=0;i<t;i++){var s=r.evaluateAt(n.exp(i+n.getGeneratorBase()));a[a.length-1-i]=s,0!==s&&(o=!1)}if(!o){var u=new zE(n,a),l=this.runEuclideanAlgorithm(n.buildMonomial(t,1),u,t),c=l[0],d=l[1],h=this.findErrorLocations(c),f=this.findErrorMagnitudes(d,h);for(i=0;i<h.length;i++){var p=e.length-1-n.log(h[i]);if(p<0)throw new BE("Bad error location");e[p]=PE.addOrSubtract(e[p],f[i])}}},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var r=e;e=t,t=r}for(var a=this.field,o=e,i=t,s=a.getZero(),u=a.getOne();i.getDegree()>=(n/2|0);){var l=o,c=s;if(s=u,(o=i).isZero())throw new BE("r_{i-1} was zero");i=l;for(var d=a.getZero(),h=o.getCoefficient(o.getDegree()),f=a.inverse(h);i.getDegree()>=o.getDegree()&&!i.isZero();){var p=i.getDegree()-o.getDegree(),m=a.multiply(i.getCoefficient(i.getDegree()),f);d=d.addOrSubtract(a.buildMonomial(p,m)),i=i.addOrSubtract(o.multiplyByMonomial(p,m))}if(u=d.multiply(s).addOrSubtract(c),i.getDegree()>=o.getDegree())throw new GE("Division algorithm failed to reduce polynomial?")}var g=u.getCoefficient(0);if(0===g)throw new BE("sigmaTilde(0) was zero");var v=a.inverse(g);return[u.multiplyScalar(v),i.multiplyScalar(v)]},e.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),r=0,a=this.field,o=1;o<a.getSize()&&r<t;o++)0===e.evaluateAt(o)&&(n[r]=a.inverse(o),r++);if(r!==t)throw new BE("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,r=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var i=a.inverse(t[o]),s=1,u=0;u<n;u++)if(o!==u){var l=a.multiply(t[u],i),c=0===(1&l)?1|l:-2&l;s=a.multiply(s,c)}r[o]=a.multiply(e.evaluateAt(i),a.inverse(s)),0!==a.getGeneratorBase()&&(r[o]=a.multiply(r[o],i))}return r},e}(),VE=HE;!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(CE||(CE={}));var UE=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),r=this.extractBits(n),a=this.correctBits(r),o=e.convertBoolArrayToByteArray(a),i=e.getEncodedData(a),s=new SE(o,i,null,null);return s.setNumBits(a.length),s},e.highLevelDecode=function(e){return this.getEncodedData(e)},e.getEncodedData=function(t){for(var n=t.length,r=CE.UPPER,a=CE.UPPER,o="",i=0;i<n;)if(a===CE.BINARY){if(n-i<5)break;var s=e.readCode(t,i,5);if(i+=5,0===s){if(n-i<11)break;s=e.readCode(t,i,11)+31,i+=11}for(var u=0;u<s;u++){if(n-i<8){i=n;break}var l=e.readCode(t,i,8);o+=ZC.castAsNonUtf8Char(l),i+=8}a=r}else{var c=a===CE.DIGIT?4:5;if(n-i<c)break;l=e.readCode(t,i,c);i+=c;var d=e.getCharacter(a,l);d.startsWith("CTRL_")?(r=a,a=e.getTable(d.charAt(5)),"L"===d.charAt(6)&&(r=a)):(o+=d,a=r)}return o},e.getTable=function(e){switch(e){case"L":return CE.LOWER;case"P":return CE.PUNCT;case"M":return CE.MIXED;case"D":return CE.DIGIT;case"B":return CE.BINARY;default:return CE.UPPER}},e.getCharacter=function(t,n){switch(t){case CE.UPPER:return e.UPPER_TABLE[n];case CE.LOWER:return e.LOWER_TABLE[n];case CE.MIXED:return e.MIXED_TABLE[n];case CE.PUNCT:return e.PUNCT_TABLE[n];case CE.DIGIT:return e.DIGIT_TABLE[n];default:throw new GE("Bad table")}},e.prototype.correctBits=function(t){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=PE.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=PE.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=PE.AZTEC_DATA_10):(r=12,n=PE.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),o=t.length/r;if(o<a)throw new jC;for(var i=t.length%r,s=new Int32Array(o),u=0;u<o;u++,i+=r)s[u]=e.readCode(t,i,r);try{new VE(n).decode(s,o-a)}catch(m){throw new jC(m)}var l=(1<<r)-1,c=0;for(u=0;u<a;u++){if(0===(f=s[u])||f===l)throw new jC;1!==f&&f!==l-1||c++}var d=new Array(a*r-c),h=0;for(u=0;u<a;u++){var f;if(1===(f=s[u])||f===l-1)d.fill(f>1,h,h+r-1),h+=r-1;else for(var p=r-1;p>=0;--p)d[h++]=0!==(f&1<<p)}return d},e.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,a=new Int32Array(r),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var i=0;i<a.length;i++)a[i]=i;else{var s=r+1+2*TC.truncDivision(TC.truncDivision(r,2)-1,15),u=r/2,l=TC.truncDivision(s,2);for(i=0;i<u;i++){var c=i+TC.truncDivision(i,15);a[u-i-1]=l-c-1,a[u+i]=l+c+1}}i=0;for(var d=0;i<n;i++){for(var h=4*(n-i)+(t?9:12),f=2*i,p=r-1-f,m=0;m<h;m++)for(var g=2*m,v=0;v<2;v++)o[d+g+v]=e.get(a[f+v],a[f+m]),o[d+2*h+g+v]=e.get(a[f+m],a[p-v]),o[d+4*h+g+v]=e.get(a[p-v],a[p-m]),o[d+6*h+g+v]=e.get(a[p-m],a[f+v]);d+=8*h}return o},e.readCode=function(e,t,n){for(var r=0,a=t;a<t+n;a++)r<<=1,e[a]&&(r|=1);return r},e.readByte=function(t,n){var r=t.length-n;return r>=8?e.readCode(t,n,8):e.readCode(t,n,r)<<8-r},e.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),r=0;r<n.length;r++)n[r]=e.readByte(t,8*r);return n},e.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),qE=UE,KE=function(){function e(){}return e.round=function(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},e.distance=function(e,t,n,r){var a=e-n,o=t-r;return Math.sqrt(a*a+o*o)},e.sum=function(e){for(var t=0,n=0,r=e.length;n!==r;n++){t+=e[n]}return t},e}(),XE=KE,ZE=function(){function e(){}return e.floatToIntBits=function(e){return e},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),YE=ZE,JE=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.x===n.x&&this.y===n.y}return!1},e.prototype.hashCode=function(){return 31*YE.floatToIntBits(this.x)+YE.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(e){var t,n,r,a=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);if(o>=a&&o>=i?(n=e[0],t=e[1],r=e[2]):i>=o&&i>=a?(n=e[1],t=e[0],r=e[2]):(n=e[2],t=e[0],r=e[1]),this.crossProductZ(t,n,r)<0){var s=t;t=r,r=s}e[0]=t,e[1]=n,e[2]=r},e.distance=function(e,t){return XE.distance(e.x,e.y,t.x,t.y)},e.crossProductZ=function(e,t,n){var r=t.x,a=t.y;return(n.x-r)*(e.y-a)-(n.y-a)*(e.x-r)},e}(),QE=JE,$E=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),eS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tS=function(e){function t(t,n,r,a,o){var i=e.call(this,t,n)||this;return i.compact=r,i.nbDatablocks=a,i.nbLayers=o,i}return eS(t,e),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}($E),nS=function(){function e(t,n,r,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),void 0!==n&&null!==n||(n=e.INIT_SIZE),void 0!==r&&null!==r||(r=t.getWidth()/2|0),void 0!==a&&null!==a||(a=t.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=a-o,this.downInit=a+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new nE}return e.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,a=!1,o=!0,i=!1,s=!1,u=!1,l=!1,c=!1,d=this.width,h=this.height;o;){o=!1;for(var f=!0;(f||!s)&&t<d;)(f=this.containsBlackPoint(n,r,t,!1))?(t++,o=!0,s=!0):s||t++;if(t>=d){a=!0;break}for(var p=!0;(p||!u)&&r<h;)(p=this.containsBlackPoint(e,t,r,!0))?(r++,o=!0,u=!0):u||r++;if(r>=h){a=!0;break}for(var m=!0;(m||!l)&&e>=0;)(m=this.containsBlackPoint(n,r,e,!1))?(e--,o=!0,l=!0):l||e--;if(e<0){a=!0;break}for(var g=!0;(g||!c)&&n>=0;)(g=this.containsBlackPoint(e,t,n,!0))?(n--,o=!0,c=!0):c||n--;if(n<0){a=!0;break}o&&(i=!0)}if(!a&&i){for(var v=t-e,y=null,b=1;null===y&&b<v;b++)y=this.getBlackPointOnSegment(e,r-b,e+b,r);if(null==y)throw new nE;var w=null;for(b=1;null===w&&b<v;b++)w=this.getBlackPointOnSegment(e,n+b,e+b,n);if(null==w)throw new nE;var _=null;for(b=1;null===_&&b<v;b++)_=this.getBlackPointOnSegment(t,n+b,t-b,n);if(null==_)throw new nE;var x=null;for(b=1;null===x&&b<v;b++)x=this.getBlackPointOnSegment(t,r-b,t-b,r);if(null==x)throw new nE;return this.centerEdges(x,y,_,w)}throw new nE},e.prototype.getBlackPointOnSegment=function(e,t,n,r){for(var a=XE.round(XE.distance(e,t,n,r)),o=(n-e)/a,i=(r-t)/a,s=this.image,u=0;u<a;u++){var l=XE.round(e+u*o),c=XE.round(t+u*i);if(s.get(l,c))return new QE(l,c)}return null},e.prototype.centerEdges=function(t,n,r,a){var o=t.getX(),i=t.getY(),s=n.getX(),u=n.getY(),l=r.getX(),c=r.getY(),d=a.getX(),h=a.getY(),f=e.CORR;return o<this.width/2?[new QE(d-f,h+f),new QE(s+f,u+f),new QE(l-f,c-f),new QE(o+f,i-f)]:[new QE(d+f,h+f),new QE(s+f,u-f),new QE(l-f,c+f),new QE(o-f,i-f)]},e.prototype.containsBlackPoint=function(e,t,n,r){var a=this.image;if(r){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var i=e;i<=t;i++)if(a.get(n,i))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),rS=nS,aS=function(){function e(){}return e.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),r=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var i=Math.floor(t[o]),s=Math.floor(t[o+1]);if(i<-1||i>n||s<-1||s>r)throw new nE;a=!1,-1===i?(t[o]=0,a=!0):i===n&&(t[o]=n-1,a=!0),-1===s?(t[o+1]=0,a=!0):s===r&&(t[o+1]=r-1,a=!0)}a=!0;for(o=t.length-2;o>=0&&a;o-=2){i=Math.floor(t[o]),s=Math.floor(t[o+1]);if(i<-1||i>n||s<-1||s>r)throw new nE;a=!1,-1===i?(t[o]=0,a=!0):i===n&&(t[o]=n-1,a=!0),-1===s?(t[o+1]=0,a=!0):s===r&&(t[o+1]=r-1,a=!0)}},e}(),oS=aS,iS=function(){function e(e,t,n,r,a,o,i,s,u){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=a,this.a32=o,this.a13=i,this.a23=s,this.a33=u}return e.quadrilateralToQuadrilateral=function(t,n,r,a,o,i,s,u,l,c,d,h,f,p,m,g){var v=e.quadrilateralToSquare(t,n,r,a,o,i,s,u);return e.squareToQuadrilateral(l,c,d,h,f,p,m,g).times(v)},e.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,r=this.a12,a=this.a13,o=this.a21,i=this.a22,s=this.a23,u=this.a31,l=this.a32,c=this.a33,d=0;d<t;d+=2){var h=e[d],f=e[d+1],p=a*h+s*f+c;e[d]=(n*h+o*f+u)/p,e[d+1]=(r*h+i*f+l)/p}},e.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,r=this.a12,a=this.a13,o=this.a21,i=this.a22,s=this.a23,u=this.a31,l=this.a32,c=this.a33,d=e.length,h=0;h<d;h++){var f=e[h],p=t[h],m=a*f+s*p+c;e[h]=(n*f+o*p+u)/m,t[h]=(r*f+i*p+l)/m}},e.squareToQuadrilateral=function(t,n,r,a,o,i,s,u){var l=t-r+o-s,c=n-a+i-u;if(0===l&&0===c)return new e(r-t,o-r,t,a-n,i-a,n,0,0,1);var d=r-o,h=s-o,f=a-i,p=u-i,m=d*p-h*f,g=(l*p-h*c)/m,v=(d*c-l*f)/m;return new e(r-t+g*r,s-t+v*s,t,a-n+g*a,u-n+v*u,n,g,v,1)},e.quadrilateralToSquare=function(t,n,r,a,o,i,s,u){return e.squareToQuadrilateral(t,n,r,a,o,i,s,u).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),sS=iS,uS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uS(t,e),t.prototype.sampleGrid=function(e,t,n,r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,y){var b=sS.quadrilateralToQuadrilateral(r,a,o,i,s,u,l,c,d,h,f,p,m,g,v,y);return this.sampleGridWithTransform(e,t,n,b)},t.prototype.sampleGridWithTransform=function(e,t,n,r){if(t<=0||n<=0)throw new nE;for(var a=new $C(t,n),o=new Float32Array(2*t),i=0;i<n;i++){for(var s=o.length,u=i+.5,l=0;l<s;l+=2)o[l]=l/2+.5,o[l+1]=u;r.transformPoints(o),oS.checkAndNudgePoints(e,o);try{for(l=0;l<s;l+=2)e.get(Math.floor(o[l]),Math.floor(o[l+1]))&&a.set(l/2,i)}catch(c){throw new nE}}return a},t}(oS),cS=lS,dS=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new cS,e}(),hS=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toResultPoint=function(){return new QE(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),fS=function(){function e(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new tS(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new nE;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var r=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(r<<=7,r+=o>>1&127):(r<<=10,r+=(o>>2&992)+(o>>1&31))}var i=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(i>>6),this.nbDataBlocks=1+(63&i)):(this.nbLayers=1+(i>>11),this.nbDataBlocks=1+(2047&i))},e.prototype.getRotation=function(e,t){var n=0;e.forEach((function(e,r,a){n=(n<<3)+((e>>t-2<<1)+(1&e))})),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(TC.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new nE},e.prototype.getCorrectedParameterData=function(e,t){var n,r;t?(n=7,r=2):(n=10,r=4);for(var a=n-r,o=new Int32Array(n),i=n-1;i>=0;--i)o[i]=15&e,e>>=4;try{new VE(PE.AZTEC_PARAM).decode(o,a)}catch(u){throw new nE}var s=0;for(i=0;i<r;i++)s=(s<<4)+o[i];return s},e.prototype.getBullsEyeCorners=function(e){var t=e,n=e,r=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var i=this.getFirstDifferent(t,o,1,-1),s=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(r,o,-1,1),l=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var c=this.distancePoint(l,i)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(c<.75||c>1.25||!this.isWhiteOrBlackRectangle(i,s,u,l))break}t=i,n=s,r=u,a=l,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new nE;this.compact=5===this.nbCenterLayers;var d=new QE(t.getX()+.5,t.getY()-.5),h=new QE(n.getX()+.5,n.getY()+.5),f=new QE(r.getX()-.5,r.getY()+.5),p=new QE(a.getX()-.5,a.getY()-.5);return this.expandSquare([d,h,f,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var e,t,n,r;try{e=(u=new rS(this.image).detect())[0],t=u[1],n=u[2],r=u[3]}catch(g){var a=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new hS(a+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new hS(a+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new hS(a-7,o+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new hS(a-7,o-7),!1,-1,-1).toResultPoint()}var i=XE.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=XE.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{var u;e=(u=new rS(this.image,15,i,s).detect())[0],t=u[1],n=u[2],r=u[3]}catch(g){e=this.getFirstDifferent(new hS(i+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new hS(i+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new hS(i-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new hS(i-7,s-7),!1,-1,-1).toResultPoint()}return i=XE.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=XE.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new hS(i,s)},e.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(e,t,n,r,a){var o=dS.getInstance(),i=this.getDimension(),s=i/2-this.nbCenterLayers,u=i/2+this.nbCenterLayers;return o.sampleGrid(e,i,i,s,s,u,s,u,u,s,u,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),a.getX(),a.getY())},e.prototype.sampleLine=function(e,t,n){for(var r=0,a=this.distanceResultPoint(e,t),o=a/n,i=e.getX(),s=e.getY(),u=o*(t.getX()-e.getX())/a,l=o*(t.getY()-e.getY())/a,c=0;c<n;c++)this.image.get(XE.round(i+c*u),XE.round(s+c*l))&&(r|=1<<n-c-1);return r},e.prototype.isWhiteOrBlackRectangle=function(e,t,n,r){e=new hS(e.getX()-3,e.getY()+3),t=new hS(t.getX()-3,t.getY()-3),n=new hS(n.getX()+3,n.getY()-3),r=new hS(r.getX()+3,r.getY()+3);var a=this.getColor(r,e);if(0===a)return!1;var o=this.getColor(e,t);return o===a&&((o=this.getColor(t,n))===a&&(o=this.getColor(n,r))===a)},e.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,i=e.getX(),s=e.getY(),u=this.image.get(e.getX(),e.getY()),l=Math.ceil(n),c=0;c<l;c++)i+=r,s+=a,this.image.get(XE.round(i),XE.round(s))!==u&&o++;var d=o/n;return d>.1&&d<.9?0:d<=.1===u?1:-1},e.prototype.getFirstDifferent=function(e,t,n,r){for(var a=e.getX()+n,o=e.getY()+r;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=r;for(a-=n,o-=r;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=r;return new hS(a,o-=r)},e.prototype.expandSquare=function(e,t,n){var r=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),i=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,u=new QE(i+r*a,s+r*o),l=new QE(i-r*a,s-r*o);return a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),i=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[u,new QE(i+r*a,s+r*o),l,new QE(i-r*a,s-r*o)]},e.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},e.prototype.isValidPoint=function(e){var t=XE.round(e.getX()),n=XE.round(e.getY());return this.isValid(t,n)},e.prototype.distancePoint=function(e,t){return XE.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.distanceResultPoint=function(e,t){return XE.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(TC.truncDivision(this.nbLayers-4,8)+1)+15},e}(),pS=fS,mS=function(){function e(){}return e.prototype.decode=function(e,t){void 0===t&&(t=null);var n=null,r=new pS(e.getBlackMatrix()),a=null,o=null;try{a=(i=r.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,a),o=(new qE).decode(i)}catch(g){n=g}if(null==o)try{var i;a=(i=r.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,a),o=(new qE).decode(i)}catch(g){if(null!=n)throw n;throw g}var s=new _E(o.getText(),o.getRawBytes(),o.getNumBits(),a,kE.AZTEC,wC.currentTimeMillis()),u=o.getByteSegments();null!=u&&s.putMetadata(EE.BYTE_SEGMENTS,u);var l=o.getECLevel();return null!=l&&s.putMetadata(EE.ERROR_CORRECTION_LEVEL,l),s},e.prototype.reportFoundResultPoints=function(e,t){if(null!=e){var n=e.get(MC.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach((function(e,t,r){n.foundPossibleResultPoint(e)}))}},e.prototype.reset=function(){},e}(),gS=mS,vS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yS=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new gS,t)||this}vS(t,e)}(wE),function(){function e(){}return e.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(l){if(t&&!0===t.get(MC.TRY_HARDER)&&e.isRotateSupported()){var n=e.rotateCounterClockwise(),r=this.doDecode(n,t),a=r.getResultMetadata(),o=270;null!==a&&!0===a.get(EE.ORIENTATION)&&(o+=a.get(EE.ORIENTATION)%360),r.putMetadata(EE.ORIENTATION,o);var i=r.getResultPoints();if(null!==i)for(var s=n.getHeight(),u=0;u<i.length;u++)i[u]=new QE(s-i[u].getY()-1,i[u].getX());return r}throw new nE}},e.prototype.reset=function(){},e.prototype.doDecode=function(e,t){var n,r=e.getWidth(),a=e.getHeight(),o=new OC(r),i=t&&!0===t.get(MC.TRY_HARDER),s=Math.max(1,a>>(i?8:5));n=i?a:15;for(var u=Math.trunc(a/2),l=0;l<n;l++){var c=Math.trunc((l+1)/2),d=u+s*(0===(1&l)?c:-c);if(d<0||d>=a)break;try{o=e.getBlackRow(d,o)}catch(g){continue}for(var h=function(e){if(1===e&&(o.reverse(),t&&!0===t.get(MC.NEED_RESULT_POINT_CALLBACK))){var n=new Map;t.forEach((function(e,t){return n.set(t,e)})),n.delete(MC.NEED_RESULT_POINT_CALLBACK),t=n}try{var a=f.decodeRow(d,o,t);if(1===e){a.putMetadata(EE.ORIENTATION,180);var i=a.getResultPoints();null!==i&&(i[0]=new QE(r-i[0].getX()-1,i[0].getY()),i[1]=new QE(r-i[1].getX()-1,i[1].getY()))}return{value:a}}catch(ut){}},f=this,p=0;p<2;p++){var m=h(p);if("object"===typeof m)return m.value}}throw new nE},e.recordPattern=function(e,t,n){for(var r=n.length,a=0;a<r;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new nE;for(var i=!e.get(t),s=0,u=t;u<o;){if(e.get(u)!==i)n[s]++;else{if(++s===r)break;n[s]=1,i=!i}u++}if(s!==r&&(s!==r-1||u!==o))throw new nE},e.recordPatternInReverse=function(t,n,r){for(var a=r.length,o=t.get(n);n>0&&a>=0;)t.get(--n)!==o&&(a--,o=!o);if(a>=0)throw new nE;e.recordPattern(t,n+1,r)},e.patternMatchVariance=function(e,t,n){for(var r=e.length,a=0,o=0,i=0;i<r;i++)a+=e[i],o+=t[i];if(a<o)return Number.POSITIVE_INFINITY;var s=a/o;n*=s;for(var u=0,l=0;l<r;l++){var c=e[l],d=t[l]*s,h=c>d?c-d:d-c;if(h>n)return Number.POSITIVE_INFINITY;u+=h}return u/a},e}()),bS=yS,wS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wS(t,e),t.findStartPattern=function(e){for(var n=e.getSize(),r=e.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),i=r,s=!1,u=r;u<n;u++)if(e.get(u)!==s)o[a]++;else{if(5===a){for(var l=t.MAX_AVG_VARIANCE,c=-1,d=t.CODE_START_A;d<=t.CODE_START_C;d++){var h=bS.patternMatchVariance(o,t.CODE_PATTERNS[d],t.MAX_INDIVIDUAL_VARIANCE);h<l&&(l=h,c=d)}if(c>=0&&e.isRange(Math.max(0,i-(u-i)/2),i,!1))return Int32Array.from([i,u,c]);i+=o[0]+o[1],(o=o.slice(2,o.length-1))[a-1]=0,o[a]=0,a--}else a++;o[a]=1,s=!s}throw new nE},t.decodeCode=function(e,n,r){bS.recordPattern(e,r,n);for(var a=t.MAX_AVG_VARIANCE,o=-1,i=0;i<t.CODE_PATTERNS.length;i++){var s=t.CODE_PATTERNS[i],u=this.patternMatchVariance(n,s,t.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=i)}if(o>=0)return o;throw new nE},t.prototype.decodeRow=function(e,n,r){var a,o=r&&!0===r.get(MC.ASSUME_GS1),i=t.findStartPattern(n),s=i[2],u=0,l=new Uint8Array(20);switch(l[u++]=s,s){case t.CODE_START_A:a=t.CODE_CODE_A;break;case t.CODE_START_B:a=t.CODE_CODE_B;break;case t.CODE_START_C:a=t.CODE_CODE_C;break;default:throw new jC}for(var c=!1,d=!1,h="",f=i[0],p=i[1],m=Int32Array.from([0,0,0,0,0,0]),g=0,v=0,y=s,b=0,w=!0,_=!1,x=!1;!c;){var k=d;switch(d=!1,g=v,v=t.decodeCode(n,m,p),l[u++]=v,v!==t.CODE_STOP&&(w=!0),v!==t.CODE_STOP&&(y+=++b*v),f=p,p+=m.reduce((function(e,t){return e+t}),0),v){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new jC}switch(a){case t.CODE_CODE_A:if(v<64)h+=x===_?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),x=!1;else if(v<96)h+=x===_?String.fromCharCode(v-64):String.fromCharCode(v+64),x=!1;else switch(v!==t.CODE_STOP&&(w=!1),v){case t.CODE_FNC_1:o&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!_&&x?(_=!0,x=!1):_&&x?(_=!1,x=!1):x=!0;break;case t.CODE_SHIFT:d=!0,a=t.CODE_CODE_B;break;case t.CODE_CODE_B:a=t.CODE_CODE_B;break;case t.CODE_CODE_C:a=t.CODE_CODE_C;break;case t.CODE_STOP:c=!0}break;case t.CODE_CODE_B:if(v<96)h+=x===_?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),x=!1;else switch(v!==t.CODE_STOP&&(w=!1),v){case t.CODE_FNC_1:o&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!_&&x?(_=!0,x=!1):_&&x?(_=!1,x=!1):x=!0;break;case t.CODE_SHIFT:d=!0,a=t.CODE_CODE_A;break;case t.CODE_CODE_A:a=t.CODE_CODE_A;break;case t.CODE_CODE_C:a=t.CODE_CODE_C;break;case t.CODE_STOP:c=!0}break;case t.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==t.CODE_STOP&&(w=!1),v){case t.CODE_FNC_1:o&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case t.CODE_CODE_A:a=t.CODE_CODE_A;break;case t.CODE_CODE_B:a=t.CODE_CODE_B;break;case t.CODE_STOP:c=!0}}k&&(a=a===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var C=p-f;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-f)/2),!1))throw new nE;if((y-=b*g)%103!==g)throw new vC;var E=h.length;if(0===E)throw new nE;E>0&&w&&(h=a===t.CODE_CODE_C?h.substring(0,E-2):h.substring(0,E-1));for(var S=(i[1]+i[0])/2,A=f+C/2,I=l.length,R=new Uint8Array(I),z=0;z<I;z++)R[z]=l[z];var T=[new QE(S,e),new QE(A,e)];return new _E(h,R,0,T,kE.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(bS),xS=_S,kS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CS=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ES=function(e){function t(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.call(this)||this;return r.usingCheckDigit=t,r.extendedMode=n,r.decodeRowResult="",r.counters=new Int32Array(9),r}return kS(t,e),t.prototype.decodeRow=function(e,n,r){var a,o,i,s,u=this.counters;u.fill(0),this.decodeRowResult="";var l,c,d=t.findAsteriskPattern(n,u),h=n.getNextSet(d[1]),f=n.getSize();do{t.recordPattern(n,h,u);var p=t.toNarrowWidePattern(u);if(p<0)throw new nE;l=t.patternToChar(p),this.decodeRowResult+=l,c=h;try{for(var m=(a=void 0,CS(u)),g=m.next();!g.done;g=m.next()){h+=g.value}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}h=n.getNextSet(h)}while("*"!==l);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var v,y=0;try{for(var b=CS(u),w=b.next();!w.done;w=b.next()){y+=w.value}}catch(A){i={error:A}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}if(h!==f&&2*(h-c-y)<y)throw new nE;if(this.usingCheckDigit){for(var _=this.decodeRowResult.length-1,x=0,k=0;k<_;k++)x+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(_)!==t.ALPHABET_STRING.charAt(x%43))throw new vC;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(0===this.decodeRowResult.length)throw new nE;v=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var C=(d[1]+d[0])/2,E=c+y/2;return new _E(v,null,0,[new QE(C,e),new QE(E,e)],kE.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,n){for(var r=e.getSize(),a=e.getNextSet(0),o=0,i=a,s=!1,u=n.length,l=a;l<r;l++)if(e.get(l)!==s)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,i-Math.floor((l-i)/2)),i,!1))return[i,l];i+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,s=!s}throw new nE},t.toNarrowWidePattern=function(e){var t,n,r,a=e.length,o=0;do{var i=2147483647;try{for(var s=(t=void 0,CS(e)),u=s.next();!u.done;u=s.next()){(h=u.value)<i&&h>o&&(i=h)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}o=i,r=0;for(var l=0,c=0,d=0;d<a;d++){(h=e[d])>o&&(c|=1<<a-1-d,r++,l+=h)}if(3===r){for(d=0;d<a&&r>0;d++){var h;if((h=e[d])>o&&(r--,2*h>=l))return-1}return c}}while(r>3);return-1},t.patternToChar=function(e){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===e)return t.ALPHABET_STRING.charAt(n);if(e===t.ASTERISK_ENCODING)return"*";throw new nE},t.decodeExtended=function(e){for(var t=e.length,n="",r=0;r<t;r++){var a=e.charAt(r);if("+"===a||"$"===a||"%"===a||"/"===a){var o=e.charAt(r+1),i="\0";switch(a){case"+":if(!(o>="A"&&o<="Z"))throw new jC;i=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new jC;i=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")i=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")i=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")i=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")i=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)i="\0";else if("V"===o)i="@";else if("W"===o)i="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new jC;i="\x7f"}break;case"/":if(o>="A"&&o<="O")i=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new jC;i=":"}}n+=i,r++}else n+=a}return n},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(bS),SS=ES,AS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IS=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return AS(t,e),t.prototype.decodeRow=function(e,n,r){var a,o,i=this.decodeStart(n),s=this.decodeEnd(n),u=new JC;t.decodeMiddle(n,i[1],s[0],u);var l=u.toString(),c=null;null!=r&&(c=r.get(MC.ALLOWED_LENGTHS)),null==c&&(c=t.DEFAULT_ALLOWED_LENGTHS);var d=l.length,h=!1,f=0;try{for(var p=IS(c),m=p.next();!m.done;m=p.next()){var g=m.value;if(d===g){h=!0;break}g>f&&(f=g)}}catch(y){a={error:y}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}if(!h&&d>f&&(h=!0),!h)throw new jC;var v=[new QE(i[1],e),new QE(s[0],e)];return new _E(l,null,0,v,kE.ITF,(new Date).getTime())},t.decodeMiddle=function(e,n,r,a){var o=new Int32Array(10),i=new Int32Array(5),s=new Int32Array(5);for(o.fill(0),i.fill(0),s.fill(0);n<r;){bS.recordPattern(e,n,o);for(var u=0;u<5;u++){var l=2*u;i[u]=o[l],s[u]=o[l+1]}var c=t.decodeDigit(i);a.append(c.toString()),c=this.decodeDigit(s),a.append(c.toString()),o.forEach((function(e){n+=e}))}},t.prototype.decodeStart=function(e){var n=t.skipWhiteSpace(e),r=t.findGuardPattern(e,n,t.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r},t.prototype.validateQuietZone=function(e,t){var n=10*this.narrowLineWidth;n=n<t?n:t;for(var r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new nE},t.skipWhiteSpace=function(e){var t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new nE;return n},t.prototype.decodeEnd=function(e){e.reverse();try{var n=t.skipWhiteSpace(e),r=void 0;try{r=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[0])}catch(o){o instanceof nE&&(r=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);var a=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-a,r}finally{e.reverse()}},t.findGuardPattern=function(e,n,r){var a=r.length,o=new Int32Array(a),i=e.getSize(),s=!1,u=0,l=n;o.fill(0);for(var c=n;c<i;c++)if(e.get(c)!==s)o[u]++;else{if(u===a-1){if(bS.patternMatchVariance(o,r,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[l,c];l+=o[0]+o[1],wC.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,s=!s}throw new nE},t.decodeDigit=function(e){for(var n=t.MAX_AVG_VARIANCE,r=-1,a=t.PATTERNS.length,o=0;o<a;o++){var i=t.PATTERNS[o],s=bS.patternMatchVariance(e,i,t.MAX_INDIVIDUAL_VARIANCE);s<n?(n=s,r=o):s===n&&(r=-1)}if(r>=0)return r%10;throw new nE},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(bS),zS=RS,TS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return TS(t,e),t.findStartGuardPattern=function(e){for(var n,r=!1,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]);var i=(n=t.findGuardPattern(e,a,!1,this.START_END_PATTERN,o))[0],s=i-((a=n[1])-i);s>=0&&(r=e.isRange(s,i,!1))}return n},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var r=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===r},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,r=t-1;r>=0;r-=2){if((a=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new jC;n+=a}n*=3;for(r=t-2;r>=0;r-=2){var a;if((a=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new jC;n+=a}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))},t.findGuardPattern=function(e,n,r,a,o){for(var i=e.getSize(),s=0,u=n=r?e.getNextUnset(n):e.getNextSet(n),l=a.length,c=r,d=n;d<i;d++)if(e.get(d)!==c)o[s]++;else{if(s===l-1){if(bS.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([u,d]);u+=o[0]+o[1];for(var h=o.slice(2,o.length-1),f=0;f<s-1;f++)o[f]=h[f];o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,c=!c}throw new nE},t.decodeDigit=function(e,n,r,a){this.recordPattern(e,r,n);for(var o=this.MAX_AVG_VARIANCE,i=-1,s=a.length,u=0;u<s;u++){var l=a[u],c=bS.patternMatchVariance(n,l,t.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,i=u)}if(i>=0)return i;throw new nE},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(bS),OS=NS,DS=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MS=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,a),i=a.toString(),s=e.parseExtensionString(i),u=[new QE((r[0]+r[1])/2,t),new QE(o,t)],l=new _E(i,null,0,u,kE.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},e.prototype.decodeMiddle=function(t,n,r){var a,o,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=t.getSize(),u=n[1],l=0,c=0;c<5&&u<s;c++){var d=OS.decodeDigit(t,i,u,OS.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(a=void 0,DS(i)),f=h.next();!f.done;f=h.next()){u+=f.value}}catch(m){a={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}d>=10&&(l|=1<<4-c),4!==c&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(5!==r.length)throw new nE;var p=this.determineCheckDigit(l);if(e.extensionChecksum(r.toString())!==p)throw new nE;return u},e.extensionChecksum=function(e){for(var t=e.length,n=0,r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new nE},e.parseExtensionString=function(t){if(5!==t.length)return null;var n=e.parseExtension5String(t);return null==n?null:new Map([[EE.SUGGESTED_PRICE,n]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())},e}(),PS=MS,FS=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jS=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,a),i=a.toString(),s=e.parseExtensionString(i),u=[new QE((r[0]+r[1])/2,t),new QE(o,t)],l=new _E(i,null,0,u,kE.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},e.prototype.decodeMiddle=function(e,t,n){var r,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var i=e.getSize(),s=t[1],u=0,l=0;l<2&&s<i;l++){var c=OS.decodeDigit(e,o,s,OS.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+c%10);try{for(var d=(r=void 0,FS(o)),h=d.next();!h.done;h=d.next()){s+=h.value}}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}c>=10&&(u|=1<<1-l),1!==l&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(2!==n.length)throw new nE;if(parseInt(n.toString())%4!==u)throw new nE;return s},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[EE.ISSUE_NUMBER,parseInt(e)]])},e}(),BS=jS,LS=function(){function e(){}return e.decodeRow=function(e,t,n){var r=OS.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new PS).decodeRow(e,t,r)}catch(a){return(new BS).decodeRow(e,t,r)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),WS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GS=function(e){function t(){var n=e.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map((function(e){return Int32Array.from(e)}));for(var r=10;r<20;r++){for(var a=t.L_PATTERNS[r-10],o=new Int32Array(a.length),i=0;i<a.length;i++)o[i]=a[a.length-i-1];t.L_AND_G_PATTERNS[r]=o}return n}return WS(t,e),t.prototype.decodeRow=function(e,n,r){var a=t.findStartGuardPattern(n),o=null==r?null:r.get(MC.NEED_RESULT_POINT_CALLBACK);if(null!=o){var i=new QE((a[0]+a[1])/2,e);o.foundPossibleResultPoint(i)}var s=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=s.rowOffset,l=s.resultString;if(null!=o){var c=new QE(u,e);o.foundPossibleResultPoint(c)}var d=t.decodeEnd(n,u);if(null!=o){var h=new QE((d[0]+d[1])/2,e);o.foundPossibleResultPoint(h)}var f=d[1],p=f+(f-d[0]);if(p>=n.getSize()||!n.isRange(f,p,!1))throw new nE;var m=l.toString();if(m.length<8)throw new jC;if(!t.checkChecksum(m))throw new vC;var g=(a[1]+a[0])/2,v=(d[1]+d[0])/2,y=this.getBarcodeFormat(),b=[new QE(g,e),new QE(v,e)],w=new _E(m,null,0,b,y,(new Date).getTime()),_=0;try{var x=LS.decodeRow(e,n,d[1]);w.putMetadata(EE.UPC_EAN_EXTENSION,x.getText()),w.putAllMetadata(x.getResultMetadata()),w.addResultPoints(x.getResultPoints()),_=x.getText().length}catch(S){}var k=null==r?null:r.get(MC.ALLOWED_EAN_EXTENSIONS);if(null!=k){var C=!1;for(var E in k)if(_.toString()===E){C=!0;break}if(!C)throw new nE}return y===kE.EAN_13||kE.UPC_A,w},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var r=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===r},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,r=t-1;r>=0;r-=2){if((a=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new jC;n+=a}n*=3;for(r=t-2;r>=0;r-=2){var a;if((a=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||a>9)throw new jC;n+=a}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(OS),HS=GS,VS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),US=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qS=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return VS(t,e),t.prototype.decodeMiddle=function(e,n,r){var a,o,i,s,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=e.getSize(),c=n[1],d=0,h=0;h<6&&c<l;h++){var f=HS.decodeDigit(e,u,c,HS.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var p=(a=void 0,US(u)),m=p.next();!m.done;m=p.next()){c+=m.value}}catch(y){a={error:y}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}f>=10&&(d|=1<<5-h)}r=t.determineFirstDigit(r,d),c=HS.findGuardPattern(e,c,!0,HS.MIDDLE_PATTERN,new Int32Array(HS.MIDDLE_PATTERN.length).fill(0))[1];for(h=0;h<6&&c<l;h++){f=HS.decodeDigit(e,u,c,HS.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f);try{for(var g=(i=void 0,US(u)),v=g.next();!v.done;v=g.next()){c+=v.value}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}return{rowOffset:c,resultString:r}},t.prototype.getBarcodeFormat=function(){return kE.EAN_13},t.determineFirstDigit=function(e,t){for(var n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new nE},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(HS),KS=qS,XS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZS=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},YS=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return XS(t,e),t.prototype.decodeMiddle=function(e,t,n){var r,a,o,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),l=t[1],c=0;c<4&&l<u;c++){var d=HS.decodeDigit(e,s,l,HS.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var h=(r=void 0,ZS(s)),f=h.next();!f.done;f=h.next()){l+=f.value}}catch(g){r={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}l=HS.findGuardPattern(e,l,!0,HS.MIDDLE_PATTERN,new Int32Array(HS.MIDDLE_PATTERN.length).fill(0))[1];for(c=0;c<4&&l<u;c++){d=HS.decodeDigit(e,s,l,HS.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var p=(o=void 0,ZS(s)),m=p.next();!m.done;m=p.next()){l+=m.value}}catch(v){o={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}return{rowOffset:l,resultString:n}},t.prototype.getBarcodeFormat=function(){return kE.EAN_8},t}(HS),JS=YS,QS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ean13Reader=new KS,t}return QS(t,e),t.prototype.getBarcodeFormat=function(){return kE.UPC_A},t.prototype.decode=function(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))},t.prototype.decodeMiddle=function(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)},t.prototype.maybeReturnResult=function(e){var t=e.getText();if("0"===t.charAt(0)){var n=new _E(t.substring(1),null,null,e.getResultPoints(),kE.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new nE},t.prototype.reset=function(){this.ean13Reader.reset()},t}(HS),eA=$S,tA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nA=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rA=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return tA(t,e),t.prototype.decodeMiddle=function(e,n,r){var a,o,i=this.decodeMiddleCounters.map((function(e){return e}));i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=e.getSize(),u=n[1],l=0,c=0;c<6&&u<s;c++){var d=t.decodeDigit(e,i,u,t.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(a=void 0,nA(i)),f=h.next();!f.done;f=h.next()){u+=f.value}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}d>=10&&(l|=1<<5-c)}return t.determineNumSysAndCheckDigit(new JC(r),l),u},t.prototype.decodeEnd=function(e,n){return t.findGuardPatternWithoutCounters(e,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return HS.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,t){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return e.insert(0,"0"+n),void e.append("0"+r);throw nE.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return kE.UPC_E},t.convertUPCEtoUPCA=function(e){var t=e.slice(1,7).split("").map((function(e){return e.charCodeAt(0)})),n=new JC;n.append(e.charAt(0));var r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(HS),aA=rA,oA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iA=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sA=function(e){function t(t){var n=e.call(this)||this,r=null==t?null:t.get(MC.POSSIBLE_FORMATS),a=[];return null!=r&&(r.indexOf(kE.EAN_13)>-1&&a.push(new KS),r.indexOf(kE.UPC_A)>-1&&a.push(new eA),r.indexOf(kE.EAN_8)>-1&&a.push(new JS),r.indexOf(kE.UPC_E)>-1&&a.push(new aA)),0===a.length&&(a.push(new KS),a.push(new eA),a.push(new JS),a.push(new aA)),n.readers=a,n}return oA(t,e),t.prototype.decodeRow=function(e,t,n){var r,a;try{for(var o=iA(this.readers),i=o.next();!i.done;i=o.next()){var s=i.value;try{var u=s.decodeRow(e,t,n),l=u.getBarcodeFormat()===kE.EAN_13&&"0"===u.getText().charAt(0),c=null==n?null:n.get(MC.POSSIBLE_FORMATS),d=null==c||c.includes(kE.UPC_A);if(l&&d){var h=u.getRawBytes(),f=new _E(u.getText().substring(1),h,h?h.length:null,u.getResultPoints(),kE.UPC_A);return f.putAllMetadata(u.getResultMetadata()),f}return u}catch(p){}}}catch(m){r={error:m}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}throw new nE},t.prototype.reset=function(){var e,t;try{for(var n=iA(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t}(bS),uA=sA,lA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cA=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dA=function(e){function t(){var t=e.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return lA(t,e),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,n){for(var r=0;r<n.length;r++)if(bS.patternMatchVariance(e,n[r],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return r;throw new nE},t.count=function(e){return XE.sum(new Int32Array(e))},t.increment=function(e,t){for(var n=0,r=t[0],a=1;a<e.length;a++)t[a]>r&&(r=t[a],n=a);e[n]++},t.decrement=function(e,t){for(var n=0,r=t[0],a=1;a<e.length;a++)t[a]<r&&(r=t[a],n=a);e[n]--},t.isFinderPattern=function(e){var n,r,a=e[0]+e[1],o=a/(a+e[2]+e[3]);if(o>=t.MIN_FINDER_PATTERN_RATIO&&o<=t.MAX_FINDER_PATTERN_RATIO){var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var u=cA(e),l=u.next();!l.done;l=u.next()){var c=l.value;c>s&&(s=c),c<i&&(i=c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s<10*i}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(bS),hA=dA,fA=function(){function e(e,t){this.value=e,this.checksumPortion=t}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),pA=fA,mA=function(){function e(e,t,n,r,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new QE(n,a)),this.resultPoints.push(new QE(r,a))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.hashCode=function(){return this.value},e}(),gA=mA,vA=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yA=function(){function e(){}return e.getRSSvalue=function(t,n,r){var a,o,i=0;try{for(var s=vA(t),u=s.next();!u.done;u=s.next()){i+=u.value}}catch(v){a={error:v}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}for(var l=0,c=0,d=t.length,h=0;h<d-1;h++){var f=void 0;for(f=1,c|=1<<h;f<t[h];f++,c&=~(1<<h)){var p=e.combins(i-f-1,d-h-2);if(r&&0===c&&i-f-(d-h-1)>=d-h-1&&(p-=e.combins(i-f-(d-h),d-h-2)),d-h-1>1){for(var m=0,g=i-f-(d-h-2);g>n;g--)m+=e.combins(i-f-g-1,d-h-3);p-=m*(d-1-h)}else i-f>n&&p--;l+=p}i-=f}return l},e.combins=function(e,t){var n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);for(var a=1,o=1,i=e;i>n;i--)a*=i,o<=r&&(a/=o,o++);for(;o<=r;)a/=o,o++;return a},e}(),bA=yA,wA=function(){function e(){}return e.buildBitArray=function(e){var t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);for(var n=new OC(12*t),r=0,a=e[0].getRightChar().getValue(),o=11;o>=0;--o)0!=(a&1<<o)&&n.set(r),r++;for(o=1;o<e.length;++o){for(var i=e[o],s=i.getLeftChar().getValue(),u=11;u>=0;--u)0!=(s&1<<u)&&n.set(r),r++;if(null!=i.getRightChar()){var l=i.getRightChar().getValue();for(u=11;u>=0;--u)0!=(l&1<<u)&&n.set(r),r++}}return n},e}(),_A=wA,xA=function(){function e(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),kA=function(){function e(e){this.newPosition=e}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),CA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EA=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return CA(t,e),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(kA),SA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AA=function(e){function t(t,n,r){var a=e.call(this,t)||this;return r?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return SA(t,e),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(kA),IA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RA=function(e){function t(t,n,r){var a=e.call(this,t)||this;if(n<0||n>10||r<0||r>10)throw new jC;return a.firstDigit=n,a.secondDigit=r,a}return IA(t,e),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(kA),zA=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TA=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var n,r,a,o,i,s,u,l;if(!t)return null;if(t.length<2)throw new nE;var c=t.substring(0,2);try{for(var d=zA(e.TWO_DIGIT_DATA_LENGTH),h=d.next();!h.done;h=d.next()){if((_=h.value)[0]===c)return _[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,_[2],t):e.processFixedAI(2,_[1],t)}}catch(x){n={error:x}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(t.length<3)throw new nE;var f=t.substring(0,3);try{for(var p=zA(e.THREE_DIGIT_DATA_LENGTH),m=p.next();!m.done;m=p.next()){if((_=m.value)[0]===f)return _[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,_[2],t):e.processFixedAI(3,_[1],t)}}catch(k){a={error:k}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}try{for(var g=zA(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next()){if((_=v.value)[0]===f)return _[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,_[2],t):e.processFixedAI(4,_[1],t)}}catch(C){i={error:C}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(t.length<4)throw new nE;var y=t.substring(0,4);try{for(var b=zA(e.FOUR_DIGIT_DATA_LENGTH),w=b.next();!w.done;w=b.next()){var _;if((_=w.value)[0]===y)return _[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,_[2],t):e.processFixedAI(4,_[1],t)}}catch(E){u={error:E}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(u)throw u.error}}throw new nE},e.processFixedAI=function(t,n,r){if(r.length<t)throw new nE;var a=r.substring(0,t);if(r.length<t+n)throw new nE;var o=r.substring(t,t+n),i=r.substring(t+n),s="("+a+")"+o,u=e.parseFieldsInGeneralPurpose(i);return null==u?s:s+u},e.processVariableAI=function(t,n,r){var a,o=r.substring(0,t);a=r.length<t+n?r.length:t+n;var i=r.substring(t,a),s=r.substring(a),u="("+o+")"+i,l=e.parseFieldsInGeneralPurpose(s);return null==l?u:u+l},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),NA=TA,OA=function(){function e(e){this.buffer=new JC,this.information=e}return e.prototype.decodeAllCodes=function(e,t){for(var n=t,r=null;;){var a=this.decodeGeneralPurposeField(n,r),o=NA.parseFieldsInGeneralPurpose(a.getNewString());if(null!=o&&e.append(o),r=a.isRemaining()?""+a.getRemainingValue():null,n===a.getNewPosition())break;n=a.getNewPosition()}return e.toString()},e.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},e.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new RA(this.information.getSize(),0===t?RA.FNC1:t-1,RA.FNC1)}var n=this.extractNumericValueFromBitArray(e,7);return new RA(e+7,(n-8)/11,(n-8)%11)},e.prototype.extractNumericValueFromBitArray=function(t,n){return e.extractNumericValueFromBitArray(this.information,t,n)},e.extractNumericValueFromBitArray=function(e,t,n){for(var r=0,a=0;a<n;++a)e.get(t+a)&&(r|=1<<n-a-1);return r},e.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new AA(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new AA(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new AA(this.current.getPosition(),this.buffer.toString()):new AA(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new xA(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){t=new AA(this.current.getPosition(),this.buffer.toString());return new xA(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xA(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new AA(this.current.getPosition(),this.buffer.toString());return new xA(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xA(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new AA(this.current.getPosition(),this.buffer.toString());return new xA(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xA(!1)},e.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253},e.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new EA(e+5,EA.FNC1);if(t>=5&&t<15)return new EA(e+5,"0"+(t-5));var n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new EA(e+7,""+(r+1));if(r>=90&&r<116)return new EA(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new jC}return new EA(e+8,n)},e.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new EA(e+5,EA.FNC1);if(t>=5&&t<15)return new EA(e+5,"0"+(t-5));var n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new EA(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new GE("Decoding invalid alphanumeric value: "+r)}return new EA(e+6,n)},e.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},e}(),DA=OA,MA=function(){function e(e){this.information=e,this.generalDecoder=new DA(e)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),PA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FA=function(e){function t(t){return e.call(this,t)||this}return PA(t,e),t.prototype.encodeCompressedGtin=function(e,t){e.append("(01)");var n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)},t.prototype.encodeCompressedGtinWithoutAI=function(e,n,r){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}t.appendCheckDigit(e,r)},t.appendCheckDigit=function(e,t){for(var n=0,r=0;r<13;r++){var a=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*a:a}10===(n=10-n%10)&&(n=0),e.append(n)},t.GTIN_SIZE=40,t}(MA),jA=FA,BA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LA=function(e){function t(t){return e.call(this,t)||this}return BA(t,e),t.prototype.parseInformation=function(){var e=new JC;e.append("(01)");var n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(jA),WA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GA=function(e){function t(t){return e.call(this,t)||this}return WA(t,e),t.prototype.parseInformation=function(){var e=new JC;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(MA),HA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VA=function(e){function t(t){return e.call(this,t)||this}return HA(t,e),t.prototype.encodeCompressedWeight=function(e,t,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);for(var a=this.checkWeight(r),o=1e5,i=0;i<5;++i)a/o===0&&e.append("0"),o/=10;e.append(a)},t}(jA),UA=VA,qA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KA=function(e){function t(t){return e.call(this,t)||this}return qA(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+UA.GTIN_SIZE+t.WEIGHT_SIZE)throw new nE;var e=new JC;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+UA.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(UA),XA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZA=function(e){function t(t){return e.call(this,t)||this}return XA(t,e),t.prototype.addWeightCode=function(e,t){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(KA),YA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JA=function(e){function t(t){return e.call(this,t)||this}return YA(t,e),t.prototype.addWeightCode=function(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(KA),QA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$A=function(e){function t(t){return e.call(this,t)||this}return QA(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+jA.GTIN_SIZE)throw new nE;var e=new JC;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+jA.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+jA.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(jA),eI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tI=function(e){function t(t){return e.call(this,t)||this}return eI(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+jA.GTIN_SIZE)throw new nE;var e=new JC;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+jA.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+jA.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+jA.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(a.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(jA),nI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rI=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.dateCode=r,a.firstAIdigits=n,a}return nI(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new nE;var e=new JC;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(38400!=r){e.append("("),e.append(this.dateCode),e.append(")");var a=r%32,o=(r/=32)%12+1,i=r/=12;i/10==0&&e.append("0"),e.append(i),o/10==0&&e.append("0"),e.append(o),a/10==0&&e.append("0"),e.append(a)}},t.prototype.addWeightCode=function(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(UA);var aI,oI=function(){function e(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return null==this.rightchar},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,n){return t instanceof e&&(e.equalsOrNull(t.leftchar,n.leftchar)&&e.equalsOrNull(t.rightchar,n.rightchar)&&e.equalsOrNull(t.finderpattern,n.finderpattern))},e.equalsOrNull=function(t,n){return null===t?null===n:e.equals(t,n)},e.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},e}(),iI=function(){function e(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,n){return t instanceof e&&(this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed)},e.prototype.checkEqualitity=function(e,t){var n;if(e&&t)return e.forEach((function(e,r){t.forEach((function(t){e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)}))})),n},e}(),sI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return sI(t,e),t.prototype.decodeRow=function(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,n))}catch(g){}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,t){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof nE){if(!this.pairs.length)throw new nE;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){var a=this.checkRowsBoolean(!1);if(null!=a)return a;if(null!=(a=this.checkRowsBoolean(!0)))return a}throw new nE},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var t=null;try{t=this.checkRows(new Array,0)}catch(g){console.log(g)}return e&&(this.rows=this.rows.reverse()),t},t.prototype.checkRows=function(e,n){for(var r,a,o=n;o<this.rows.length;o++){var i=this.rows[o];this.pairs.length=0;try{for(var s=(r=void 0,uI(e)),u=s.next();!u.done;u=s.next()){var l=u.value;this.pairs.push(l.getPairs())}}catch(d){r={error:d}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}if(this.pairs.push(i.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var c=new Array(e);c.push(i);try{return this.checkRows(c,o+1)}catch(g){console.log(g)}}}throw new nE},t.isValidSequence=function(e){var n,r;try{for(var a=uI(t.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var i=o.value;if(!(e.length>i.length)){for(var s=!0,u=0;u<e.length;u++)if(e[u].getFinderPattern().getValue()!=i[u]){s=!1;break}if(s)return!0}}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(e,n){for(var r=0,a=!1,o=!1;r<this.rows.length;){var i=this.rows[r];if(i.getRowNumber()>e){o=i.isEquivalent(this.pairs);break}a=i.isEquivalent(this.pairs),r++}o||a||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new iI(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,t){var n,r,a,o,i,s;try{for(var u=uI(t),l=u.next();!l.done;l=u.next()){var c=l.value;if(c.getPairs().length!==e.length){try{for(var d=(a=void 0,uI(c.getPairs())),h=d.next();!h.done;h=d.next()){var f=h.value,p=!1;try{for(var m=(i=void 0,uI(e)),g=m.next();!g.done;g=m.next()){var v=g.value;if(oI.equals(f,v)){p=!0;break}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}p||!1}}catch(b){a={error:b}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},t.isPartialRow=function(e,t){var n,r,a,o,i,s;try{for(var u=uI(t),l=u.next();!l.done;l=u.next()){var c=l.value,d=!0;try{for(var h=(a=void 0,uI(e)),f=h.next();!f.done;f=h.next()){var p=f.value,m=!1;try{for(var g=(i=void 0,uI(c.getPairs())),v=g.next();!v.done;v=g.next()){var y=v.value;if(p.equals(y)){m=!0;break}}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!m){d=!1;break}}}catch(w){a={error:w}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}if(d)return!0}}catch(_){n={error:_}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var t=function(e){try{if(e.get(1))return new LA(e);if(!e.get(2))return new GA(e);switch(DA.extractNumericValueFromBitArray(e,1,4)){case 4:return new ZA(e);case 5:return new JA(e)}switch(DA.extractNumericValueFromBitArray(e,1,5)){case 12:return new $A(e);case 13:return new tI(e)}switch(DA.extractNumericValueFromBitArray(e,1,7)){case 56:return new rI(e,"310","11");case 57:return new rI(e,"320","11");case 58:return new rI(e,"310","13");case 59:return new rI(e,"320","13");case 60:return new rI(e,"310","15");case 61:return new rI(e,"320","15");case 62:return new rI(e,"310","17");case 63:return new rI(e,"320","17")}}catch(g){throw console.log(g),new GE("unknown decoder: "+e)}}(_A.buildBitArray(e)),n=t.parseInformation(),r=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),o=[r[0],r[1],a[0],a[1]];return new _E(n,null,null,o,kE.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;for(var r=n.getChecksumPortion(),a=2,o=1;o<this.pairs.size();++o){var i=this.pairs.get(o);r+=i.getLeftChar().getChecksumPortion(),a++;var s=i.getRightChar();null!=s&&(r+=s.getChecksumPortion(),a++)}return 211*(a-4)+(r%=211)==t.getValue()},t.getNextSecondBar=function(e,t){var n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n},t.prototype.retrieveNextPair=function(e,n,r){var a,o=n.length%2==0;this.startFromEven&&(o=!o);var i=!0,s=-1;do{this.findNextPair(e,n,s),null==(a=this.parseFoundFinderPattern(e,r,o))?s=t.getNextSecondBar(e,this.startEnd[0]):i=!1}while(i);var u,l=this.decodeDataCharacter(e,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new nE;try{u=this.decodeDataCharacter(e,a,o,!1)}catch(g){u=null,console.log(g)}return new oI(l,u,a,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,n,r){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o,i=e.getSize();if(r>=0)o=r;else if(this.isEmptyPair(n))o=0;else{o=n[n.length-1].getFinderPattern().getStartEnd()[1]}var s=n.length%2!=0;this.startFromEven&&(s=!s);for(var u=!1;o<i&&(u=!e.get(o));)o++;for(var l=0,c=o,d=o;d<i;d++)if(e.get(d)!=u)a[l]++;else{if(3==l){if(s&&t.reverseCounters(a),t.isFinderPattern(a))return this.startEnd[0]=c,void(this.startEnd[1]=d);s&&t.reverseCounters(a),c+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,u=!u}throw new nE},t.reverseCounters=function(e){for(var t=e.length,n=0;n<t/2;++n){var r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}},t.prototype.parseFoundFinderPattern=function(e,n,r){var a,o,i;if(r){for(var s=this.startEnd[0]-1;s>=0&&!e.get(s);)s--;s++,a=this.startEnd[0]-s,o=s,i=this.startEnd[1]}else o=this.startEnd[0],a=(i=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var u,l=this.getDecodeFinderCounters();wC.arraycopy(l,0,l,1,l.length-1),l[0]=a;try{u=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch(g){return null}return new gA(u,[o,i],o,i,n)},t.prototype.decodeDataCharacter=function(e,n,r,a){for(var o=this.getDataCharacterCounters(),i=0;i<o.length;i++)o[i]=0;if(a)t.recordPatternInReverse(e,n.getStartEnd()[0],o);else{t.recordPattern(e,n.getStartEnd()[1],o);for(var s=0,u=o.length-1;s<u;s++,u--){var l=o[s];o[s]=o[u],o[u]=l}}var c=XE.sum(new Int32Array(o))/17,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(c-d)/d>.3)throw new nE;var h=this.getOddCounts(),f=this.getEvenCounts(),p=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(s=0;s<o.length;s++){var g=1*o[s]/c,v=g+.5;if(v<1){if(g<.3)throw new nE;v=1}else if(v>8){if(g>8.7)throw new nE;v=8}var y=s/2;0==(1&s)?(h[y]=v,p[y]=g-v):(f[y]=v,m[y]=g-v)}this.adjustOddEvenCounts(17);var b=4*n.getValue()+(r?0:2)+(a?0:1)-1,w=0,_=0;for(s=h.length-1;s>=0;s--){if(t.isNotA1left(n,r,a)){var x=t.WEIGHTS[b][2*s];_+=h[s]*x}w+=h[s]}var k=0;for(s=f.length-1;s>=0;s--)if(t.isNotA1left(n,r,a)){x=t.WEIGHTS[b][2*s+1];k+=f[s]*x}var C=_+k;if(0!=(1&w)||w>13||w<4)throw new nE;var E=(13-w)/2,S=t.SYMBOL_WIDEST[E],A=9-S,I=bA.getRSSvalue(h,S,!0),R=bA.getRSSvalue(f,A,!1),z=t.EVEN_TOTAL_SUBSET[E],T=t.GSUM[E];return new pA(I*z+R+T,C)},t.isNotA1left=function(e,t,n){return!(0==e.getValue()&&t&&n)},t.prototype.adjustOddEvenCounts=function(e){var n=XE.sum(new Int32Array(this.getOddCounts())),r=XE.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var i=!1,s=!1;r>13?s=!0:r<4&&(i=!0);var u=n+r-e,l=1==(1&n),c=0==(1&r);if(1==u)if(l){if(c)throw new nE;o=!0}else{if(!c)throw new nE;s=!0}else if(-1==u)if(l){if(c)throw new nE;a=!0}else{if(!c)throw new nE;i=!0}else{if(0!=u)throw new nE;if(l){if(!c)throw new nE;n<r?(a=!0,s=!0):(o=!0,i=!0)}else if(c)throw new nE}if(a){if(o)throw new nE;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(s)throw new nE;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(hA),cI=lI,dI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hI=function(e){function t(t,n,r){var a=e.call(this,t,n)||this;return a.count=0,a.finderPattern=r,a}return dI(t,e),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(pA),fI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return fI(t,e),t.prototype.decodeRow=function(e,n,r){var a,o,i,s,u=this.decodePair(n,!1,e,r);t.addOrTally(this.possibleLeftPairs,u),n.reverse();var l=this.decodePair(n,!0,e,r);t.addOrTally(this.possibleRightPairs,l),n.reverse();try{for(var c=pI(this.possibleLeftPairs),d=c.next();!d.done;d=c.next()){var h=d.value;if(h.getCount()>1)try{for(var f=(i=void 0,pI(this.possibleRightPairs)),p=f.next();!p.done;p=f.next()){var m=p.value;if(m.getCount()>1&&t.checkChecksum(h,m))return t.constructResult(h,m)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}}catch(v){a={error:v}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}throw new nE},t.addOrTally=function(e,t){var n,r;if(null!=t){var a=!1;try{for(var o=pI(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(s.getValue()===t.getValue()){s.incrementCount(),a=!0;break}}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}a||e.push(t)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,t){for(var n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),a=new JC,o=13-r.length;o>0;o--)a.append("0");a.append(r);var i=0;for(o=0;o<13;o++){var s=a.charAt(o).charCodeAt(0)-"0".charCodeAt(0);i+=0===(1&o)?3*s:s}10===(i=10-i%10)&&(i=0),a.append(i.toString());var u=e.getFinderPattern().getResultPoints(),l=t.getFinderPattern().getResultPoints();return new _E(a.toString(),null,0,[u[0],u[1],l[0],l[1]],kE.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,t){var n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r},t.prototype.decodePair=function(e,t,n,r){try{var a=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,n,t,a),i=null==r?null:r.get(MC.NEED_RESULT_POINT_CALLBACK);if(null!=i){var s=(a[0]+a[1])/2;t&&(s=e.getSize()-1-s),i.foundPossibleResultPoint(new QE(s,n))}var u=this.decodeDataCharacter(e,o,!0),l=this.decodeDataCharacter(e,o,!1);return new hI(1597*u.getValue()+l.getValue(),u.getChecksumPortion()+4*l.getChecksumPortion(),o)}catch(c){return null}},t.prototype.decodeDataCharacter=function(e,n,r){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(r)bS.recordPatternInReverse(e,n.getStartEnd()[0],a);else{bS.recordPattern(e,n.getStartEnd()[1]+1,a);for(var i=0,s=a.length-1;i<s;i++,s--){var u=a[i];a[i]=a[s],a[s]=u}}var l=r?16:15,c=XE.sum(new Int32Array(a))/l,d=this.getOddCounts(),h=this.getEvenCounts(),f=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(i=0;i<a.length;i++){var m=a[i]/c,g=Math.floor(m+.5);g<1?g=1:g>8&&(g=8);var v=Math.floor(i/2);0===(1&i)?(d[v]=g,f[v]=m-g):(h[v]=g,p[v]=m-g)}this.adjustOddEvenCounts(r,l);var y=0,b=0;for(i=d.length-1;i>=0;i--)b*=9,b+=d[i],y+=d[i];var w=0,_=0;for(i=h.length-1;i>=0;i--)w*=9,w+=h[i],_+=h[i];var x=b+3*w;if(r){if(0!==(1&y)||y>12||y<4)throw new nE;var k=(12-y)/2,C=9-(R=t.OUTSIDE_ODD_WIDEST[k]),E=bA.getRSSvalue(d,R,!1),S=bA.getRSSvalue(h,C,!0),A=t.OUTSIDE_EVEN_TOTAL_SUBSET[k],I=t.OUTSIDE_GSUM[k];return new pA(E*A+S+I,x)}if(0!==(1&_)||_>10||_<4)throw new nE;k=(10-_)/2,C=9-(R=t.INSIDE_ODD_WIDEST[k]),E=bA.getRSSvalue(d,R,!0),S=bA.getRSSvalue(h,C,!1);var R,z=t.INSIDE_ODD_TOTAL_SUBSET[k];I=t.INSIDE_GSUM[k];return new pA(S*z+E+I,x)},t.prototype.findFinderPattern=function(e,t){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=e.getSize(),a=!1,o=0;o<r&&t!==(a=!e.get(o));)o++;for(var i=0,s=o,u=o;u<r;u++)if(e.get(u)!==a)n[i]++;else{if(3===i){if(hA.isFinderPattern(n))return[s,u];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,i--}else i++;n[i]=1,a=!a}throw new nE},t.prototype.parseFoundFinderPattern=function(e,n,r,a){for(var o=e.get(a[0]),i=a[0]-1;i>=0&&o!==e.get(i);)i--;i++;var s=a[0]-i,u=this.getDecodeFinderCounters(),l=new Int32Array(u.length);wC.arraycopy(u,0,l,1,u.length-1),l[0]=s;var c=this.parseFinderValue(l,t.FINDER_PATTERNS),d=i,h=a[1];return r&&(d=e.getSize()-1-d,h=e.getSize()-1-h),new gA(c,[i,a[1]],d,h,n)},t.prototype.adjustOddEvenCounts=function(e,t){var n=XE.sum(new Int32Array(this.getOddCounts())),r=XE.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1,i=!1,s=!1;e?(n>12?o=!0:n<4&&(a=!0),r>12?s=!0:r<4&&(i=!0)):(n>11?o=!0:n<5&&(a=!0),r>10?s=!0:r<4&&(i=!0));var u=n+r-t,l=(1&n)===(e?1:0),c=1===(1&r);if(1===u)if(l){if(c)throw new nE;o=!0}else{if(!c)throw new nE;s=!0}else if(-1===u)if(l){if(c)throw new nE;a=!0}else{if(!c)throw new nE;i=!0}else{if(0!==u)throw new nE;if(l){if(!c)throw new nE;n<r?(a=!0,s=!0):(o=!0,i=!0)}else if(c)throw new nE}if(a){if(o)throw new nE;hA.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&hA.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(s)throw new nE;hA.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&hA.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(hA),gI=mI,vI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yI=function(e){function t(t){var n=e.call(this)||this;n.readers=[];var r=t?t.get(MC.POSSIBLE_FORMATS):null,a=t&&void 0!==t.get(MC.ASSUME_CODE_39_CHECK_DIGIT);return r&&((r.includes(kE.EAN_13)||r.includes(kE.UPC_A)||r.includes(kE.EAN_8)||r.includes(kE.UPC_E))&&n.readers.push(new uA(t)),r.includes(kE.CODE_39)&&n.readers.push(new SS(a)),r.includes(kE.CODE_128)&&n.readers.push(new xS),r.includes(kE.ITF)&&n.readers.push(new zS),r.includes(kE.RSS_14)&&n.readers.push(new gI),r.includes(kE.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new cI))),0===n.readers.length&&(n.readers.push(new uA(t)),n.readers.push(new SS),n.readers.push(new uA(t)),n.readers.push(new xS),n.readers.push(new zS),n.readers.push(new gI)),n}return vI(t,e),t.prototype.decodeRow=function(e,t,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch(ut){}throw new nE},t.prototype.reset=function(){this.readers.forEach((function(e){return e.reset()}))},t}(bS),bI=yI,wI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_I=(function(e){function t(t,n){return void 0===t&&(t=500),e.call(this,new bI(n),t,n)||this}wI(t,e)}(wE),function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),xI=function(){function e(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),kI=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),CI=function(){function e(e,t,n,r,a,o){var i,s;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,l=o.getECCodewords(),c=o.getECBlocks();try{for(var d=_I(c),h=d.next();!h.done;h=d.next()){var f=h.value;u+=f.getCount()*(f.getDataCodewords()+l)}}catch(p){i={error:p}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}this.totalCodewords=u}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,n){var r,a;if(0!==(1&t)||0!==(1&n))throw new jC;try{for(var o=_I(e.VERSIONS),i=o.next();!i.done;i=o.next()){var s=i.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===n)return s}}catch(u){r={error:u}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}throw new jC},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new xI(5,new kI(1,3))),new e(2,12,12,10,10,new xI(7,new kI(1,5))),new e(3,14,14,12,12,new xI(10,new kI(1,8))),new e(4,16,16,14,14,new xI(12,new kI(1,12))),new e(5,18,18,16,16,new xI(14,new kI(1,18))),new e(6,20,20,18,18,new xI(18,new kI(1,22))),new e(7,22,22,20,20,new xI(20,new kI(1,30))),new e(8,24,24,22,22,new xI(24,new kI(1,36))),new e(9,26,26,24,24,new xI(28,new kI(1,44))),new e(10,32,32,14,14,new xI(36,new kI(1,62))),new e(11,36,36,16,16,new xI(42,new kI(1,86))),new e(12,40,40,18,18,new xI(48,new kI(1,114))),new e(13,44,44,20,20,new xI(56,new kI(1,144))),new e(14,48,48,22,22,new xI(68,new kI(1,174))),new e(15,52,52,24,24,new xI(42,new kI(2,102))),new e(16,64,64,14,14,new xI(56,new kI(2,140))),new e(17,72,72,16,16,new xI(36,new kI(4,92))),new e(18,80,80,18,18,new xI(48,new kI(4,114))),new e(19,88,88,20,20,new xI(56,new kI(4,144))),new e(20,96,96,22,22,new xI(68,new kI(4,174))),new e(21,104,104,24,24,new xI(56,new kI(6,136))),new e(22,120,120,18,18,new xI(68,new kI(6,175))),new e(23,132,132,20,20,new xI(62,new kI(8,163))),new e(24,144,144,22,22,new xI(62,new kI(8,156),new kI(2,155))),new e(25,8,18,6,16,new xI(7,new kI(1,5))),new e(26,8,32,6,14,new xI(11,new kI(1,10))),new e(27,12,26,10,24,new xI(14,new kI(1,16))),new e(28,12,36,10,16,new xI(18,new kI(1,22))),new e(29,16,36,14,16,new xI(24,new kI(1,32))),new e(30,16,48,14,22,new xI(28,new kI(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),EI=CI,SI=function(){function e(t){var n=t.getHeight();if(n<8||n>144||0!==(1&n))throw new jC;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new $C(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return EI.getVersionForDimensions(t,n)},e.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,r=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),i=!1,s=!1,u=!1,l=!1;do{if(n!==a||0!==r||i)if(n!==a-2||0!==r||0===(3&o)||s)if(n!==a+4||2!==r||0!==(7&o)||u)if(n!==a-2||0!==r||4!==(7&o)||l){do{n<a&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,a,o)),n-=2,r+=2}while(n>=0&&r<o);n+=1,r+=3;do{n>=0&&r<o&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,a,o)),n+=2,r-=2}while(n<a&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(a,o),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner3(a,o),n-=2,r+=2,u=!0;else e[t++]=255&this.readCorner2(a,o),n-=2,r+=2,s=!0;else e[t++]=255&this.readCorner1(a,o),n-=2,r+=2,i=!0}while(n<a||r<o);if(t!==this.version.getTotalCodewords())throw new jC;return e},e.prototype.readModule=function(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},e.prototype.readUtah=function(e,t,n,r){var a=0;return this.readModule(e-2,t-2,n,r)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,r)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,r)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,r)&&(a|=1),a<<=1,this.readModule(e-1,t,n,r)&&(a|=1),a<<=1,this.readModule(e,t-2,n,r)&&(a|=1),a<<=1,this.readModule(e,t-1,n,r)&&(a|=1),a<<=1,this.readModule(e,t,n,r)&&(a|=1),a},e.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new hC("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/r|0,i=n/a|0,s=new $C(i*a,o*r),u=0;u<o;++u)for(var l=u*r,c=0;c<i;++c)for(var d=c*a,h=0;h<r;++h)for(var f=u*(r+2)+1+h,p=l+h,m=0;m<a;++m){var g=c*(a+2)+1+m;if(e.get(g,f)){var v=d+m;s.set(v,p)}}return s},e}(),AI=SI,II=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RI=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n){var r,a,o,i,s=n.getECBlocks(),u=0,l=s.getECBlocks();try{for(var c=II(l),d=c.next();!d.done;d=c.next()){u+=(g=d.value).getCount()}}catch(R){r={error:R}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}var h=new Array(u),f=0;try{for(var p=II(l),m=p.next();!m.done;m=p.next())for(var g=m.value,v=0;v<g.getCount();v++){var y=g.getDataCodewords(),b=s.getECCodewords()+y;h[f++]=new e(y,new Uint8Array(b))}}catch(z){o={error:z}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}var w=h[0].codewords.length-s.getECCodewords(),_=w-1,x=0;for(v=0;v<_;v++)for(var k=0;k<f;k++)h[k].codewords[v]=t[x++];var C=24===n.getVersionNumber(),E=C?8:f;for(k=0;k<E;k++)h[k].codewords[w-1]=t[x++];var S=h[0].codewords.length;for(v=w;v<S;v++)for(k=0;k<f;k++){var A=C?(k+8)%f:k,I=C&&A>7?v-1:v;h[A].codewords[I]=t[x++]}if(x!==t.length)throw new hC;return h},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),zI=RI,TI=function(){function e(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new hC(""+e);var t=0,n=this.bitOffset,r=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,i=e<o?e:o,s=255>>8-i<<(u=o-i);t=(a[r]&s)>>u,e-=i,8===(n+=i)&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&a[r],r++,e-=8;if(e>0){var u;s=255>>(u=8-e)<<u;t=t<<e|(a[r]&s)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=r,t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),NI=TI;!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(aI||(aI={}));var OI,DI=function(){function e(){}return e.decode=function(e){var t=new NI(e),n=new JC,r=new JC,a=new Array,o=aI.ASCII_ENCODE;do{if(o===aI.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,r);else{switch(o){case aI.C40_ENCODE:this.decodeC40Segment(t,n);break;case aI.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case aI.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case aI.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case aI.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new jC}o=aI.ASCII_ENCODE}}while(o!==aI.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new SE(e,n.toString(),0===a.length?null:a,null)},e.decodeAsciiSegment=function(e,t,n){var r=!1;do{var a=e.readBits(8);if(0===a)throw new jC;if(a<=128)return r&&(a+=128),t.append(String.fromCharCode(a-1)),aI.ASCII_ENCODE;if(129===a)return aI.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return aI.C40_ENCODE;case 231:return aI.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return aI.ANSIX12_ENCODE;case 239:return aI.TEXT_ENCODE;case 240:return aI.EDIFACT_ENCODE;default:if(254!==a||0!==e.available())throw new jC}}while(e.available()>0);return aI.ASCII_ENCODE},e.decodeC40Segment=function(e,t){var n=!1,r=[],a=0;do{if(8===e.available())return;var o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),r);for(var i=0;i<3;i++){var s=r[i];switch(a){case 0:if(s<3)a=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new jC;var u=this.C40_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),a=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){u=this.C40_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new jC}a=0;break;case 3:n?(t.append(String.fromCharCode(s+224)),n=!1):t.append(String.fromCharCode(s+96)),a=0;break;default:throw new jC}}}while(e.available()>0)},e.decodeTextSegment=function(e,t){var n=!1,r=[],a=0;do{if(8===e.available())return;var o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),r);for(var i=0;i<3;i++){var s=r[i];switch(a){case 0:if(s<3)a=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new jC;var u=this.TEXT_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),a=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){u=this.TEXT_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new jC}a=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new jC;u=this.TEXT_SHIFT3_SET_CHARS[s];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u),a=0;break;default:throw new jC}}}while(e.available()>0)},e.decodeAnsiX12Segment=function(e,t){var n=[];do{if(8===e.available())return;var r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else{if(!(o<40))throw new jC;t.append(String.fromCharCode(o+51))}}}}while(e.available()>0)},e.parseTwoBytes=function(e,t,n){var r=(e<<8)+t-1,a=Math.floor(r/1600);n[0]=a,r-=1600*a,a=Math.floor(r/40),n[1]=a,n[2]=r-40*a},e.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var r=e.readBits(6);if(31===r){var a=8-e.getBitOffset();return void(8!==a&&e.readBits(a))}0===(32&r)&&(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)},e.decodeBase256Segment=function(e,t,n){var r,a=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),a++);if((r=0===o?e.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(e.readBits(8),a++))<0)throw new jC;for(var i=new Uint8Array(r),s=0;s<r;s++){if(e.available()<8)throw new jC;i[s]=this.unrandomize255State(e.readBits(8),a++)}n.push(i);try{t.append(KC.decode(i,ZC.ISO88591))}catch(u){throw new GE("Platform does not support required encoding: "+u.message)}},e.unrandomize255State=function(e,t){var n=e-(149*t%255+1);return n>=0?n:n+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}(),MI=DI,PI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FI=function(){function e(){this.rsDecoder=new VE(PE.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var t,n,r=new AI(e),a=r.getVersion(),o=r.readCodewords(),i=zI.getDataBlocks(o,a),s=0;try{for(var u=PI(i),l=u.next();!l.done;l=u.next()){s+=l.value.getNumDataCodewords()}}catch(v){t={error:v}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var c=new Uint8Array(s),d=i.length,h=0;h<d;h++){var f=i[h],p=f.getCodewords(),m=f.getNumDataCodewords();this.correctErrors(p,m);for(var g=0;g<m;g++)c[g*d+h]=p[g]}return MI.decode(c)},e.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(a){throw new vC}for(var r=0;r<t;r++)e[r]=n[r]},e}(),jI=FI,BI=function(){function e(e){this.image=e,this.rectangleDetector=new rS(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new nE;var r=(n=this.shiftToModuleCenter(n))[0],a=n[1],o=n[2],i=n[3],s=this.transitionsBetween(r,i)+1,u=this.transitionsBetween(o,i)+1;1===(1&s)&&(s+=1),1===(1&u)&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var l=e.sampleGrid(this.image,r,a,o,i,s,u);return new $E(l,[r,a,o,i])},e.shiftPoint=function(e,t,n){var r=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new QE(e.getX()+r,e.getY()+a)},e.moveAway=function(e,t,n){var r=e.getX(),a=e.getY();return r<t?r-=1:r+=1,a<n?a-=1:a+=1,new QE(r,a)},e.prototype.detectSolid1=function(e){var t=e[0],n=e[1],r=e[3],a=e[2],o=this.transitionsBetween(t,n),i=this.transitionsBetween(n,r),s=this.transitionsBetween(r,a),u=this.transitionsBetween(a,t),l=o,c=[a,t,n,r];return l>i&&(l=i,c[0]=t,c[1]=n,c[2]=r,c[3]=a),l>s&&(l=s,c[0]=n,c[1]=r,c[2]=a,c[3]=t),l>u&&(c[0]=r,c[1]=a,c[2]=t,c[3]=n),c},e.prototype.detectSolid2=function(t){var n=t[0],r=t[1],a=t[2],o=t[3],i=this.transitionsBetween(n,o),s=e.shiftPoint(r,a,4*(i+1)),u=e.shiftPoint(a,r,4*(i+1));return this.transitionsBetween(s,n)<this.transitionsBetween(u,o)?(t[0]=n,t[1]=r,t[2]=a,t[3]=o):(t[0]=r,t[1]=a,t[2]=o,t[3]=n),t},e.prototype.correctTopRight=function(t){var n=t[0],r=t[1],a=t[2],o=t[3],i=this.transitionsBetween(n,o),s=this.transitionsBetween(r,o),u=e.shiftPoint(n,r,4*(s+1)),l=e.shiftPoint(a,r,4*(i+1));i=this.transitionsBetween(u,o),s=this.transitionsBetween(l,o);var c=new QE(o.getX()+(a.getX()-r.getX())/(i+1),o.getY()+(a.getY()-r.getY())/(i+1)),d=new QE(o.getX()+(n.getX()-r.getX())/(s+1),o.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(c)?this.isValid(d)?this.transitionsBetween(u,c)+this.transitionsBetween(l,c)>this.transitionsBetween(u,d)+this.transitionsBetween(l,d)?c:d:c:this.isValid(d)?d:null},e.prototype.shiftToModuleCenter=function(t){var n=t[0],r=t[1],a=t[2],o=t[3],i=this.transitionsBetween(n,o)+1,s=this.transitionsBetween(a,o)+1,u=e.shiftPoint(n,r,4*s),l=e.shiftPoint(a,r,4*i);1===(1&(i=this.transitionsBetween(u,o)+1))&&(i+=1),1===(1&(s=this.transitionsBetween(l,o)+1))&&(s+=1);var c,d,h=(n.getX()+r.getX()+a.getX()+o.getX())/4,f=(n.getY()+r.getY()+a.getY()+o.getY())/4;return n=e.moveAway(n,h,f),r=e.moveAway(r,h,f),a=e.moveAway(a,h,f),o=e.moveAway(o,h,f),u=e.shiftPoint(n,r,4*s),u=e.shiftPoint(u,o,4*i),c=e.shiftPoint(r,n,4*s),c=e.shiftPoint(c,a,4*i),l=e.shiftPoint(a,o,4*s),l=e.shiftPoint(l,r,4*i),d=e.shiftPoint(o,a,4*s),[u,c,l,d=e.shiftPoint(d,n,4*i)]},e.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},e.sampleGrid=function(e,t,n,r,a,o,i){return dS.getInstance().sampleGrid(e,o,i,.5,.5,o-.5,.5,o-.5,i-.5,.5,i-.5,t.getX(),t.getY(),a.getX(),a.getY(),r.getX(),r.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),i=Math.abs(o-r)>Math.abs(a-n);if(i){var s=n;n=r,r=s,s=a,a=o,o=s}for(var u=Math.abs(a-n),l=Math.abs(o-r),c=-u/2,d=r<o?1:-1,h=n<a?1:-1,f=0,p=this.image.get(i?r:n,i?n:r),m=n,g=r;m!==a;m+=h){var v=this.image.get(i?g:m,i?m:g);if(v!==p&&(f++,p=v),(c+=l)>0){if(g===o)break;g+=d,c-=u}}return f},e}(),LI=BI,WI=function(){function e(){this.decoder=new jI}return e.prototype.decode=function(t,n){var r,a;if(void 0===n&&(n=null),null!=n&&n.has(MC.PURE_BARCODE)){var o=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(o),a=e.NO_POINTS}else{var i=new LI(t.getBlackMatrix()).detect();r=this.decoder.decode(i.getBits()),a=i.getPoints()}var s=r.getRawBytes(),u=new _E(r.getText(),s,8*s.length,a,kE.DATA_MATRIX,wC.currentTimeMillis()),l=r.getByteSegments();null!=l&&u.putMetadata(EE.BYTE_SEGMENTS,l);var c=r.getECLevel();return null!=c&&u.putMetadata(EE.ERROR_CORRECTION_LEVEL,c),u},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new nE;var r=this.moduleSize(t,e),a=t[1],o=n[1],i=t[0],s=(n[0]-i+1)/r,u=(o-a+1)/r;if(s<=0||u<=0)throw new nE;var l=r/2;a+=l,i+=l;for(var c=new $C(s,u),d=0;d<u;d++)for(var h=a+d*r,f=0;f<s;f++)e.get(i+f*r,h)&&c.set(f,d);return c},e.moduleSize=function(e,t){for(var n=t.getWidth(),r=e[0],a=e[1];r<n&&t.get(r,a);)r++;if(r===n)throw new nE;var o=r-e[0];if(0===o)throw new nE;return o},e.NO_POINTS=[],e}(),GI=WI,HI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new GI,t)||this}HI(t,e)}(wE);!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(OI||(OI={}));var VI,UI=function(){function e(t,n,r){this.value=t,this.stringValue=n,this.bits=r,e.FOR_BITS.set(r,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new lC(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new hC;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(OI.L,"L",1),e.M=new e(OI.M,"M",0),e.Q=new e(OI.Q,"Q",3),e.H=new e(OI.H,"H",2),e}(),qI=UI,KI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},XI=function(){function e(e){this.errorCorrectionLevel=qI.forBits(e>>3&3),this.dataMask=7&e}return e.numBitsDiffering=function(e,t){return TC.bitCount(e^t)},e.decodeFormatInformation=function(t,n){var r=e.doDecodeFormatInformation(t,n);return null!==r?r:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,n^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,n){var r,a,o=Number.MAX_SAFE_INTEGER,i=0;try{for(var s=KI(e.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var l=u.value,c=l[0];if(c===t||c===n)return new e(l[1]);var d=e.numBitsDiffering(t,c);d<o&&(i=l[1],o=d),t!==n&&(d=e.numBitsDiffering(n,c))<o&&(i=l[1],o=d)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return o<=3?new e(i):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),ZI=XI,YI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},JI=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var e,t,n=0,r=this.ecBlocks;try{for(var a=YI(r),o=a.next();!o.done;o=a.next()){n+=o.value.getCount()}}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),QI=JI,$I=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),eR=$I,tR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nR=function(){function e(e,t){for(var n,r,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var i=0,s=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var l=tR(u),c=l.next();!c.done;c=l.next()){var d=c.value;i+=d.getCount()*(d.getDataCodewords()+s)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}this.totalCodewords=i}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},e.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new jC;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new jC}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new hC;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var o=e.VERSION_DECODE_INFO[a];if(o===t)return e.getVersionForNumber(a+7);var i=ZI.numBitsDiffering(t,o);i<n&&(r=a+7,n=i)}return n<=3?e.getVersionForNumber(r):null},e.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new $C(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var a=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0===r&&(0===o||o===n-1)||r===n-1&&0===o||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new QI(7,new eR(1,19)),new QI(10,new eR(1,16)),new QI(13,new eR(1,13)),new QI(17,new eR(1,9))),new e(2,Int32Array.from([6,18]),new QI(10,new eR(1,34)),new QI(16,new eR(1,28)),new QI(22,new eR(1,22)),new QI(28,new eR(1,16))),new e(3,Int32Array.from([6,22]),new QI(15,new eR(1,55)),new QI(26,new eR(1,44)),new QI(18,new eR(2,17)),new QI(22,new eR(2,13))),new e(4,Int32Array.from([6,26]),new QI(20,new eR(1,80)),new QI(18,new eR(2,32)),new QI(26,new eR(2,24)),new QI(16,new eR(4,9))),new e(5,Int32Array.from([6,30]),new QI(26,new eR(1,108)),new QI(24,new eR(2,43)),new QI(18,new eR(2,15),new eR(2,16)),new QI(22,new eR(2,11),new eR(2,12))),new e(6,Int32Array.from([6,34]),new QI(18,new eR(2,68)),new QI(16,new eR(4,27)),new QI(24,new eR(4,19)),new QI(28,new eR(4,15))),new e(7,Int32Array.from([6,22,38]),new QI(20,new eR(2,78)),new QI(18,new eR(4,31)),new QI(18,new eR(2,14),new eR(4,15)),new QI(26,new eR(4,13),new eR(1,14))),new e(8,Int32Array.from([6,24,42]),new QI(24,new eR(2,97)),new QI(22,new eR(2,38),new eR(2,39)),new QI(22,new eR(4,18),new eR(2,19)),new QI(26,new eR(4,14),new eR(2,15))),new e(9,Int32Array.from([6,26,46]),new QI(30,new eR(2,116)),new QI(22,new eR(3,36),new eR(2,37)),new QI(20,new eR(4,16),new eR(4,17)),new QI(24,new eR(4,12),new eR(4,13))),new e(10,Int32Array.from([6,28,50]),new QI(18,new eR(2,68),new eR(2,69)),new QI(26,new eR(4,43),new eR(1,44)),new QI(24,new eR(6,19),new eR(2,20)),new QI(28,new eR(6,15),new eR(2,16))),new e(11,Int32Array.from([6,30,54]),new QI(20,new eR(4,81)),new QI(30,new eR(1,50),new eR(4,51)),new QI(28,new eR(4,22),new eR(4,23)),new QI(24,new eR(3,12),new eR(8,13))),new e(12,Int32Array.from([6,32,58]),new QI(24,new eR(2,92),new eR(2,93)),new QI(22,new eR(6,36),new eR(2,37)),new QI(26,new eR(4,20),new eR(6,21)),new QI(28,new eR(7,14),new eR(4,15))),new e(13,Int32Array.from([6,34,62]),new QI(26,new eR(4,107)),new QI(22,new eR(8,37),new eR(1,38)),new QI(24,new eR(8,20),new eR(4,21)),new QI(22,new eR(12,11),new eR(4,12))),new e(14,Int32Array.from([6,26,46,66]),new QI(30,new eR(3,115),new eR(1,116)),new QI(24,new eR(4,40),new eR(5,41)),new QI(20,new eR(11,16),new eR(5,17)),new QI(24,new eR(11,12),new eR(5,13))),new e(15,Int32Array.from([6,26,48,70]),new QI(22,new eR(5,87),new eR(1,88)),new QI(24,new eR(5,41),new eR(5,42)),new QI(30,new eR(5,24),new eR(7,25)),new QI(24,new eR(11,12),new eR(7,13))),new e(16,Int32Array.from([6,26,50,74]),new QI(24,new eR(5,98),new eR(1,99)),new QI(28,new eR(7,45),new eR(3,46)),new QI(24,new eR(15,19),new eR(2,20)),new QI(30,new eR(3,15),new eR(13,16))),new e(17,Int32Array.from([6,30,54,78]),new QI(28,new eR(1,107),new eR(5,108)),new QI(28,new eR(10,46),new eR(1,47)),new QI(28,new eR(1,22),new eR(15,23)),new QI(28,new eR(2,14),new eR(17,15))),new e(18,Int32Array.from([6,30,56,82]),new QI(30,new eR(5,120),new eR(1,121)),new QI(26,new eR(9,43),new eR(4,44)),new QI(28,new eR(17,22),new eR(1,23)),new QI(28,new eR(2,14),new eR(19,15))),new e(19,Int32Array.from([6,30,58,86]),new QI(28,new eR(3,113),new eR(4,114)),new QI(26,new eR(3,44),new eR(11,45)),new QI(26,new eR(17,21),new eR(4,22)),new QI(26,new eR(9,13),new eR(16,14))),new e(20,Int32Array.from([6,34,62,90]),new QI(28,new eR(3,107),new eR(5,108)),new QI(26,new eR(3,41),new eR(13,42)),new QI(30,new eR(15,24),new eR(5,25)),new QI(28,new eR(15,15),new eR(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new QI(28,new eR(4,116),new eR(4,117)),new QI(26,new eR(17,42)),new QI(28,new eR(17,22),new eR(6,23)),new QI(30,new eR(19,16),new eR(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new QI(28,new eR(2,111),new eR(7,112)),new QI(28,new eR(17,46)),new QI(30,new eR(7,24),new eR(16,25)),new QI(24,new eR(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new QI(30,new eR(4,121),new eR(5,122)),new QI(28,new eR(4,47),new eR(14,48)),new QI(30,new eR(11,24),new eR(14,25)),new QI(30,new eR(16,15),new eR(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new QI(30,new eR(6,117),new eR(4,118)),new QI(28,new eR(6,45),new eR(14,46)),new QI(30,new eR(11,24),new eR(16,25)),new QI(30,new eR(30,16),new eR(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new QI(26,new eR(8,106),new eR(4,107)),new QI(28,new eR(8,47),new eR(13,48)),new QI(30,new eR(7,24),new eR(22,25)),new QI(30,new eR(22,15),new eR(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new QI(28,new eR(10,114),new eR(2,115)),new QI(28,new eR(19,46),new eR(4,47)),new QI(28,new eR(28,22),new eR(6,23)),new QI(30,new eR(33,16),new eR(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new QI(30,new eR(8,122),new eR(4,123)),new QI(28,new eR(22,45),new eR(3,46)),new QI(30,new eR(8,23),new eR(26,24)),new QI(30,new eR(12,15),new eR(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new QI(30,new eR(3,117),new eR(10,118)),new QI(28,new eR(3,45),new eR(23,46)),new QI(30,new eR(4,24),new eR(31,25)),new QI(30,new eR(11,15),new eR(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new QI(30,new eR(7,116),new eR(7,117)),new QI(28,new eR(21,45),new eR(7,46)),new QI(30,new eR(1,23),new eR(37,24)),new QI(30,new eR(19,15),new eR(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new QI(30,new eR(5,115),new eR(10,116)),new QI(28,new eR(19,47),new eR(10,48)),new QI(30,new eR(15,24),new eR(25,25)),new QI(30,new eR(23,15),new eR(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new QI(30,new eR(13,115),new eR(3,116)),new QI(28,new eR(2,46),new eR(29,47)),new QI(30,new eR(42,24),new eR(1,25)),new QI(30,new eR(23,15),new eR(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new QI(30,new eR(17,115)),new QI(28,new eR(10,46),new eR(23,47)),new QI(30,new eR(10,24),new eR(35,25)),new QI(30,new eR(19,15),new eR(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new QI(30,new eR(17,115),new eR(1,116)),new QI(28,new eR(14,46),new eR(21,47)),new QI(30,new eR(29,24),new eR(19,25)),new QI(30,new eR(11,15),new eR(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new QI(30,new eR(13,115),new eR(6,116)),new QI(28,new eR(14,46),new eR(23,47)),new QI(30,new eR(44,24),new eR(7,25)),new QI(30,new eR(59,16),new eR(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new QI(30,new eR(12,121),new eR(7,122)),new QI(28,new eR(12,47),new eR(26,48)),new QI(30,new eR(39,24),new eR(14,25)),new QI(30,new eR(22,15),new eR(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new QI(30,new eR(6,121),new eR(14,122)),new QI(28,new eR(6,47),new eR(34,48)),new QI(30,new eR(46,24),new eR(10,25)),new QI(30,new eR(2,15),new eR(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new QI(30,new eR(17,122),new eR(4,123)),new QI(28,new eR(29,46),new eR(14,47)),new QI(30,new eR(49,24),new eR(10,25)),new QI(30,new eR(24,15),new eR(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new QI(30,new eR(4,122),new eR(18,123)),new QI(28,new eR(13,46),new eR(32,47)),new QI(30,new eR(48,24),new eR(14,25)),new QI(30,new eR(42,15),new eR(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new QI(30,new eR(20,117),new eR(4,118)),new QI(28,new eR(40,47),new eR(7,48)),new QI(30,new eR(43,24),new eR(22,25)),new QI(30,new eR(10,15),new eR(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new QI(30,new eR(19,118),new eR(6,119)),new QI(28,new eR(18,47),new eR(31,48)),new QI(30,new eR(34,24),new eR(34,25)),new QI(30,new eR(20,15),new eR(61,16)))],e}(),rR=nR;!function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(VI||(VI={}));var aR,oR=function(){function e(e,t){this.value=e,this.isMasked=t}return e.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},e.values=new Map([[VI.DATA_MASK_000,new e(VI.DATA_MASK_000,(function(e,t){return 0===(e+t&1)}))],[VI.DATA_MASK_001,new e(VI.DATA_MASK_001,(function(e,t){return 0===(1&e)}))],[VI.DATA_MASK_010,new e(VI.DATA_MASK_010,(function(e,t){return t%3===0}))],[VI.DATA_MASK_011,new e(VI.DATA_MASK_011,(function(e,t){return(e+t)%3===0}))],[VI.DATA_MASK_100,new e(VI.DATA_MASK_100,(function(e,t){return 0===(Math.floor(e/2)+Math.floor(t/3)&1)}))],[VI.DATA_MASK_101,new e(VI.DATA_MASK_101,(function(e,t){return e*t%6===0}))],[VI.DATA_MASK_110,new e(VI.DATA_MASK_110,(function(e,t){return e*t%6<3}))],[VI.DATA_MASK_111,new e(VI.DATA_MASK_111,(function(e,t){return 0===(e+t+e*t%3&1)}))]]),e}(),iR=oR,sR=function(){function e(e){var t=e.getHeight();if(t<21||1!==(3&t))throw new jC;this.bitMatrix=e}return e.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);var r=this.bitMatrix.getHeight(),a=0,o=r-7;for(n=r-1;n>=o;n--)a=this.copyBit(8,n,a);for(t=r-8;t<r;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=ZI.decodeFormatInformation(e,a),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new jC},e.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return rR.getVersionForNumber(t);for(var n=0,r=e-11,a=5;a>=0;a--)for(var o=e-9;o>=r;o--)n=this.copyBit(o,a,n);var i=rR.decodeVersionInformation(n);if(null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;n=0;for(o=5;o>=0;o--)for(a=e-9;a>=r;a--)n=this.copyBit(o,a,n);if(null!==(i=rR.decodeVersionInformation(n))&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new jC},e.prototype.copyBit=function(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1},e.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=iR.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var a=t.buildFunctionPattern(),o=!0,i=new Uint8Array(t.getTotalCodewords()),s=0,u=0,l=0,c=r-1;c>0;c-=2){6===c&&c--;for(var d=0;d<r;d++)for(var h=o?r-1-d:d,f=0;f<2;f++)a.get(c-f,h)||(l++,u<<=1,this.bitMatrix.get(c-f,h)&&(u|=1),8===l&&(i[s++]=u,l=0,u=0));o=!o}if(s!==t.getTotalCodewords())throw new jC;return i},e.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=iR.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},e.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},e.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var r=t+1,a=e.getHeight();r<a;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))},e}(),uR=sR,lR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cR=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n,r){var a,o,i,s;if(t.length!==n.getTotalCodewords())throw new hC;var u=n.getECBlocksForLevel(r),l=0,c=u.getECBlocks();try{for(var d=lR(c),h=d.next();!h.done;h=d.next()){l+=(v=h.value).getCount()}}catch(I){a={error:I}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}var f=new Array(l),p=0;try{for(var m=lR(c),g=m.next();!g.done;g=m.next())for(var v=g.value,y=0;y<v.getCount();y++){var b=v.getDataCodewords(),w=u.getECCodewordsPerBlock()+b;f[p++]=new e(b,new Uint8Array(w))}}catch(R){i={error:R}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}for(var _=f[0].codewords.length,x=f.length-1;x>=0;){if(f[x].codewords.length===_)break;x--}x++;var k=_-u.getECCodewordsPerBlock(),C=0;for(y=0;y<k;y++)for(var E=0;E<p;E++)f[E].codewords[y]=t[C++];for(E=x;E<p;E++)f[E].codewords[k]=t[C++];var S=f[0].codewords.length;for(y=k;y<S;y++)for(E=0;E<p;E++){var A=E<x?y:y+1;f[E].codewords[A]=t[C++]}return f},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),dR=cR;!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(aR||(aR={}));var hR,fR,pR=function(){function e(t,n,r,a){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var n=e.FOR_BITS.get(t);if(void 0===n)throw new hC;return n},e.prototype.getCharacterCountBits=function(e){var t,n=e.getVersionNumber();return t=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[t]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(aR.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(aR.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(aR.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(aR.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(aR.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(aR.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(aR.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(aR.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(aR.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(aR.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),mR=pR,gR=function(){function e(){}return e.decode=function(t,n,r,a){var o=new NI(t),i=new JC,s=new Array,u=-1,l=-1;try{var c=null,d=!1,h=void 0;do{if(o.available()<4)h=mR.TERMINATOR;else{var f=o.readBits(4);h=mR.forBits(f)}switch(h){case mR.TERMINATOR:break;case mR.FNC1_FIRST_POSITION:case mR.FNC1_SECOND_POSITION:d=!0;break;case mR.STRUCTURED_APPEND:if(o.available()<16)throw new jC;u=o.readBits(8),l=o.readBits(8);break;case mR.ECI:var p=e.parseECIValue(o);if(null===(c=GC.getCharacterSetECIByValue(p)))throw new jC;break;case mR.HANZI:var m=o.readBits(4),g=o.readBits(h.getCharacterCountBits(n));m===e.GB2312_SUBSET&&e.decodeHanziSegment(o,i,g);break;default:var v=o.readBits(h.getCharacterCountBits(n));switch(h){case mR.NUMERIC:e.decodeNumericSegment(o,i,v);break;case mR.ALPHANUMERIC:e.decodeAlphanumericSegment(o,i,v,d);break;case mR.BYTE:e.decodeByteSegment(o,i,v,c,s,a);break;case mR.KANJI:e.decodeKanjiSegment(o,i,v);break;default:throw new jC}}}while(h!==mR.TERMINATOR)}catch(y){throw new jC}return new SE(t,i.toString(),0===s.length?null:s,null===r?null:r.toString(),u,l)},e.decodeHanziSegment=function(e,t,n){if(13*n>e.available())throw new jC;for(var r=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),i=o/96<<8&4294967295|o%96;i+=i<959?41377:42657,r[a]=i>>8&255,r[a+1]=255&i,a+=2,n--}try{t.append(KC.decode(r,ZC.GB2312))}catch(s){throw new jC(s)}},e.decodeKanjiSegment=function(e,t,n){if(13*n>e.available())throw new jC;for(var r=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),i=o/192<<8&4294967295|o%192;i+=i<7936?33088:49472,r[a]=i>>8,r[a+1]=i,a+=2,n--}try{t.append(KC.decode(r,ZC.SHIFT_JIS))}catch(s){throw new jC(s)}},e.decodeByteSegment=function(e,t,n,r,a,o){if(8*n>e.available())throw new jC;for(var i,s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);i=null===r?ZC.guessEncoding(s,o):r.getName();try{t.append(KC.decode(s,i))}catch(l){throw new jC(l)}a.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new jC;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,n,r,a){for(var o=n.length();r>1;){if(t.available()<11)throw new jC;var i=t.readBits(11);n.append(e.toAlphaNumericChar(Math.floor(i/45))),n.append(e.toAlphaNumericChar(i%45)),r-=2}if(1===r){if(t.available()<6)throw new jC;n.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var s=o;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,n,r){for(;r>=3;){if(t.available()<10)throw new jC;var a=t.readBits(10);if(a>=1e3)throw new jC;n.append(e.toAlphaNumericChar(Math.floor(a/100))),n.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),n.append(e.toAlphaNumericChar(a%10)),r-=3}if(2===r){if(t.available()<7)throw new jC;var o=t.readBits(7);if(o>=100)throw new jC;n.append(e.toAlphaNumericChar(Math.floor(o/10))),n.append(e.toAlphaNumericChar(o%10))}else if(1===r){if(t.available()<4)throw new jC;var i=t.readBits(4);if(i>=10)throw new jC;n.append(e.toAlphaNumericChar(i))}},e.parseECIValue=function(e){var t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new jC},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),vR=gR,yR=function(){function e(e){this.mirrored=e}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},e}(),bR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wR=function(){function e(){this.rsDecoder=new VE(PE.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix($C.parseFromBooleanArray(e),t)},e.prototype.decodeBitMatrix=function(e,t){var n=new uR(e),r=null;try{return this.decodeBitMatrixParser(n,t)}catch(g){r=g}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new yR(!0)),a}catch(g){if(null!==r)throw r;throw g}},e.prototype.decodeBitMatrixParser=function(e,t){var n,r,a,o,i=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),l=dR.getDataBlocks(u,i,s),c=0;try{for(var d=bR(l),h=d.next();!h.done;h=d.next()){c+=(v=h.value).getNumDataCodewords()}}catch(_){n={error:_}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var f=new Uint8Array(c),p=0;try{for(var m=bR(l),g=m.next();!g.done;g=m.next()){var v,y=(v=g.value).getCodewords(),b=v.getNumDataCodewords();this.correctErrors(y,b);for(var w=0;w<b;w++)f[p++]=y[w]}}catch(x){a={error:x}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}return vR.decode(f,i,s,t)},e.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(a){throw new vC}for(var r=0;r<t;r++)e[r]=n[r]},e}(),_R=wR,xR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kR=function(e){function t(t,n,r){var a=e.call(this,t,n)||this;return a.estimatedModuleSize=r,a}return xR(t,e),t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,r){return new t((this.getX()+n)/2,(this.getY()+e)/2,(this.estimatedModuleSize+r)/2)},t}(QE),CR=kR,ER=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SR=function(){function e(e,t,n,r,a,o,i){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=a,this.moduleSize=o,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,a=new Int32Array(3),o=this.image,i=0;i<t;i++){var s=r+(0===(1&i)?Math.floor((i+1)/2):-Math.floor((i+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var u=e;u<n&&!o.get(u,s);)u++;for(var l=0;u<n;){if(o.get(u,s))if(1===l)a[1]++;else if(2===l){var c;if(this.foundPatternCross(a))if(null!==(c=this.handlePossibleCenter(a,s,u)))return c;a[0]=a[2],a[1]=1,a[2]=0,l=1}else a[++l]++;else 1===l&&l++,a[l]++;u++}if(this.foundPatternCross(a))if(null!==(c=this.handlePossibleCenter(a,s,n)))return c}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new nE},e.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},e.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,n,r,a){var o=this.image,i=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=t;u>=0&&o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=t+1;u<i&&o.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===i||s[1]>r)return NaN;for(;u<i&&!o.get(n,u)&&s[2]<=r;)s[2]++,u++;if(s[2]>r)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-a)>=2*a?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,u):NaN},e.prototype.handlePossibleCenter=function(t,n,r){var a,o,i=t[0]+t[1]+t[2],s=e.centerFromEnd(t,r),u=this.crossCheckVertical(n,s,2*t[1],i);if(!isNaN(u)){var l=(t[0]+t[1]+t[2])/3;try{for(var c=ER(this.possibleCenters),d=c.next();!d.done;d=c.next()){var h=d.value;if(h.aboutEquals(l,u,s))return h.combineEstimate(u,s,l)}}catch(p){a={error:p}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}var f=new CR(s,u,l);this.possibleCenters.push(f),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},e}(),AR=SR,IR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RR=function(e){function t(t,n,r,a){var o=e.call(this,t,n)||this;return o.estimatedModuleSize=r,o.count=a,void 0===a&&(o.count=1),o}return IR(t,e),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,r){var a=this.count+1;return new t((this.count*this.getX()+n)/a,(this.count*this.getY()+e)/a,(this.count*this.estimatedModuleSize+r)/a,a)},t}(QE),zR=RR,TR=function(){function e(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),NR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},OR=function(){function e(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var n=null!==t&&void 0!==t&&void 0!==t.get(MC.TRY_HARDER),r=null!==t&&void 0!==t&&void 0!==t.get(MC.PURE_BARCODE),a=this.image,o=a.getHeight(),i=a.getWidth(),s=Math.floor(3*o/(4*e.MAX_MODULES));(s<e.MIN_SKIP||n)&&(s=e.MIN_SKIP);for(var u=!1,l=new Int32Array(5),c=s-1;c<o&&!u;c+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var d=0,h=0;h<i;h++)if(a.get(h,c))1===(1&d)&&d++,l[d]++;else if(0===(1&d))if(4===d)if(e.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,c,h,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,d=3;continue}if(s=2,!0===this.hasSkipped)u=this.haveMultiplyConfirmedCenters();else{var f=this.findRowSkip();f>l[2]&&(c+=f-l[2]-s,h=i-1)}d=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,d=3;else l[++d]++;else l[d]++;if(e.foundPatternCross(l))!0===this.handlePossibleCenter(l,c,i,r)&&(s=l[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return QE.orderBestPatterns(p),new TR(p)},e.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},e.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var r=e[n];if(0===r)return!1;t+=r}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},e.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},e.prototype.crossCheckDiagonal=function(t,n,r,a){for(var o=this.getCrossCheckStateCount(),i=0,s=this.image;t>=i&&n>=i&&s.get(n-i,t-i);)o[2]++,i++;if(t<i||n<i)return!1;for(;t>=i&&n>=i&&!s.get(n-i,t-i)&&o[1]<=r;)o[1]++,i++;if(t<i||n<i||o[1]>r)return!1;for(;t>=i&&n>=i&&s.get(n-i,t-i)&&o[0]<=r;)o[0]++,i++;if(o[0]>r)return!1;var u=s.getHeight(),l=s.getWidth();for(i=1;t+i<u&&n+i<l&&s.get(n+i,t+i);)o[2]++,i++;if(t+i>=u||n+i>=l)return!1;for(;t+i<u&&n+i<l&&!s.get(n+i,t+i)&&o[3]<r;)o[3]++,i++;if(t+i>=u||n+i>=l||o[3]>=r)return!1;for(;t+i<u&&n+i<l&&s.get(n+i,t+i)&&o[4]<r;)o[4]++,i++;if(o[4]>=r)return!1;var c=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(c-a)<2*a&&e.foundPatternCross(o)},e.prototype.crossCheckVertical=function(t,n,r,a){for(var o=this.image,i=o.getHeight(),s=this.getCrossCheckStateCount(),u=t;u>=0&&o.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=t+1;u<i&&o.get(n,u);)s[2]++,u++;if(u===i)return NaN;for(;u<i&&!o.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===i||s[3]>=r)return NaN;for(;u<i&&o.get(n,u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-a)>=2*a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,u):NaN},e.prototype.crossCheckHorizontal=function(t,n,r,a){for(var o=this.image,i=o.getWidth(),s=this.getCrossCheckStateCount(),u=t;u>=0&&o.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=t+1;u<i&&o.get(u,n);)s[2]++,u++;if(u===i)return NaN;for(;u<i&&!o.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===i||s[3]>=r)return NaN;for(;u<i&&o.get(u,n)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-a)>=a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,u):NaN},e.prototype.handlePossibleCenter=function(t,n,r,a){var o=t[0]+t[1]+t[2]+t[3]+t[4],i=e.centerFromEnd(t,r),s=this.crossCheckVertical(n,Math.floor(i),t[2],o);if(!isNaN(s)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(s),t[2],o),!isNaN(i)&&(!a||this.crossCheckDiagonal(Math.floor(s),Math.floor(i),t[2],o)))){for(var u=o/7,l=!1,c=this.possibleCenters,d=0,h=c.length;d<h;d++){var f=c[d];if(f.aboutEquals(u,s,i)){c[d]=f.combineEstimate(s,i,u),l=!0;break}}if(!l){var p=new zR(i,s,u);c.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var a=NR(this.possibleCenters),o=a.next();!o.done;o=a.next()){var i=o.value;if(i.getCount()>=e.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);r=i}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,n,r,a,o=0,i=0,s=this.possibleCenters.length;try{for(var u=NR(this.possibleCenters),l=u.next();!l.done;l=u.next()){(p=l.value).getCount()>=e.CENTER_QUORUM&&(o++,i+=p.getEstimatedModuleSize())}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}if(o<3)return!1;var c=i/s,d=0;try{for(var h=NR(this.possibleCenters),f=h.next();!f.done;f=h.next()){var p=f.value;d+=Math.abs(p.getEstimatedModuleSize()-c)}}catch(g){r={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return d<=.05*i},e.prototype.selectBestPatterns=function(){var e,t,n,r,a=this.possibleCenters.length;if(a<3)throw new nE;var o,i=this.possibleCenters;if(a>3){var s=0,u=0;try{for(var l=NR(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value.getEstimatedModuleSize();s+=d,u+=d*d}}catch(y){e={error:y}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}o=s/a;var h=Math.sqrt(u/a-o*o);i.sort((function(e,t){var n=Math.abs(t.getEstimatedModuleSize()-o),r=Math.abs(e.getEstimatedModuleSize()-o);return n<r?-1:n>r?1:0}));for(var f=Math.max(.2*o,h),p=0;p<i.length&&i.length>3;p++){var m=i[p];Math.abs(m.getEstimatedModuleSize()-o)>f&&(i.splice(p,1),p--)}}if(i.length>3){s=0;try{for(var g=NR(i),v=g.next();!v.done;v=g.next()){s+=v.value.getEstimatedModuleSize()}}catch(b){n={error:b}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}o=s/i.length,i.sort((function(e,t){if(t.getCount()===e.getCount()){var n=Math.abs(t.getEstimatedModuleSize()-o),r=Math.abs(e.getEstimatedModuleSize()-o);return n<r?1:n>r?-1:0}return t.getCount()-e.getCount()})),i.splice(3)}return[i[0],i[1],i[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),DR=OR,MR=function(){function e(e){this.image=e}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(e){this.resultPointCallback=null===e||void 0===e?null:e.get(MC.NEED_RESULT_POINT_CALLBACK);var t=new DR(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},e.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),r=t.getTopRight(),a=t.getBottomLeft(),o=this.calculateModuleSize(n,r,a);if(o<1)throw new nE("No pattern found in proccess finder.");var i=e.computeDimension(n,r,a,o),s=rR.getProvisionalVersionForDimension(i),u=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var c=r.getX()-n.getX()+a.getX(),d=r.getY()-n.getY()+a.getY(),h=1-3/u,f=Math.floor(n.getX()+h*(c-n.getX())),p=Math.floor(n.getY()+h*(d-n.getY())),m=4;m<=16;m<<=1)try{l=this.findAlignmentInRegion(o,f,p,m);break}catch(ut){if(!(ut instanceof nE))throw ut}var g=e.createTransform(n,r,a,l,i),v=e.sampleGrid(this.image,g,i);return new $E(v,null===l?[a,n,r]:[a,n,r,l])},e.createTransform=function(e,t,n,r,a){var o,i,s,u,l=a-3.5;return null!==r?(o=r.getX(),i=r.getY(),u=s=l-3):(o=t.getX()-e.getX()+n.getX(),i=t.getY()-e.getY()+n.getY(),s=l,u=l),sS.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,s,u,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),o,i,n.getX(),n.getY())},e.sampleGrid=function(e,t,n){return dS.getInstance().sampleGridWithTransform(e,n,n,t)},e.computeDimension=function(e,t,n,r){var a=XE.round(QE.distance(e,t)/r),o=XE.round(QE.distance(e,n)/r),i=Math.floor((a+o)/2)+7;switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw new nE("Dimensions could be not found.")}return i},e.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},e.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,r){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,r),o=1,i=e-(n-e);i<0?(o=e/(e-i),i=0):i>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(i-e),i=this.image.getWidth()-1);var s=Math.floor(t-(r-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),i=Math.floor(e+(i-e)*o),(a+=this.sizeOfBlackWhiteBlackRun(e,t,i,s))-1},e.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,r){var a=Math.abs(r-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=r,r=o}for(var i=Math.abs(n-e),s=Math.abs(r-t),u=-i/2,l=e<n?1:-1,c=t<r?1:-1,d=0,h=n+l,f=e,p=t;f!==h;f+=l){var m=a?p:f,g=a?f:p;if(1===d===this.image.get(m,g)){if(2===d)return XE.distance(f,p,e,t);d++}if((u+=s)>0){if(p===r)break;p+=c,u-=i}}return 2===d?XE.distance(n+l,r,e,t):NaN},e.prototype.findAlignmentInRegion=function(e,t,n,r){var a=Math.floor(r*e),o=Math.max(0,t-a),i=Math.min(this.image.getWidth()-1,t+a);if(i-o<3*e)throw new nE("Alignment top exceeds estimated module size.");var s=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-s<3*e)throw new nE("Alignment bottom exceeds estimated module size.");return new AR(this.image,o,s,i-o,u-s,e,this.resultPointCallback).find()},e}(),PR=MR,FR=function(){function e(){this.decoder=new _R}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,n){var r,a;if(void 0!==n&&null!==n&&void 0!==n.get(MC.PURE_BARCODE)){var o=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),a=e.NO_POINTS}else{var i=new PR(t.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(i.getBits(),n),a=i.getPoints()}r.getOther()instanceof yR&&r.getOther().applyMirroredCorrection(a);var s=new _E(r.getText(),r.getRawBytes(),void 0,a,kE.QR_CODE,void 0),u=r.getByteSegments();null!==u&&s.putMetadata(EE.BYTE_SEGMENTS,u);var l=r.getECLevel();return null!==l&&s.putMetadata(EE.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(s.putMetadata(EE.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(EE.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new nE;var r=this.moduleSize(t,e),a=t[1],o=n[1],i=t[0],s=n[0];if(i>=s||a>=o)throw new nE;if(o-a!==s-i&&(s=i+(o-a))>=e.getWidth())throw new nE;var u=Math.round((s-i+1)/r),l=Math.round((o-a+1)/r);if(u<=0||l<=0)throw new nE;if(l!==u)throw new nE;var c=Math.floor(r/2);a+=c;var d=(i+=c)+Math.floor((u-1)*r)-s;if(d>0){if(d>c)throw new nE;i-=d}var h=a+Math.floor((l-1)*r)-o;if(h>0){if(h>c)throw new nE;a-=h}for(var f=new $C(u,l),p=0;p<l;p++)for(var m=a+Math.floor(p*r),g=0;g<u;g++)e.get(i+Math.floor(g*r),m)&&f.set(g,p);return f},e.moduleSize=function(e,t){for(var n=t.getHeight(),r=t.getWidth(),a=e[0],o=e[1],i=!0,s=0;a<r&&o<n;){if(i!==t.get(a,o)){if(5===++s)break;i=!i}a++,o++}if(a===r||o===n)throw new nE;return(a-e[0])/7},e.NO_POINTS=new Array,e}(),jR=FR,BR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LR=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(e){return XE.sum(e)},e.toIntArray=function(t){var n,r;if(null==t||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),o=0;try{for(var i=BR(t),s=i.next();!s.done;s=i.next()){var u=s.value;a[o++]=u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},e.getCodeword=function(t){var n=RC.binarySearch(e.SYMBOL_TABLE,262143&t);return n<0?-1:(e.CODEWORD_TABLE[n]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),WR=LR,GR=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),HR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VR=function(){function e(){}return e.detectMultiple=function(t,n,r){var a=t.getBlackMatrix(),o=e.detect(r,a);return o.length||((a=a.clone()).rotate180(),o=e.detect(r,a)),new GR(a,o)},e.detect=function(t,n){for(var r,a,o=new Array,i=0,s=0,u=!1;i<n.getHeight();){var l=e.findVertices(n,i,s);if(null!=l[0]||null!=l[3]){if(u=!0,o.push(l),!t)break;null!=l[2]?(s=Math.trunc(l[2].getX()),i=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),i=Math.trunc(l[4].getY()))}else{if(!u)break;u=!1,s=0;try{for(var c=(r=void 0,HR(o)),d=c.next();!d.done;d=c.next()){var h=d.value;null!=h[1]&&(i=Math.trunc(Math.max(i,h[1].getY()))),null!=h[3]&&(i=Math.max(i,Math.trunc(h[3].getY())))}}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}i+=e.ROW_STEP}}return o},e.findVertices=function(t,n,r){var a=t.getHeight(),o=t.getWidth(),i=new Array(8);return e.copyToResult(i,e.findRowsWithPattern(t,a,o,n,r,e.START_PATTERN),e.INDEXES_START_PATTERN),null!=i[4]&&(r=Math.trunc(i[4].getX()),n=Math.trunc(i[4].getY())),e.copyToResult(i,e.findRowsWithPattern(t,a,o,n,r,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),i},e.copyToResult=function(e,t,n){for(var r=0;r<n.length;r++)e[n[r]]=t[r]},e.findRowsWithPattern=function(t,n,r,a,o,i){for(var s=new Array(4),u=!1,l=new Int32Array(i.length);a<n;a+=e.ROW_STEP){if(null!=(f=e.findGuardPattern(t,o,a,r,!1,i,l))){for(;a>0;){if(null==(h=e.findGuardPattern(t,o,--a,r,!1,i,l))){a++;break}f=h}s[0]=new QE(f[0],a),s[1]=new QE(f[1],a),u=!0;break}}var c=a+1;if(u){for(var d=0,h=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);c<n;c++){var f;if(null!=(f=e.findGuardPattern(t,h[0],c,r,!1,i,l))&&Math.abs(h[0]-f[0])<e.MAX_PATTERN_DRIFT&&Math.abs(h[1]-f[1])<e.MAX_PATTERN_DRIFT)h=f,d=0;else{if(d>e.SKIPPED_ROW_COUNT_MAX)break;d++}}c-=d+1,s[2]=new QE(h[0],c),s[3]=new QE(h[1],c)}return c-a<e.BARCODE_MIN_HEIGHT&&RC.fill(s,null),s},e.findGuardPattern=function(t,n,r,a,o,i,s){RC.fillWithin(s,0,s.length,0);for(var u=n,l=0;t.get(u,r)&&u>0&&l++<e.MAX_PIXEL_DRIFT;)u--;for(var c=u,d=0,h=i.length,f=o;c<a;c++){if(t.get(c,r)!==f)s[d]++;else{if(d===h-1){if(e.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],wC.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,f=!f}}return d===h-1&&e.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},e.patternMatchVariance=function(e,t,n){for(var r=e.length,a=0,o=0,i=0;i<r;i++)a+=e[i],o+=t[i];if(a<o)return 1/0;var s=a/o;n*=s;for(var u=0,l=0;l<r;l++){var c=e[l],d=t[l]*s,h=c>d?c-d:d-c;if(h>n)return 1/0;u+=h}return u/a},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),UR=VR,qR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},KR=function(){function e(e,t){if(0===t.length)throw new hC;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),wC.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){var t,n;if(0===e)return this.getCoefficient(0);if(1===e){var r=0;try{for(var a=qR(this.coefficients),o=a.next();!o.done;o=a.next()){var i=o.value;r=this.field.add(r,i)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}for(var s=this.coefficients[0],u=this.coefficients.length,l=1;l<u;l++)s=this.field.add(this.field.multiply(e,s),this.coefficients[l]);return s},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new hC("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var a=n;n=r,r=a}var o=new Int32Array(r.length),i=r.length-n.length;wC.arraycopy(r,0,o,0,i);for(var s=i;s<r.length;s++)o[s]=this.field.add(n[s-i],r[s]);return new e(this.field,o)},e.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new hC("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new hC("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,a=t.coefficients,o=a.length,i=new Int32Array(r+o-1),s=0;s<r;s++)for(var u=n[s],l=0;l<o;l++)i[s+l]=this.field.add(i[s+l],this.field.multiply(u,a[l]));return new e(this.field,i)},e.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),r=0;r<t;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new e(this.field,n)},e.prototype.multiplyScalar=function(t){if(0===t)return new e(this.field,new Int32Array([0]));if(1===t)return this;for(var n=this.coefficients.length,r=new Int32Array(n),a=0;a<n;a++)r[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new hC;if(0===n)return new e(this.field,new Int32Array([0]));for(var r=this.coefficients.length,a=new Int32Array(r+t),o=0;o<r;o++)a[o]=this.field.multiply(this.coefficients[o],n);return new e(this.field,a)},e.prototype.toString=function(){for(var e=new JC,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},e}(),XR=KR,ZR=function(){function e(){}return e.prototype.add=function(e,t){return(e+t)%this.modulus},e.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new hC;return this.logTable[e]},e.prototype.inverse=function(e){if(0===e)throw new OE;return this.expTable[this.modulus-this.logTable[e]-1]},e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(e){return e===this},e}(),YR=ZR,JR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QR=function(e){function t(t,n){var r=e.call(this)||this;r.modulus=t,r.expTable=new Int32Array(t),r.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)r.expTable[o]=a,a=a*n%t;for(o=0;o<t-1;o++)r.logTable[r.expTable[o]]=o;return r.zero=new XR(r,new Int32Array([0])),r.one=new XR(r,new Int32Array([1])),r}return JR(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new hC;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new XR(this,n)},t.PDF417_GF=new t(WR.NUMBER_OF_CODEWORDS,3),t}(YR),$R=QR,ez=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tz=function(){function e(){this.field=$R.PDF417_GF}return e.prototype.decode=function(e,t,n){for(var r,a,o=new XR(this.field,e),i=new Int32Array(t),s=!1,u=t;u>0;u--){var l=o.evaluateAt(this.field.exp(u));i[t-u]=l,0!==l&&(s=!0)}if(!s)return 0;var c=this.field.getOne();if(null!=n)try{for(var d=ez(n),h=d.next();!h.done;h=d.next()){var f=h.value,p=this.field.exp(e.length-1-f),m=new XR(this.field,new Int32Array([this.field.subtract(0,p),1]));c=c.multiply(m)}}catch(k){r={error:k}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}var g=new XR(this.field,i),v=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),g,t),y=v[0],b=v[1],w=this.findErrorLocations(y),_=this.findErrorMagnitudes(b,y,w);for(u=0;u<w.length;u++){var x=e.length-1-this.field.log(w[u]);if(x<0)throw vC.getChecksumInstance();e[x]=this.field.subtract(e[x],_[u])}return w.length},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var r=e;e=t,t=r}for(var a=e,o=t,i=this.field.getZero(),s=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,l=i;if(i=s,(a=o).isZero())throw vC.getChecksumInstance();o=u;for(var c=this.field.getZero(),d=a.getCoefficient(a.getDegree()),h=this.field.inverse(d);o.getDegree()>=a.getDegree()&&!o.isZero();){var f=o.getDegree()-a.getDegree(),p=this.field.multiply(o.getCoefficient(o.getDegree()),h);c=c.add(this.field.buildMonomial(f,p)),o=o.subtract(a.multiplyByMonomial(f,p))}s=c.multiply(i).subtract(l).negative()}var m=s.getCoefficient(0);if(0===m)throw vC.getChecksumInstance();var g=this.field.inverse(m);return[s.multiply(g),o.multiply(g)]},e.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),r=0,a=1;a<this.field.getSize()&&r<t;a++)0===e.evaluateAt(a)&&(n[r]=this.field.inverse(a),r++);if(r!==t)throw vC.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(e,t,n){for(var r=t.getDegree(),a=new Int32Array(r),o=1;o<=r;o++)a[r-o]=this.field.multiply(o,t.getCoefficient(o));var i=new XR(this.field,a),s=n.length,u=new Int32Array(s);for(o=0;o<s;o++){var l=this.field.inverse(n[o]),c=this.field.subtract(0,e.evaluateAt(l)),d=this.field.inverse(i.evaluateAt(l));u[o]=this.field.multiply(c,d)}return u},e}(),nz=tz,rz=function(){function e(t,n,r,a,o){t instanceof e?this.constructor_2(t):this.constructor_1(t,n,r,a,o)}return e.prototype.constructor_1=function(e,t,n,r,a){var o=null==t||null==n,i=null==r||null==a;if(o&&i)throw new nE;o?(t=new QE(0,r.getY()),n=new QE(0,a.getY())):i&&(r=new QE(e.getWidth()-1,t.getY()),a=new QE(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},e.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},e.merge=function(t,n){return null==t?n:null==n?t:new e(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},e.prototype.addMissingRows=function(t,n,r){var a=this.topLeft,o=this.bottomLeft,i=this.topRight,s=this.bottomRight;if(t>0){var u=r?this.topLeft:this.topRight,l=Math.trunc(u.getY()-t);l<0&&(l=0);var c=new QE(u.getX(),l);r?a=c:i=c}if(n>0){var d=r?this.bottomLeft:this.bottomRight,h=Math.trunc(d.getY()+n);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var f=new QE(d.getX(),h);r?o=f:s=f}return new e(this.image,a,o,i,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),az=rz,oz=function(){function e(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),iz=function(){function e(){this.buffer=""}return e.form=function(e,t){var n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(e,r,a,o,i,s){if("%%"===e)return"%";if(void 0!==t[++n]){e=o?parseInt(o.substr(1)):void 0;var u,l=i?parseInt(i.substr(1)):void 0;switch(s){case"s":u=t[n];break;case"c":u=t[n][0];break;case"f":u=parseFloat(t[n]).toFixed(e);break;case"p":u=parseFloat(t[n]).toPrecision(e);break;case"e":u=parseFloat(t[n]).toExponential(e);break;case"x":u=parseInt(t[n]).toString(l||16);break;case"d":u=parseFloat(parseInt(t[n],l||10).toPrecision(e)).toFixed(0)}u="object"===typeof u?JSON.stringify(u):(+u).toString(l);for(var c=parseInt(a),d=a&&a[0]+""==="0"?"0":" ";u.length<c;)u=void 0!==r?u+d:d+u;return u}}))},e.prototype.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=e.form(t,n)},e.prototype.toString=function(){return this.buffer},e}(),sz=iz,uz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lz=function(){function e(e){this.boundingBox=new az(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(null!=n)return n;for(var r=1;r<e.MAX_NEARBY_DISTANCE;r++){var a=this.imageRowToCodewordIndex(t)-r;if(a>=0&&null!=(n=this.codewords[a]))return n;if((a=this.imageRowToCodewordIndex(t)+r)<this.codewords.length&&null!=(n=this.codewords[a]))return n}return null},e.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},e.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},e.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var e,t,n=new sz,r=0;try{for(var a=uz(this.codewords),o=a.next();!o.done;o=a.next()){var i=o.value;null!=i?n.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue()):n.format("%3d:    |   %n",r++)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),cz=lz,dz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hz=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},fz=function(){function e(){this.values=new Map}return e.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)},e.prototype.getValue=function(){var e,t,n=-1,r=new Array,a=function(e,t){var a=function(){return e},o=function(){return t};o()>n?(n=o(),(r=[]).push(a())):o()===n&&r.push(a())};try{for(var o=dz(this.values.entries()),i=o.next();!i.done;i=o.next()){var s=hz(i.value,2);a(s[0],s[1])}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return WR.toIntArray(r)},e.prototype.getConfidence=function(e){return this.values.get(e)},e}(),pz=fz,mz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vz=function(e){function t(t,n){var r=e.call(this,t)||this;return r._isLeft=n,r}return mz(t,e),t.prototype.setRowNumbers=function(){var e,t;try{for(var n=gz(this.getCodewords()),r=n.next();!r.done;r=n.next()){var a=r.value;null!=a&&a.setRowNumberAsRowIndicatorColumn()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),i=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=-1,u=1,l=0,c=o;c<i;c++)if(null!=t[c]){var d=t[c],h=d.getRowNumber()-s;if(0===h)l++;else if(1===h)u=Math.max(u,l),l=1,s=d.getRowNumber();else if(h<0||d.getRowNumber()>=e.getRowCount()||h>c)t[c]=null;else{for(var f=void 0,p=(f=u>2?(u-2)*h:h)>=c,m=1;m<=f&&!p;m++)p=null!=t[c-m];p?t[c]=null:(s=d.getRowNumber(),l=1)}}},t.prototype.getRowHeights=function(){var e,t,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var r=new Int32Array(n.getRowCount());try{for(var a=gz(this.getCodewords()),o=a.next();!o.done;o=a.next()){var i=o.value;if(null!=i){var s=i.getRowNumber();if(s>=r.length)continue;r[s]++}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),i=this.getCodewords(),s=-1,u=1,l=0,c=a;c<o;c++)if(null!=i[c]){var d=i[c];d.setRowNumberAsRowIndicatorColumn();var h=d.getRowNumber()-s;0===h?l++:1===h?(u=Math.max(u,l),l=1,s=d.getRowNumber()):d.getRowNumber()>=e.getRowCount()?i[c]=null:(s=d.getRowNumber(),l=1)}},t.prototype.getBarcodeMetadata=function(){var e,t,n=this.getCodewords(),r=new pz,a=new pz,o=new pz,i=new pz;try{for(var s=gz(n),u=s.next();!u.done;u=s.next()){var l=u.value;if(null!=l){l.setRowNumberAsRowIndicatorColumn();var c=l.getValue()%30,d=l.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:a.setValue(3*c+1);break;case 1:i.setValue(c/3),o.setValue(c%3);break;case 2:r.setValue(c+1)}}}}catch(f){e={error:f}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(0===r.getValue().length||0===a.getValue().length||0===o.getValue().length||0===i.getValue().length||r.getValue()[0]<1||a.getValue()[0]+o.getValue()[0]<WR.MIN_ROWS_IN_BARCODE||a.getValue()[0]+o.getValue()[0]>WR.MAX_ROWS_IN_BARCODE)return null;var h=new oz(r.getValue()[0],a.getValue()[0],o.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(n,h),h},t.prototype.removeIncorrectCodewords=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(null!=e[n]){var a=r.getValue()%30,o=r.getRowNumber();if(o>t.getRowCount())e[n]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*a+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(a/3)===t.getErrorCorrectionLevel()&&a%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:a+1!==t.getColumnCount()&&(e[n]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+e.prototype.toString.call(this)},t}(cz),yz=vz,bz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wz=function(){function e(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=WR.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,n));return e},e.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var a=this.detectionResultColumns[r].getCodewords()[n];null!=a&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}},e.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var a=n[r].getRowNumber(),o=0,i=this.barcodeColumnCount+1;i>0&&o<this.ADJUST_ROW_NUMBER_SKIP;i--){var s=this.detectionResultColumns[i].getCodewords()[r];null!=s&&(o=e.adjustRowNumberIfValid(a,o,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var a=n[r].getRowNumber(),o=0,i=1;i<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;i++){var s=this.detectionResultColumns[i].getCodewords()[r];null!=s&&(o=e.adjustRowNumberIfValid(a,o,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},e.prototype.adjustRowNumbers=function(t,n,r){var a,o;if(null!=this.detectionResultColumns[t-1]){var i=r[n],s=this.detectionResultColumns[t-1].getCodewords(),u=s;null!=this.detectionResultColumns[t+1]&&(u=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=s[n],l[3]=u[n],n>0&&(l[0]=r[n-1],l[4]=s[n-1],l[5]=u[n-1]),n>1&&(l[8]=r[n-2],l[10]=s[n-2],l[11]=u[n-2]),n<r.length-1&&(l[1]=r[n+1],l[6]=s[n+1],l[7]=u[n+1]),n<r.length-2&&(l[9]=r[n+2],l[12]=s[n+2],l[13]=u[n+2]);try{for(var c=bz(l),d=c.next();!d.done;d=c.next()){var h=d.value;if(e.adjustRowNumber(i,h))return}}catch(f){a={error:f}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(e,t){return null!=t&&(!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0))},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(e){this.boundingBox=e},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},e.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},e.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new sz,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var a=this.detectionResultColumns[r].getCodewords()[n];null!=a?t.format(" %3d|%3d",a.getRowNumber(),a.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},e}(),_z=wz,xz=function(){function e(t,n,r,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(e){this.rowNumber=e},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),kz=function(){function e(){}return e.initialize=function(){for(var t=0;t<WR.SYMBOL_TABLE.length;t++)for(var n=WR.SYMBOL_TABLE[t],r=1&n,a=0;a<WR.BARS_IN_MODULE;a++){for(var o=0;(1&n)===r;)o+=1,n>>=1;r=1&n,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(WR.BARS_IN_MODULE)),e.RATIOS_TABLE[t][WR.BARS_IN_MODULE-a-1]=Math.fround(o/WR.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var n=e.getDecodedCodewordValue(e.sampleBitCounts(t));return-1!==n?n:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(e){for(var t=XE.sum(e),n=new Int32Array(WR.BARS_IN_MODULE),r=0,a=0,o=0;o<WR.MODULES_IN_CODEWORD;o++){var i=t/(2*WR.MODULES_IN_CODEWORD)+o*t/WR.MODULES_IN_CODEWORD;a+e[r]<=i&&(a+=e[r],r++),n[r]++}return n},e.getDecodedCodewordValue=function(t){var n=e.getBitValue(t);return-1===WR.getCodeword(n)?-1:n},e.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},e.getClosestDecodedValue=function(t){var n=XE.sum(t),r=new Array(WR.BARS_IN_MODULE);if(n>1)for(var a=0;a<r.length;a++)r[a]=Math.fround(t[a]/n);var o=YE.MAX_VALUE,i=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var u=0,l=e.RATIOS_TABLE[s],c=0;c<WR.BARS_IN_MODULE;c++){var d=Math.fround(l[c]-r[c]);if((u+=Math.fround(d*d))>=o)break}u<o&&(o=u,i=WR.SYMBOL_TABLE[s])}return i},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(WR.SYMBOL_TABLE.length).map((function(e){return new Array(WR.BARS_IN_MODULE)})),e}(),Cz=kz,Ez=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(e){this.segmentIndex=e},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(e){this.fileId=e},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(e){this.optionalData=e},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(e){this.lastSegment=e},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(e){this.segmentCount=e},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(e){this.sender=e},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(e){this.addressee=e},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(e){this.fileName=e},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(e){this.fileSize=e},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(e){this.checksum=e},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(e){this.timestamp=e},e}(),Sz=function(){function e(){}return e.parseLong=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e}(),Az=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Az(t,e),t.kind="NullPointerException",t}(iC),Rz=Iz,zz=function(){function e(){}return e.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},e.prototype.writeBytesOffset=function(e,t,n){if(null==e)throw new Rz;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new kC;if(0!==n)for(var r=0;r<n;r++)this.write(e[t+r])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),Tz=zz,Nz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nz(t,e),t}(iC),Dz=Oz,Mz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pz=function(e){function t(t){void 0===t&&(t=32);var n=e.call(this)||this;if(n.count=0,t<0)throw new hC("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return Mz(t,e),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new Dz;t=TC.MAX_VALUE}this.buf=RC.copyOfUint8Array(this.buf,t)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new kC;this.ensureCapacity(this.count+n),wC.arraycopy(e,t,this.buf,this.count,n),this.count+=n},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return RC.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(Tz),Fz=Pz;function jz(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Bz(e){if("undefined"===typeof fR&&(fR=jz()),null===fR)throw new Error("BigInt is not supported!");return fR(e)}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(hR||(hR={}));var Lz,Wz=function(){function e(){}return e.decode=function(t,n){var r=new JC(""),a=GC.ISO8859_1;r.enableDecoding(a);for(var o=1,i=t[o++],s=new Ez;o<t[0];){switch(i){case e.TEXT_COMPACTION_MODE_LATCH:o=e.textCompaction(t,o,r);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:o=e.byteCompaction(i,t,a,o,r);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:o=e.numericCompaction(t,o,r);break;case e.ECI_CHARSET:GC.getCharacterSetECIByValue(t[o++]);break;case e.ECI_GENERAL_PURPOSE:o+=2;break;case e.ECI_USER_DEFINED:o++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=e.decodeMacroBlock(t,o,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new jC;default:o--,o=e.textCompaction(t,o,r)}if(!(o<t.length))throw jC.getFormatInstance();i=t[o++]}if(0===r.length())throw jC.getFormatInstance();var u=new SE(null,r.toString(),null,n);return u.setOther(s),u},e.decodeMacroBlock=function(t,n,r){if(n+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw jC.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<e.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)a[o]=t[n];r.setSegmentIndex(TC.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var i=new JC;n=e.textCompaction(t,n,i),r.setFileId(i.toString());var s=-1;for(t[n]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<t[0];)switch(t[n]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++n]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new JC;n=e.textCompaction(t,n+1,u),r.setFileName(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new JC;n=e.textCompaction(t,n+1,l),r.setSender(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new JC;n=e.textCompaction(t,n+1,c),r.setAddressee(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new JC;n=e.numericCompaction(t,n+1,d),r.setSegmentCount(TC.parseInt(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new JC;n=e.numericCompaction(t,n+1,h),r.setTimestamp(Sz.parseLong(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new JC;n=e.numericCompaction(t,n+1,f),r.setChecksum(TC.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new JC;n=e.numericCompaction(t,n+1,p),r.setFileSize(Sz.parseLong(p.toString()));break;default:throw jC.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw jC.getFormatInstance()}if(-1!==s){var m=n-s;r.isLastSegment()&&m--,r.setOptionalData(RC.copyOfRange(t,s,s+m))}return n},e.textCompaction=function(t,n,r){for(var a=new Int32Array(2*(t[0]-n)),o=new Int32Array(2*(t[0]-n)),i=0,s=!1;n<t[0]&&!s;){var u=t[n++];if(u<e.TEXT_COMPACTION_MODE_LATCH)a[i]=u/30,a[i+1]=u%30,i+=2;else switch(u){case e.TEXT_COMPACTION_MODE_LATCH:a[i++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[i]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=t[n++],o[i]=u,i++}}return e.decodeTextCompaction(a,o,i,r),n},e.decodeTextCompaction=function(t,n,r,a){for(var o=hR.ALPHA,i=hR.ALPHA,s=0;s<r;){var u=t[s],l="";switch(o){case hR.ALPHA:if(u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case e.LL:o=hR.LOWER;break;case e.ML:o=hR.MIXED;break;case e.PS:i=o,o=hR.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=hR.ALPHA}break;case hR.LOWER:if(u<26)l=String.fromCharCode(97+u);else switch(u){case 26:l=" ";break;case e.AS:i=o,o=hR.ALPHA_SHIFT;break;case e.ML:o=hR.MIXED;break;case e.PS:i=o,o=hR.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=hR.ALPHA}break;case hR.MIXED:if(u<e.PL)l=e.MIXED_CHARS[u];else switch(u){case e.PL:o=hR.PUNCT;break;case 26:l=" ";break;case e.LL:o=hR.LOWER;break;case e.AL:o=hR.ALPHA;break;case e.PS:i=o,o=hR.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=hR.ALPHA}break;case hR.PUNCT:if(u<e.PAL)l=e.PUNCT_CHARS[u];else switch(u){case e.PAL:o=hR.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=hR.ALPHA}break;case hR.ALPHA_SHIFT:if(o=i,u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:o=hR.ALPHA}break;case hR.PUNCT_SHIFT:if(o=i,u<e.PAL)l=e.PUNCT_CHARS[u];else switch(u){case e.PAL:o=hR.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:o=hR.ALPHA}}""!==l&&a.append(l),s++}},e.byteCompaction=function(t,n,r,a,o){var i=new Fz,s=0,u=0,l=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),d=n[a++];a<n[0]&&!l;)switch(c[s++]=d,u=900*u+d,d=n[a++]){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,l=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)i.write(Number(Bz(u)>>Bz(8*(5-h))));u=0,s=0}}a===n[0]&&d<e.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=d);for(var f=0;f<s;f++)i.write(c[f]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<n[0]&&!l;){var p=n[a++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,l=!0}if(s%5===0&&s>0){for(h=0;h<6;++h)i.write(Number(Bz(u)>>Bz(8*(5-h))));u=0,s=0}}}return o.append(KC.decode(i.toByteArray(),r)),a},e.numericCompaction=function(t,n,r){for(var a=0,o=!1,i=new Int32Array(e.MAX_NUMERIC_CODEWORDS);n<t[0]&&!o;){var s=t[n++];if(n===t[0]&&(o=!0),s<e.TEXT_COMPACTION_MODE_LATCH)i[a]=s,a++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,o=!0}(a%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||o)&&a>0&&(r.append(e.decodeBase900toBase10(i,a)),a=0)}return n},e.decodeBase900toBase10=function(t,n){for(var r=Bz(0),a=0;a<n;a++)r+=e.EXP900[n-a-1]*Bz(t[a]);var o=r.toString();if("1"!==o.charAt(0))throw new jC;return o.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",e.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",e.EXP900=jz()?function(){var e=[];e[0]=Bz(1);var t=Bz(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e}():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),Gz=Wz,Hz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vz=function(){function e(){}return e.decode=function(t,n,r,a,o,i,s){for(var u,l=new az(t,n,r,a,o),c=null,d=null,h=!0;;h=!1){if(null!=n&&(c=e.getRowIndicatorColumn(t,l,n,!0,i,s)),null!=a&&(d=e.getRowIndicatorColumn(t,l,a,!1,i,s)),null==(u=e.merge(c,d)))throw nE.getNotFoundInstance();var f=u.getBoundingBox();if(!h||null==f||!(f.getMinY()<l.getMinY()||f.getMaxY()>l.getMaxY()))break;l=f}u.setBoundingBox(l);var p=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,c),u.setDetectionResultColumn(p,d);for(var m=null!=c,g=1;g<=p;g++){var v=m?g:p-g;if(void 0===u.getDetectionResultColumn(v)){var y=void 0;y=0===v||v===p?new yz(l,0===v):new cz(l),u.setDetectionResultColumn(v,y);for(var b=-1,w=b,_=l.getMinY();_<=l.getMaxY();_++){if((b=e.getStartColumn(u,v,_,m))<0||b>l.getMaxX()){if(-1===w)continue;b=w}var x=e.detectCodeword(t,l.getMinX(),l.getMaxX(),m,b,_,i,s);null!=x&&(y.setCodeword(_,x),w=b,i=Math.min(i,x.getWidth()),s=Math.max(s,x.getWidth()))}}}return e.createDecoderResult(u)},e.merge=function(t,n){if(null==t&&null==n)return null;var r=e.getBarcodeMetadata(t,n);if(null==r)return null;var a=az.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(n));return new _z(r,a)},e.adjustBoundingBox=function(t){var n,r;if(null==t)return null;var a=t.getRowHeights();if(null==a)return null;var o=e.getMax(a),i=0;try{for(var s=Hz(a),u=s.next();!u.done;u=s.next()){var l=u.value;if(i+=o-l,l>0)break}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var c=t.getCodewords(),d=0;i>0&&null==c[d];d++)i--;var h=0;for(d=a.length-1;d>=0&&(h+=o-a[d],!(a[d]>0));d--);for(d=c.length-1;h>0&&null==c[d];d--)h--;return t.getBoundingBox().addMissingRows(i,h,t.isLeft())},e.getMax=function(e){var t,n,r=-1;try{for(var a=Hz(e),o=a.next();!o.done;o=a.next()){var i=o.value;r=Math.max(r,i)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.getBarcodeMetadata=function(e,t){var n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,n,r,a,o,i){for(var s=new yz(n,a),u=0;u<2;u++)for(var l=0===u?1:-1,c=Math.trunc(Math.trunc(r.getX())),d=Math.trunc(Math.trunc(r.getY()));d<=n.getMaxY()&&d>=n.getMinY();d+=l){var h=e.detectCodeword(t,0,t.getWidth(),a,c,d,o,i);null!=h&&(s.setCodeword(d,h),c=a?h.getStartX():h.getEndX())}return s},e.adjustCodewordCount=function(t,n){var r=n[0][1],a=r.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===a.length){if(o<1||o>WR.MAX_CODEWORDS_IN_BARCODE)throw nE.getNotFoundInstance();r.setValue(o)}else a[0]!==o&&r.setValue(o)},e.createDecoderResult=function(t){var n=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,n);for(var r=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],i=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var u=0;u<t.getBarcodeColumnCount();u++){var l=n[s][u+1].getValue(),c=s*t.getBarcodeColumnCount()+u;0===l.length?r.push(c):1===l.length?a[c]=l[0]:(i.push(c),o.push(l))}for(var d=new Array(o.length),h=0;h<d.length;h++)d[h]=o[h];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,WR.toIntArray(r),WR.toIntArray(i),d)},e.createDecoderResultFromAmbiguousValues=function(t,n,r,a,o){for(var i=new Int32Array(a.length),s=100;s-- >0;){for(var u=0;u<i.length;u++)n[a[u]]=o[u][i[u]];try{return e.decodeCodewords(n,t,r)}catch(l){if(!(l instanceof vC))throw l}if(0===i.length)throw vC.getChecksumInstance();for(u=0;u<i.length;u++){if(i[u]<o[u].length-1){i[u]++;break}if(i[u]=0,u===i.length-1)throw vC.getChecksumInstance()}}throw vC.getChecksumInstance()},e.createBarcodeMatrix=function(e){for(var t,n,r,a,o=Array.from({length:e.getBarcodeRowCount()},(function(){return new Array(e.getBarcodeColumnCount()+2)})),i=0;i<o.length;i++)for(var s=0;s<o[i].length;s++)o[i][s]=new pz;var u=0;try{for(var l=Hz(e.getDetectionResultColumns()),c=l.next();!c.done;c=l.next()){var d=c.value;if(null!=d)try{for(var h=(r=void 0,Hz(d.getCodewords())),f=h.next();!f.done;f=h.next()){var p=f.value;if(null!=p){var m=p.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][u].setValue(p.getValue())}}}}catch(g){r={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}u++}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o},e.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},e.getStartColumn=function(t,n,r,a){var o,i,s=a?1:-1,u=null;if(e.isValidBarcodeColumn(t,n-s)&&(u=t.getDetectionResultColumn(n-s).getCodeword(r)),null!=u)return a?u.getEndX():u.getStartX();if(null!=(u=t.getDetectionResultColumn(n).getCodewordNearby(r)))return a?u.getStartX():u.getEndX();if(e.isValidBarcodeColumn(t,n-s)&&(u=t.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=u)return a?u.getEndX():u.getStartX();for(var l=0;e.isValidBarcodeColumn(t,n-s);){n-=s;try{for(var c=(o=void 0,Hz(t.getDetectionResultColumn(n).getCodewords())),d=c.next();!d.done;d=c.next()){var h=d.value;if(null!=h)return(a?h.getEndX():h.getStartX())+s*l*(h.getEndX()-h.getStartX())}}catch(f){o={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}l++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,n,r,a,o,i,s,u){o=e.adjustCodewordStartColumn(t,n,r,a,o,i);var l,c=e.getModuleBitCount(t,n,r,a,o,i);if(null==c)return null;var d=XE.sum(c);if(a)l=o+d;else{for(var h=0;h<c.length/2;h++){var f=c[h];c[h]=c[c.length-1-h],c[c.length-1-h]=f}o=(l=o)-d}if(!e.checkCodewordSkew(d,s,u))return null;var p=Cz.getDecodedValue(c),m=WR.getCodeword(p);return-1===m?null:new xz(o,l,e.getCodewordBucketNumber(p),m)},e.getModuleBitCount=function(e,t,n,r,a,o){for(var i=a,s=new Int32Array(8),u=0,l=r?1:-1,c=r;(r?i<n:i>=t)&&u<s.length;)e.get(i,o)===c?(s[u]++,i+=l):(u++,c=!c);return u===s.length||i===(r?n:t)&&u===s.length-1?s:null},e.getNumberOfECCodeWords=function(e){return 2<<e},e.adjustCodewordStartColumn=function(t,n,r,a,o,i){for(var s=o,u=a?-1:1,l=0;l<2;l++){for(;(a?s>=n:s<r)&&a===t.get(s,i);){if(Math.abs(o-s)>e.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,a=!a}return s},e.checkCodewordSkew=function(t,n,r){return n-e.CODEWORD_SKEW_SIZE<=t&&t<=r+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,n,r){if(0===t.length)throw jC.getFormatInstance();var a=1<<n+1,o=e.correctErrors(t,r,a);e.verifyCodewordCount(t,a);var i=Gz.decode(t,""+n);return i.setErrorsCorrected(o),i.setErasures(r.length),i},e.correctErrors=function(t,n,r){if(null!=n&&n.length>r/2+e.MAX_ERRORS||r<0||r>e.MAX_EC_CODEWORDS)throw vC.getChecksumInstance();return e.errorCorrection.decode(t,r,n)},e.verifyCodewordCount=function(e,t){if(e.length<4)throw jC.getFormatInstance();var n=e[0];if(n>e.length)throw jC.getFormatInstance();if(0===n){if(!(t<e.length))throw jC.getFormatInstance();e[0]=e.length-t}},e.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,r=t.length-1;!((1&e)!==n&&(n=1&e,--r<0));)t[r]++,e>>=1;return t},e.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},e.toString=function(e){for(var t=new sz,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var r=0;r<e[n].length;r++){var a=e[n][r];0===a.getValue().length?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new nz,e}(),Uz=Vz,qz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kz=function(){function e(){}return e.prototype.decode=function(t,n){void 0===n&&(n=null);var r=e.decode(t,n,!1);if(null==r||0===r.length||null==r[0])throw nE.getNotFoundInstance();return r[0]},e.prototype.decodeMultiple=function(t,n){void 0===n&&(n=null);try{return e.decode(t,n,!0)}catch(r){if(r instanceof jC||r instanceof vC)throw nE.getNotFoundInstance();throw r}},e.decode=function(t,n,r){var a,o,i=new Array,s=UR.detectMultiple(t,n,r);try{for(var u=qz(s.getPoints()),l=u.next();!l.done;l=u.next()){var c=l.value,d=Uz.decode(s.getBits(),c[4],c[5],c[6],c[7],e.getMinCodewordWidth(c),e.getMaxCodewordWidth(c)),h=new _E(d.getText(),d.getRawBytes(),void 0,c,kE.PDF_417);h.putMetadata(EE.ERROR_CORRECTION_LEVEL,d.getECLevel());var f=d.getOther();null!=f&&h.putMetadata(EE.PDF417_EXTRA_METADATA,f),i.push(h)}}catch(p){a={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.map((function(e){return e}))},e.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMinWidth=function(e,t){return null==e||null==t?TC.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*WR.MODULES_IN_CODEWORD/WR.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*WR.MODULES_IN_CODEWORD/WR.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*WR.MODULES_IN_CODEWORD/WR.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*WR.MODULES_IN_CODEWORD/WR.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),Xz=Kz,Zz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zz(t,e),t.kind="ReaderException",t}(iC),Jz=Yz,Qz=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$z=function(){function e(){}return e.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},e.prototype.decodeWithState=function(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)},e.prototype.setHints=function(e){this.hints=e;var t=null!==e&&void 0!==e&&void 0!==e.get(MC.TRY_HARDER),n=null===e||void 0===e?null:e.get(MC.POSSIBLE_FORMATS),r=new Array;if(null!==n&&void 0!==n){var a=n.some((function(e){return e===kE.UPC_A||e===kE.UPC_E||e===kE.EAN_13||e===kE.EAN_8||e===kE.CODABAR||e===kE.CODE_39||e===kE.CODE_93||e===kE.CODE_128||e===kE.ITF||e===kE.RSS_14||e===kE.RSS_EXPANDED}));a&&!t&&r.push(new bI(e)),n.includes(kE.QR_CODE)&&r.push(new jR),n.includes(kE.DATA_MATRIX)&&r.push(new GI),n.includes(kE.AZTEC)&&r.push(new gS),n.includes(kE.PDF_417)&&r.push(new Xz),a&&t&&r.push(new bI(e))}0===r.length&&(t||r.push(new bI(e)),r.push(new jR),r.push(new GI),r.push(new gS),r.push(new Xz),t&&r.push(new bI(e))),this.readers=r},e.prototype.reset=function(){var e,t;if(null!==this.readers)try{for(var n=Qz(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.decodeInternal=function(e){var t,n;if(null===this.readers)throw new Jz("No readers where selected, nothing can be read.");try{for(var r=Qz(this.readers),a=r.next();!a.done;a=r.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(i){if(i instanceof Jz)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}throw new nE("No MultiFormat Readers were able to detect the code.")},e}(),eT=$z,tT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nT=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=500);var r=new eT;return r.setHints(t),e.call(this,r,n)||this}return tT(t,e),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t}(wE),rT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aT=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Xz,t)||this}rT(t,e)}(wE),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new jR,t)||this}aT(t,e)}(wE);!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(Lz||(Lz={}));var oT=Lz,iT=function(){function e(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new zE(e,Int32Array.from([1])))}return e.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],r=this.field,a=t.length;a<=e;a++){var o=n.multiply(new zE(r,Int32Array.from([1,r.exp(a-1+r.getGeneratorBase())])));t.push(o),n=o}return t[e]},e.prototype.encode=function(e,t){if(0===t)throw new hC("No error correction bytes");var n=e.length-t;if(n<=0)throw new hC("No data bytes provided");var r=this.buildGenerator(t),a=new Int32Array(n);wC.arraycopy(e,0,a,0,n);for(var o=new zE(this.field,a),i=(o=o.multiplyByMonomial(t,1)).divide(r)[1].getCoefficients(),s=t-i.length,u=0;u<s;u++)e[n+u]=0;wC.arraycopy(i,0,e,n+s,i.length)},e}(),sT=iT,uT=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),o=t.getHeight(),i=0;i<o-1;i++)for(var s=r[i],u=0;u<a-1;u++){var l=s[u];l===s[u+1]&&l===r[i+1][u]&&l===r[i+1][u+1]&&n++}return e.N2*n},e.applyMaskPenaltyRule3=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),o=t.getHeight(),i=0;i<o;i++)for(var s=0;s<a;s++){var u=r[i];s+6<a&&1===u[s]&&0===u[s+1]&&1===u[s+2]&&1===u[s+3]&&1===u[s+4]&&0===u[s+5]&&1===u[s+6]&&(e.isWhiteHorizontal(u,s-4,s)||e.isWhiteHorizontal(u,s+7,s+11))&&n++,i+6<o&&1===r[i][s]&&0===r[i+1][s]&&1===r[i+2][s]&&1===r[i+3][s]&&1===r[i+4][s]&&0===r[i+5][s]&&1===r[i+6][s]&&(e.isWhiteVertical(r,s,i-4,i)||e.isWhiteVertical(r,s,i+7,i+11))&&n++}return n*e.N3},e.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var r=t;r<n;r++)if(1===e[r])return!1;return!0},e.isWhiteVertical=function(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var a=n;a<r;a++)if(1===e[a][t])return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var n=0,r=t.getArray(),a=t.getWidth(),o=t.getHeight(),i=0;i<o;i++)for(var s=r[i],u=0;u<a;u++)1===s[u]&&n++;var l=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*n-l)/l)*e.N4},e.getDataMaskBit=function(e,t,n){var r,a;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:r=(1&(a=n*t))+a%3;break;case 6:r=(1&(a=n*t))+a%3&1;break;case 7:r=(a=n*t)%3+(n+t&1)&1;break;default:throw new hC("Invalid mask pattern: "+e)}return 0===r},e.applyMaskPenaltyRule1Internal=function(t,n){for(var r=0,a=n?t.getHeight():t.getWidth(),o=n?t.getWidth():t.getHeight(),i=t.getArray(),s=0;s<a;s++){for(var u=0,l=-1,c=0;c<o;c++){var d=n?i[s][c]:i[c][s];d===l?u++:(u>=5&&(r+=e.N1+(u-5)),u=1,l=d)}u>=5&&(r+=e.N1+(u-5))}return r},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),lT=uT,cT=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dT=function(){function e(e,t){this.width=e,this.height=t;for(var n=new Array(t),r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(e,t){return this.bytes[t][e]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},e.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},e.prototype.clear=function(e){var t,n;try{for(var r=cT(this.bytes),a=r.next();!a.done;a=r.next()){var o=a.value;RC.fill(o,e)}}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,a=this.height;r<a;++r)for(var o=this.bytes[r],i=n.bytes[r],s=0,u=this.width;s<u;++s)if(o[s]!==i[s])return!1;return!0},e.prototype.toString=function(){for(var e=new JC,t=0,n=this.height;t<n;++t){for(var r=this.bytes[t],a=0,o=this.width;a<o;++a)switch(r[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},e}(),hT=dT,fT=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var e=new JC;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setECLevel=function(e){this.ecLevel=e},e.prototype.setVersion=function(e){this.version=e},e.prototype.setMaskPattern=function(e){this.maskPattern=e},e.prototype.setMatrix=function(e){this.matrix=e},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),pT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pT(t,e),t.kind="WriterException",t}(iC),gT=mT,vT=function(){function e(){}return e.clearMatrix=function(e){e.clear(255)},e.buildMatrix=function(t,n,r,a,o){e.clearMatrix(o),e.embedBasicPatterns(r,o),e.embedTypeInfo(n,a,o),e.maybeEmbedVersionInfo(r,o),e.embedDataBits(t,a,o)},e.embedBasicPatterns=function(t,n){e.embedPositionDetectionPatternsAndSeparators(n),e.embedDarkDotAtLeftBottomCorner(n),e.maybeEmbedPositionAdjustmentPatterns(t,n),e.embedTimingPatterns(n)},e.embedTypeInfo=function(t,n,r){var a=new OC;e.makeTypeInfoBits(t,n,a);for(var o=0,i=a.getSize();o<i;++o){var s=a.get(a.getSize()-1-o),u=e.TYPE_INFO_COORDINATES[o],l=u[0],c=u[1];if(r.setBoolean(l,c,s),o<8){var d=r.getWidth()-o-1,h=8;r.setBoolean(d,h,s)}else{d=8,h=r.getHeight()-7+(o-8);r.setBoolean(d,h,s)}}},e.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var r=new OC;e.makeVersionInfoBits(t,r);for(var a=17,o=0;o<6;++o)for(var i=0;i<3;++i){var s=r.get(a);a--,n.setBoolean(o,n.getHeight()-11+i,s),n.setBoolean(n.getHeight()-11+i,o,s)}}},e.embedDataBits=function(t,n,r){for(var a=0,o=-1,i=r.getWidth()-1,s=r.getHeight()-1;i>0;){for(6===i&&(i-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var l=i-u;if(e.isEmpty(r.get(l,s))){var c=void 0;a<t.getSize()?(c=t.get(a),++a):c=!1,255!==n&&lT.getDataMaskBit(n,l,s)&&(c=!c),r.setBoolean(l,s,c)}}s+=o}s+=o=-o,i-=2}if(a!==t.getSize())throw new gT("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(e){return 32-TC.numberOfLeadingZeros(e)},e.calculateBCHCode=function(t,n){if(0===n)throw new hC("0 polynomial");var r=e.findMSBSet(n);for(t<<=r-1;e.findMSBSet(t)>=r;)t^=n<<e.findMSBSet(t)-r;return t},e.makeTypeInfoBits=function(t,n,r){if(!fT.isValidMaskPattern(n))throw new gT("Invalid mask pattern");var a=t.getBits()<<3|n;r.appendBits(a,5);var o=e.calculateBCHCode(a,e.TYPE_INFO_POLY);r.appendBits(o,10);var i=new OC;if(i.appendBits(e.TYPE_INFO_MASK_PATTERN,15),r.xor(i),15!==r.getSize())throw new gT("should not happen but we got: "+r.getSize())},e.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var r=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new gT("should not happen but we got: "+n.getSize())},e.isEmpty=function(e){return 255===e},e.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var r=(n+1)%2;e.isEmpty(t.get(n,6))&&t.setNumber(n,6,r),e.isEmpty(t.get(6,n))&&t.setNumber(6,n,r)}},e.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new gT;e.setNumber(8,e.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,n,r){for(var a=0;a<8;++a){if(!e.isEmpty(r.get(t+a,n)))throw new gT;r.setNumber(t+a,n,0)}},e.embedVerticalSeparationPattern=function(t,n,r){for(var a=0;a<7;++a){if(!e.isEmpty(r.get(t,n+a)))throw new gT;r.setNumber(t,n+a,0)}},e.embedPositionAdjustmentPattern=function(t,n,r){for(var a=0;a<5;++a)for(var o=e.POSITION_ADJUSTMENT_PATTERN[a],i=0;i<5;++i)r.setNumber(t+i,n+a,o[i])},e.embedPositionDetectionPattern=function(t,n,r){for(var a=0;a<7;++a)for(var o=e.POSITION_DETECTION_PATTERN[a],i=0;i<7;++i)r.setNumber(t+i,n+a,o[i])},e.embedPositionDetectionPatternsAndSeparators=function(t){var n=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-n,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-n,t);e.embedHorizontalSeparationPattern(0,7,t),e.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-8,t);e.embedVerticalSeparationPattern(7,0,t),e.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),e.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,i=a.length;o!==i;o++){var s=a[o];if(s>=0)for(var u=0;u!==i;u++){var l=a[u];l>=0&&e.isEmpty(n.get(l,s))&&e.embedPositionAdjustmentPattern(l-2,s-2,n)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),yT=vT,bT=function(){function e(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),wT=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_T=function(){function e(){}return e.calculateMaskPenalty=function(e){return lT.applyMaskPenaltyRule1(e)+lT.applyMaskPenaltyRule2(e)+lT.applyMaskPenaltyRule3(e)+lT.applyMaskPenaltyRule4(e)},e.encode=function(t,n,r){void 0===r&&(r=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(oT.CHARACTER_SET);o&&(a=r.get(oT.CHARACTER_SET).toString());var i=this.chooseMode(t,a),s=new OC;if(i===mR.BYTE&&(o||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var u=GC.getCharacterSetECIByName(a);void 0!==u&&this.appendECI(u,s)}this.appendModeInfo(i,s);var l,c=new OC;if(this.appendBytes(t,i,c,a),null!==r&&void 0!==r.get(oT.QR_VERSION)){var d=Number.parseInt(r.get(oT.QR_VERSION).toString(),10);l=rR.getVersionForNumber(d);var h=this.calculateBitsNeeded(i,s,c,l);if(!this.willFit(h,l,n))throw new gT("Data too big for requested version")}else l=this.recommendVersion(n,i,s,c);var f=new OC;f.appendBitArray(s);var p=i===mR.BYTE?c.getSizeInBytes():t.length;this.appendLengthInfo(p,l,i,f),f.appendBitArray(c);var m=l.getECBlocksForLevel(n),g=l.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(g,f);var v=this.interleaveWithECBytes(f,l.getTotalCodewords(),g,m.getNumBlocks()),y=new fT;y.setECLevel(n),y.setMode(i),y.setVersion(l);var b=l.getDimensionForVersion(),w=new hT(b,b),_=this.chooseMaskPattern(v,n,l,w);return y.setMaskPattern(_),yT.buildMatrix(v,n,l,_,w),y.setMatrix(w),y},e.recommendVersion=function(e,t,n,r){var a=this.calculateBitsNeeded(t,n,r,rR.getVersionForNumber(1)),o=this.chooseVersion(a,e),i=this.calculateBitsNeeded(t,n,r,o);return this.chooseVersion(i,e)},e.calculateBitsNeeded=function(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,n){if(void 0===n&&(n=null),GC.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return mR.KANJI;for(var r=!1,a=!1,o=0,i=t.length;o<i;++o){var s=t.charAt(o);if(e.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return mR.BYTE;a=!0}}return a?mR.ALPHANUMERIC:r?mR.NUMERIC:mR.BYTE},e.isOnlyDoubleByteKanji=function(e){var t;try{t=KC.encode(e,GC.SJIS)}catch(o){return!1}var n=t.length;if(n%2!==0)return!1;for(var r=0;r<n;r+=2){var a=255&t[r];if((a<129||a>159)&&(a<224||a>235))return!1}return!0},e.chooseMaskPattern=function(e,t,n,r){for(var a=Number.MAX_SAFE_INTEGER,o=-1,i=0;i<fT.NUM_MASK_PATTERNS;i++){yT.buildMatrix(e,t,n,i,r);var s=this.calculateMaskPenalty(r);s<a&&(a=s,o=i)}return o},e.chooseVersion=function(t,n){for(var r=1;r<=40;r++){var a=rR.getVersionForNumber(r);if(e.willFit(t,a,n))return a}throw new gT("Data too big")},e.willFit=function(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8},e.terminateBits=function(e,t){var n=8*e;if(t.getSize()>n)throw new gT("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var r=0;r<4&&t.getSize()<n;++r)t.appendBit(!1);var a=7&t.getSize();if(a>0)for(r=a;r<8;r++)t.appendBit(!1);var o=e-t.getSizeInBytes();for(r=0;r<o;++r)t.appendBits(0===(1&r)?236:17,8);if(t.getSize()!==n)throw new gT("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,r,a,o){if(r>=n)throw new gT("Block ID too large");var i=e%n,s=n-i,u=Math.floor(e/n),l=u+1,c=Math.floor(t/n),d=c+1,h=u-c,f=l-d;if(h!==f)throw new gT("EC bytes mismatch");if(n!==s+i)throw new gT("RS blocks mismatch");if(e!==(c+h)*s+(d+f)*i)throw new gT("Total bytes mismatch");r<s?(a[0]=c,o[0]=h):(a[0]=d,o[0]=f)},e.interleaveWithECBytes=function(t,n,r,a){var o,i,s,u;if(t.getSizeInBytes()!==r)throw new gT("Number of bits and data bytes does not match");for(var l=0,c=0,d=0,h=new Array,f=0;f<a;++f){var p=new Int32Array(1),m=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(n,r,a,f,p,m);var g=p[0],v=new Uint8Array(g);t.toBytes(8*l,v,0,g);var y=e.generateECBytes(v,m[0]);h.push(new bT(v,y)),c=Math.max(c,g),d=Math.max(d,y.length),l+=p[0]}if(r!==l)throw new gT("Data bytes does not match offset");var b=new OC;for(f=0;f<c;++f)try{for(var w=(o=void 0,wT(h)),_=w.next();!_.done;_=w.next()){f<(v=_.value.getDataBytes()).length&&b.appendBits(v[f],8)}}catch(C){o={error:C}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(o)throw o.error}}for(f=0;f<d;++f)try{for(var x=(s=void 0,wT(h)),k=x.next();!k.done;k=x.next()){f<(y=k.value.getErrorCorrectionBytes()).length&&b.appendBits(y[f],8)}}catch(E){s={error:E}}finally{try{k&&!k.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}if(n!==b.getSizeInBytes())throw new gT("Interleaving error: "+n+" and "+b.getSizeInBytes()+" differ.");return b},e.generateECBytes=function(e,t){for(var n=e.length,r=new Int32Array(n+t),a=0;a<n;a++)r[a]=255&e[a];new sT(PE.QR_CODE_FIELD_256).encode(r,t);var o=new Uint8Array(t);for(a=0;a<t;a++)o[a]=r[n+a];return o},e.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},e.appendLengthInfo=function(e,t,n,r){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new gT(e+" is bigger than "+((1<<a)-1));r.appendBits(e,a)},e.appendBytes=function(t,n,r,a){switch(n){case mR.NUMERIC:e.appendNumericBytes(t,r);break;case mR.ALPHANUMERIC:e.appendAlphanumericBytes(t,r);break;case mR.BYTE:e.append8BitBytes(t,r,a);break;case mR.KANJI:e.appendKanjiBytes(t,r);break;default:throw new gT("Invalid mode: "+n)}},e.getDigit=function(e){return e.charCodeAt(0)-48},e.isDigit=function(t){var n=e.getDigit(t);return n>=0&&n<=9},e.appendNumericBytes=function(t,n){for(var r=t.length,a=0;a<r;){var o=e.getDigit(t.charAt(a));if(a+2<r){var i=e.getDigit(t.charAt(a+1)),s=e.getDigit(t.charAt(a+2));n.appendBits(100*o+10*i+s,10),a+=3}else if(a+1<r){i=e.getDigit(t.charAt(a+1));n.appendBits(10*o+i,7),a+=2}else n.appendBits(o,4),a++}},e.appendAlphanumericBytes=function(t,n){for(var r=t.length,a=0;a<r;){var o=e.getAlphanumericCode(t.charCodeAt(a));if(-1===o)throw new gT;if(a+1<r){var i=e.getAlphanumericCode(t.charCodeAt(a+1));if(-1===i)throw new gT;n.appendBits(45*o+i,11),a+=2}else n.appendBits(o,6),a++}},e.append8BitBytes=function(e,t,n){var r;try{r=KC.encode(e,n)}catch(s){throw new gT(s)}for(var a=0,o=r.length;a!==o;a++){var i=r[a];t.appendBits(i,8)}},e.appendKanjiBytes=function(e,t){var n;try{n=KC.encode(e,GC.SJIS)}catch(u){throw new gT(u)}for(var r=n.length,a=0;a<r;a+=2){var o=(255&n[a])<<8&4294967295|255&n[a+1],i=-1;if(o>=33088&&o<=40956?i=o-33088:o>=57408&&o<=60351&&(i=o-49472),-1===i)throw new gT("Invalid byte sequence");var s=192*(i>>8)+(255&i);t.appendBits(s,13)}},e.appendECI=function(e,t){t.appendBits(mR.ECI.getBits(),4),t.appendBits(e.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=GC.UTF8.getName(),e}(),xT=_T,kT=(function(){function e(){}e.prototype.write=function(t,n,r,a){if(void 0===a&&(a=null),0===t.length)throw new hC("Found empty contents");if(n<0||r<0)throw new hC("Requested dimensions are too small: "+n+"x"+r);var o=qI.L,i=e.QUIET_ZONE_SIZE;null!==a&&(void 0!==a.get(oT.ERROR_CORRECTION)&&(o=qI.fromString(a.get(oT.ERROR_CORRECTION).toString())),void 0!==a.get(oT.MARGIN)&&(i=Number.parseInt(a.get(oT.MARGIN).toString(),10)));var s=xT.encode(t,o,a);return this.renderResult(s,n,r,i)},e.prototype.writeToDom=function(e,t,n,r,a){void 0===a&&(a=null),"string"===typeof e&&(e=document.querySelector(e));var o=this.write(t,n,r,a);e&&e.appendChild(o)},e.prototype.renderResult=function(e,t,n,r){var a=e.getMatrix();if(null===a)throw new GE;for(var o=a.getWidth(),i=a.getHeight(),s=o+2*r,u=i+2*r,l=Math.max(t,s),c=Math.max(n,u),d=Math.min(Math.floor(l/s),Math.floor(c/u)),h=Math.floor((l-o*d)/2),f=Math.floor((c-i*d)/2),p=this.createSVGElement(l,c),m=0,g=f;m<i;m++,g+=d)for(var v=0,y=h;v<o;v++,y+=d)if(1===a.get(v,m)){var b=this.createSvgRectElement(y,g,d,d);p.appendChild(b)}return p},e.prototype.createSVGElement=function(t,n){var r=document.createElementNS(e.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",n.toString()),r},e.prototype.createSvgRectElement=function(t,n,r,a){var o=document.createElementNS(e.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",a.toString()),o.setAttributeNS(null,"fill","#000000"),o},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg"}(),function(){function e(){}return e.prototype.encode=function(t,n,r,a,o){if(0===t.length)throw new hC("Found empty contents");if(n!==kE.QR_CODE)throw new hC("Can only encode QR_CODE, but got "+n);if(r<0||a<0)throw new hC("Requested dimensions are too small: "+r+"x"+a);var i=qI.L,s=e.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(oT.ERROR_CORRECTION)&&(i=qI.fromString(o.get(oT.ERROR_CORRECTION).toString())),void 0!==o.get(oT.MARGIN)&&(s=Number.parseInt(o.get(oT.MARGIN).toString(),10)));var u=xT.encode(t,i,o);return e.renderResult(u,r,a,s)},e.renderResult=function(e,t,n,r){var a=e.getMatrix();if(null===a)throw new GE;for(var o=a.getWidth(),i=a.getHeight(),s=o+2*r,u=i+2*r,l=Math.max(t,s),c=Math.max(n,u),d=Math.min(Math.floor(l/s),Math.floor(c/u)),h=Math.floor((l-o*d)/2),f=Math.floor((c-i*d)/2),p=new $C(l,c),m=0,g=f;m<i;m++,g+=d)for(var v=0,y=h;v<o;v++,y+=d)1===a.get(v,m)&&p.setRegion(y,g,d,d);return p},e.QUIET_ZONE_SIZE=4,e}()),CT=(function(){function e(){}e.prototype.encode=function(e,t,n,r,a){if(t!==kE.QR_CODE)throw new hC("No encoder available for format "+t);return(new kT).encode(e,t,n,r,a)}}(),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ET=(function(e){function t(t,n,r,a,o,i,s,u){var l=e.call(this,i,s)||this;if(l.yuvData=t,l.dataWidth=n,l.dataHeight=r,l.left=a,l.top=o,a+i>n||o+s>r)throw new hC("Crop rectangle does not fit within image data.");return u&&l.reverseHorizontal(i,s),l}CT(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new hC("Requested row is outside the image: "+e);var n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));var r=(e+this.top)*this.dataWidth+this.left;return wC.arraycopy(this.yuvData,r,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;var n=e*t,r=new Uint8ClampedArray(n),a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return wC.arraycopy(this.yuvData,a,r,0,n),r;for(var o=0;o<t;o++){var i=o*e;wC.arraycopy(this.yuvData,a,r,i,e),a+=this.dataWidth}return r},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,r,a){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,a,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,i=0;i<n;i++){for(var s=i*e,u=0;u<e;u++){var l=255&a[o+u*t.THUMBNAIL_SCALE_FACTOR];r[s+u]=4278190080|65793*l}o+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return r},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,t){for(var n=this.yuvData,r=0,a=this.top*this.dataWidth+this.left;r<t;r++,a+=this.dataWidth)for(var o=a+e/2,i=a,s=a+e-1;i<o;i++,s--){var u=n[i];n[i]=n[s],n[s]=u}},t.prototype.invert=function(){return new fE(this)},t.THUMBNAIL_SCALE_FACTOR=2}(cE),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ST=(function(e){function t(t,n,r,a,o,i,s){var u=e.call(this,n,r)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=i,u.top=s,4===t.BYTES_PER_ELEMENT){for(var l=n*r,c=new Uint8ClampedArray(l),d=0;d<l;d++){var h=t[d],f=h>>16&255,p=h>>7&510,m=255&h;c[d]=(f+p+m)/4&255}u.luminances=c}else u.luminances=t;if(void 0===a&&(u.dataWidth=n),void 0===o&&(u.dataHeight=r),void 0===i&&(u.left=0),void 0===s&&(u.top=0),u.left+n>u.dataWidth||u.top+r>u.dataHeight)throw new hC("Crop rectangle does not fit within image data.");return u}ET(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new hC("Requested row is outside the image: "+e);var n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));var r=(e+this.top)*this.dataWidth+this.left;return wC.arraycopy(this.luminances,r,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;var n=e*t,r=new Uint8ClampedArray(n),a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return wC.arraycopy(this.luminances,a,r,0,n),r;for(var o=0;o<t;o++){var i=o*e;wC.arraycopy(this.luminances,a,r,i,e),a+=this.dataWidth}return r},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,r,a){return new t(this.luminances,r,a,this.dataWidth,this.dataHeight,this.left+e,this.top+n)},t.prototype.invert=function(){return new fE(this)}}(cE),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),AT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ST(t,e),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(GC),IT=AT,RT=function(){function e(){}return e.ISO_8859_1=GC.ISO8859_1,e}(),zT=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(e){this.compact=e},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(e){this.size=e},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(e){this.layers=e},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(e){this.codeWords=e},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(e){this.matrix=e},e}(),TT=function(){function e(){}return e.singletonList=function(e){return[e]},e.min=function(e,t){return e.sort(t)[0]},e}(),NT=TT,OT=function(){function e(e){this.previous=e}return e.prototype.getPrevious=function(){return this.previous},e}(),DT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MT=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.value=n,a.bitCount=r,a}return DT(t,e),t.prototype.appendTo=function(e,t){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,n){return new t(this,e,n)},t.prototype.addBinaryShift=function(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,n)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+TC.toBinaryString(e|1<<this.bitCount).substring(1)+">"},t}(OT),PT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FT=function(e){function t(t,n,r){var a=e.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=r,a}return PT(t,e),t.prototype.appendTo=function(e,t){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)},t.prototype.addBinaryShift=function(e,n){return new t(this,e,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(MT),jT=FT;function BT(e,t,n){return new MT(e,t,n)}var LT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],WT=0,GT=1,HT=2,VT=3,UT=4,qT=new MT(null,0,0),KT=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],XT=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var ZT=function(e){var t,n;try{for(var r=XT(e),a=r.next();!a.done;a=r.next()){var o=a.value;RC.fill(o,-1)}}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e[WT][UT]=0,e[GT][UT]=0,e[GT][WT]=28,e[VT][UT]=0,e[HT][UT]=0,e[HT][WT]=15,e}(RC.createInt32Array(6,6)),YT=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},JT=function(){function e(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,n){var r=this.bitCount,a=this.token;if(t!==this.mode){var o=KT[this.mode][t];a=BT(a,65535&o,o>>16),r+=o>>16}var i=t===HT?4:5;return new e(a=BT(a,n,i),t,0,r+i)},e.prototype.shiftAndAppend=function(t,n){var r=this.token,a=this.mode===HT?4:5;return r=BT(r,ZT[this.mode][t],a),new e(r=BT(r,n,5),this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var n=this.token,r=this.mode,a=this.bitCount;if(this.mode===UT||this.mode===HT){var o=KT[r][WT];n=BT(n,65535&o,o>>16),a+=o>>16,r=WT}var i=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,s=new e(n,r,this.binaryShiftByteCount+1,a+i);return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(t+1)),s},e.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var n=this.token;return new e(n=function(e,t,n){return new jT(e,t,n)}(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(KT[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},e.prototype.toBitArray=function(e){for(var t,n,r=[],a=this.endBinaryShift(e.length).token;null!==a;a=a.getPrevious())r.unshift(a);var o=new OC;try{for(var i=YT(r),s=i.next();!s.done;s=i.next()){s.value.appendTo(o,e)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},e.prototype.toString=function(){return ZC.format("%s bits=%d bytes=%d",LT[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(qT,WT,0,0),e}(),QT=JT;var $T=function(e){var t=ZC.getCharCode(" "),n=ZC.getCharCode("."),r=ZC.getCharCode(",");e[WT][t]=1;for(var a=ZC.getCharCode("Z"),o=ZC.getCharCode("A"),i=o;i<=a;i++)e[WT][i]=i-o+2;e[GT][t]=1;var s=ZC.getCharCode("z"),u=ZC.getCharCode("a");for(i=u;i<=s;i++)e[GT][i]=i-u+2;e[HT][t]=1;var l=ZC.getCharCode("9"),c=ZC.getCharCode("0");for(i=c;i<=l;i++)e[HT][i]=i-c+2;e[HT][r]=12,e[HT][n]=13;for(var d=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],h=0;h<d.length;h++)e[VT][ZC.getCharCode(d[h])]=h;var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(h=0;h<f.length;h++)ZC.getCharCode(f[h])>0&&(e[UT][ZC.getCharCode(f[h])]=h);return e}(RC.createInt32Array(5,256)),eN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tN=function(){function e(e){this.text=e}return e.prototype.encode=function(){for(var t=ZC.getCharCode(" "),n=ZC.getCharCode("\n"),r=NT.singletonList(QT.INITIAL_STATE),a=0;a<this.text.length;a++){var o=void 0,i=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ZC.getCharCode("\r"):o=i===n?2:0;break;case ZC.getCharCode("."):o=i===t?3:0;break;case ZC.getCharCode(","):o=i===t?4:0;break;case ZC.getCharCode(":"):o=i===t?5:0;break;default:o=0}o>0?(r=e.updateStateListForPair(r,a,o),a++):r=this.updateStateListForChar(r,a)}var s=NT.min(r,(function(e,t){return e.getBitCount()-t.getBitCount()}));return s.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,n){var r,a,o=[];try{for(var i=eN(t),s=i.next();!s.done;s=i.next()){var u=s.value;this.updateStateForChar(u,n,o)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return e.simplifyStates(o)},e.prototype.updateStateForChar=function(e,t,n){for(var r=255&this.text[t],a=$T[e.getMode()][r]>0,o=null,i=0;i<=UT;i++){var s=$T[i][r];if(s>0){if(null==o&&(o=e.endBinaryShift(t)),!a||i===e.getMode()||i===HT){var u=o.latchAndAppend(i,s);n.push(u)}if(!a&&ZT[e.getMode()][i]>=0){var l=o.shiftAndAppend(i,s);n.push(l)}}}if(e.getBinaryShiftByteCount()>0||0===$T[e.getMode()][r]){var c=e.addBinaryShiftChar(t);n.push(c)}},e.updateStateListForPair=function(e,t,n){var r,a,o=[];try{for(var i=eN(e),s=i.next();!s.done;s=i.next()){var u=s.value;this.updateStateForPair(u,t,n,o)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return this.simplifyStates(o)},e.updateStateForPair=function(e,t,n,r){var a=e.endBinaryShift(t);if(r.push(a.latchAndAppend(UT,n)),e.getMode()!==UT&&r.push(a.shiftAndAppend(UT,n)),3===n||4===n){var o=a.latchAndAppend(HT,16-n).latchAndAppend(HT,1);r.push(o)}if(e.getBinaryShiftByteCount()>0){var i=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(i)}},e.simplifyStates=function(e){var t,n,r,a,o=[];try{for(var i=eN(e),s=i.next();!s.done;s=i.next()){var u=s.value,l=!0,c=function(e){if(e.isBetterThanOrEqualTo(u))return l=!1,"break";u.isBetterThanOrEqualTo(e)&&(o=o.filter((function(t){return t!==e})))};try{for(var d=(r=void 0,eN(o)),h=d.next();!h.done;h=d.next()){if("break"===c(h.value))break}}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}l&&o.push(u)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},e}(),nN=tN,rN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aN=function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,n,r){var a,o,i,s,u,l=new nN(t).encode(),c=TC.truncDivision(l.getSize()*n,100)+11,d=l.getSize()+c;if(r!==e.DEFAULT_AZTEC_LAYERS){if(a=r<0,(o=Math.abs(r))>(a?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new hC(ZC.format("Illegal value %s for layers",r));var h=(i=e.totalBitsInLayer(o,a))-i%(s=e.WORD_SIZE[o]);if((u=e.stuffBits(l,s)).getSize()+c>h)throw new hC("Data to large for user specified layer");if(a&&u.getSize()>64*s)throw new hC("Data to large for user specified layer")}else{s=0,u=null;for(var f=0;;f++){if(f>e.MAX_NB_BITS)throw new hC("Data too large for an Aztec code");if(o=(a=f<=3)?f+1:f,!(d>(i=e.totalBitsInLayer(o,a)))){null!=u&&s===e.WORD_SIZE[o]||(s=e.WORD_SIZE[o],u=e.stuffBits(l,s));h=i-i%s;if(!(a&&u.getSize()>64*s)&&u.getSize()+c<=h)break}}}var p,m=e.generateCheckWords(u,i,s),g=u.getSize()/s,v=e.generateModeMessage(a,o,g),y=(a?11:14)+4*o,b=new Int32Array(y);if(a){p=y;for(f=0;f<b.length;f++)b[f]=f}else{p=y+1+2*TC.truncDivision(TC.truncDivision(y,2)-1,15);var w=TC.truncDivision(y,2),_=TC.truncDivision(p,2);for(f=0;f<w;f++){var x=f+TC.truncDivision(f,15);b[w-f-1]=_-x-1,b[w+f]=_+x+1}}for(var k=new $C(p),C=(f=0,0);f<o;f++){for(var E=4*(o-f)+(a?9:12),S=0;S<E;S++)for(var A=2*S,I=0;I<2;I++)m.get(C+A+I)&&k.set(b[2*f+I],b[2*f+S]),m.get(C+2*E+A+I)&&k.set(b[2*f+S],b[y-1-2*f-I]),m.get(C+4*E+A+I)&&k.set(b[y-1-2*f-I],b[y-1-2*f-S]),m.get(C+6*E+A+I)&&k.set(b[y-1-2*f-S],b[2*f+I]);C+=8*E}if(e.drawModeMessage(k,a,p,v),a)e.drawBullsEye(k,TC.truncDivision(p,2),5);else{e.drawBullsEye(k,TC.truncDivision(p,2),7);for(f=0,S=0;f<TC.truncDivision(y,2)-1;f+=15,S+=16)for(I=1&TC.truncDivision(p,2);I<p;I+=2)k.set(TC.truncDivision(p,2)-S,I),k.set(TC.truncDivision(p,2)+S,I),k.set(I,TC.truncDivision(p,2)-S),k.set(I,TC.truncDivision(p,2)+S)}var R=new zT;return R.setCompact(a),R.setSize(p),R.setLayers(o),R.setCodeWords(g),R.setMatrix(k),R},e.drawBullsEye=function(e,t,n){for(var r=0;r<n;r+=2)for(var a=t-r;a<=t+r;a++)e.set(a,t-r),e.set(a,t+r),e.set(t-r,a),e.set(t+r,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},e.generateModeMessage=function(t,n,r){var a=new OC;return t?(a.appendBits(n-1,2),a.appendBits(r-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(n-1,5),a.appendBits(r-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(e,t,n,r){var a=TC.truncDivision(n,2);if(t)for(var o=0;o<7;o++){var i=a-3+o;r.get(o)&&e.set(i,a-5),r.get(o+7)&&e.set(a+5,i),r.get(20-o)&&e.set(i,a+5),r.get(27-o)&&e.set(a-5,i)}else for(o=0;o<10;o++){i=a-5+o+TC.truncDivision(o,5);r.get(o)&&e.set(i,a-7),r.get(o+10)&&e.set(a+7,i),r.get(29-o)&&e.set(i,a+7),r.get(39-o)&&e.set(a-7,i)}},e.generateCheckWords=function(t,n,r){var a,o,i=t.getSize()/r,s=new sT(e.getGF(r)),u=TC.truncDivision(n,r),l=e.bitsToWords(t,r,u);s.encode(l,u-i);var c=n%r,d=new OC;d.appendBits(0,c);try{for(var h=rN(Array.from(l)),f=h.next();!f.done;f=h.next()){var p=f.value;d.appendBits(p,r)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}return d},e.bitsToWords=function(e,t,n){var r,a,o=new Int32Array(n);for(r=0,a=e.getSize()/t;r<a;r++){for(var i=0,s=0;s<t;s++)i|=e.get(r*t+s)?1<<t-s-1:0;o[r]=i}return o},e.getGF=function(e){switch(e){case 4:return PE.AZTEC_PARAM;case 6:return PE.AZTEC_DATA_6;case 8:return PE.AZTEC_DATA_8;case 10:return PE.AZTEC_DATA_10;case 12:return PE.AZTEC_DATA_12;default:throw new hC("Unsupported word size "+e)}},e.stuffBits=function(e,t){for(var n=new OC,r=e.getSize(),a=(1<<t)-2,o=0;o<r;o+=t){for(var i=0,s=0;s<t;s++)(o+s>=r||e.get(o+s))&&(i|=1<<t-1-s);(i&a)===a?(n.appendBits(i&a,t),o--):0===(i&a)?(n.appendBits(1|i,t),o--):n.appendBits(i,t)}return n},e.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e}(),oN=aN,iN=(function(){function e(){}e.prototype.encode=function(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)},e.prototype.encodeWithHints=function(t,n,r,a,o){var i=RT.ISO_8859_1,s=oN.DEFAULT_EC_PERCENT,u=oN.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(oT.CHARACTER_SET)&&(i=IT.forName(o.get(oT.CHARACTER_SET).toString())),o.has(oT.ERROR_CORRECTION)&&(s=TC.parseInt(o.get(oT.ERROR_CORRECTION).toString())),o.has(oT.AZTEC_LAYERS)&&(u=TC.parseInt(o.get(oT.AZTEC_LAYERS).toString()))),e.encodeLayers(t,n,r,a,i,s,u)},e.encodeLayers=function(t,n,r,a,o,i,s){if(n!==kE.AZTEC)throw new hC("Can only encode AZTEC, but got "+n);var u=oN.encode(ZC.getBytes(t,o),i,s);return e.renderResult(u,r,a)},e.renderResult=function(e,t,n){var r=e.getMatrix();if(null==r)throw new GE;for(var a=r.getWidth(),o=r.getHeight(),i=Math.max(t,a),s=Math.max(n,o),u=Math.min(i/a,s/o),l=(i-a*u)/2,c=(s-o*u)/2,d=new $C(i,s),h=0,f=c;h<o;h++,f+=u)for(var p=0,m=l;p<a;p++,m+=u)r.get(p,h)&&d.setRegion(m,f,u,u);return d}}(),{audio:!1,video:{facingMode:"environment"}}),sN=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(g){o(g)}}function s(e){try{u(r.throw(e))}catch(g){o(g)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},uN=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(g){o=[6,g],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lN=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(g){o(g)}}function s(e){try{u(r.throw(e))}catch(g){o(g)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},cN=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(g){o=[6,g],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},dN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function hN(e){return void 0!==e.deviceId}var fN=function(t){void 0===t&&(t={});var n=t.paused,r=void 0!==n&&n,a=t.hints,o=t.timeBetweenDecodingAttempts,i=t.onResult,s=void 0===i?function(){}:i,u=t.onError,l=void 0===u?function(){}:u,c=hN(t)?t.deviceId:void 0,d=(0,e.useState)(hN(t)?void 0:t.constraints),h=d[0],f=d[1],p=(0,e.useRef)(s),m=(0,e.useRef)(l),g=(0,e.useRef)(null),v=function(t){var n=void 0===t?{}:t,r=n.timeBetweenDecodingAttempts,a=void 0===r?300:r,o=n.hints;return(0,e.useMemo)((function(){var e=new nT(o);return e.timeBetweenDecodingAttempts=a,e}),[o,a])}({hints:a,timeBetweenDecodingAttempts:o}),y=function(t){var n=t.resetStream,r=(0,e.useState)(!1),a=r[0],o=r[1],i=(0,e.useState)(null),s=i[0],u=i[1],l=(0,e.useRef)(null),c=(0,e.useRef)(n),d=(0,e.useCallback)((function(e){l.current=e,u(void 0!==e.getCapabilities().torch)}),[]),h=(0,e.useCallback)((function(){return sN(void 0,void 0,void 0,(function(){return uN(this,(function(e){switch(e.label){case 0:return l.current&&s?[4,l.current.applyConstraints({advanced:[{torch:!0}]})]:[2];case 1:return e.sent(),o(!0),[2]}}))}))}),[s]),f=(0,e.useCallback)((function(){return sN(void 0,void 0,void 0,(function(){return uN(this,(function(e){switch(e.label){case 0:return l.current&&s?(l.current=null,u(null),o(!1),[4,c.current()]):[2];case 1:return e.sent(),[2]}}))}))}),[s]);return(0,e.useEffect)((function(){c.current=n}),[n]),{init:d,isOn:a,isAvailable:s,on:h,off:f}}({resetStream:function(){return lN(void 0,void 0,void 0,(function(){return cN(this,(function(e){switch(e.label){case 0:return k(),[4,x()];case 1:return e.sent(),[2]}}))}))}}),b=y.init,w=dN(y,["init"]),_=(0,e.useCallback)((function(e,t){e&&p.current(e),t&&m.current(t)}),[]),x=(0,e.useCallback)((function(){return lN(void 0,void 0,void 0,(function(){var e,t;return cN(this,(function(n){switch(n.label){case 0:return g.current?r?[2]:c?[4,v.decodeFromVideoDevice(c,g.current,_)]:[3,2]:[2];case 1:return n.sent(),[3,4];case 2:return[4,v.decodeFromConstraints(null!==h&&void 0!==h?h:iN,g.current,_)];case 3:n.sent(),n.label=4;case 4:return e=g.current.srcObject,(t=e.getVideoTracks()[0])&&b(t),[2]}}))}))}),[v,c,h,r,_,b]),k=(0,e.useCallback)((function(){v.reset()}),[v]);return(0,e.useEffect)((function(){p.current=s}),[s]),(0,e.useEffect)((function(){m.current=l}),[l]),(0,e.useEffect)((function(){var e=function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(h,t.constraints);e||f(t.constraints)}),[h,t]),(0,e.useEffect)((function(){return x(),function(){k()}}),[x,k]),{ref:g,torch:w}},pN=n(3970);var mN=function(t){var n=(0,e.useContext)(Nv),r=(new Jm).getDialogs(n.language);return(0,Dv.jsxs)(zx,{open:t.isOpen,children:[(0,Dv.jsxs)(Fx,{disableTypography:!0,className:"flex align-items-primary",children:[(0,Dv.jsx)(pN.Z,{className:"color-secondary"}),(0,Dv.jsx)("h3",{children:r.wait})]}),(0,Dv.jsx)(Wx,{children:(0,Dv.jsx)(Mx,{children:r.wait_label})})]})};var gN=function(e){return(0,Dv.jsxs)("div",{className:"flex content-container background-secondary padding-secondary border-radius-primary box-shadow",children:[(0,Dv.jsx)("h2",{className:"text-medium",children:e.title}),(0,Dv.jsx)("p",{className:"margin-top-secondary margin-bottom-primary",children:e.label}),(0,Dv.jsx)("ol",{children:e.steps.map((function(e){return(0,Dv.jsx)("li",{className:"margin-bottom-primary",children:e},e)}))}),e.children]})};var vN=function(){var t=(0,e.useContext)(Nv),n=new Jm,r=n.getQRScanner(t.language),a=n.getTourIds(t.language),o=n.getDialogs(t.language),i=n.getHeader(t.language),s=(0,e.useState)(!1),u=(0,Qm.Z)(s,2),l=u[0],c=u[1],d=(0,e.useState)(!1),h=(0,Qm.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(!1),g=(0,Qm.Z)(m,2),v=g[0],y=g[1],b=ov(),w=fN({onResult:function(e){_(e.getText())}}).ref,_=function(e){var r=e.split(" "),a=r[0].toLowerCase(),o=parseInt(r[1]);x(a)&&o>=1&&o<=n.getRooms(t.language,a).length?k(a,o):(p(!1),c(!0))},x=function(e){for(var t=0;t<a.length;t++)if(a[t]===e)return!0;return!1},k=function(e,n){t.setTour(e),t.setRoom(n),b("/room")};return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsxs)("div",{className:v?"display-none":"",children:[(0,Dv.jsx)(vk,{header:i.scan}),(0,Dv.jsx)(gN,{title:r.title,label:r.label,steps:[r.step_1,r.step_2,r.step_3],children:(0,Dv.jsx)("button",{onClick:function(){return y(!0)},className:"margin-primary display-block text-medium button align-self-primary background-primary font-weight-primary color-primary",children:r.button})})]}),(0,Dv.jsxs)("div",{className:v?"":"display-none",children:[(0,Dv.jsx)(mN,{isOpen:f,isClosed:function(){p(!1)}}),(0,Dv.jsx)(hk,{isOpen:l,closeDialog:function(){c(!1)},title:o.error_label,content:o.invalid_scan_label}),(0,Dv.jsx)("video",{id:"video",ref:w,className:"full-screen"}),(0,Dv.jsx)("div",{className:"video-label margin-top text-medium font-weight-primary center-text",children:(0,Dv.jsx)("span",{children:r.qr_scanner})}),(0,Dv.jsxs)("button",{onClick:function(){return y(!1)},className:"video-button flex-secondary align-items-primary margin-bottom-primary transparent-background border-none",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",children:(0,Dv.jsx)(zk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary"})}),(0,Dv.jsx)("span",{className:"text-medium font-weight-primary",children:r.button_back})]})]})]})};var yN=function(){var t=(0,e.useContext)(Nv),r=new Jm,a=r.getFaceRecognition(t.language),o=r.getFaceRecognitionPeople(t.language),i=r.getDialogs(t.language),s=(0,e.useState)(!1),u=(0,Qm.Z)(s,2),l=u[0],c=u[1],d=(0,e.useState)(!1),h=(0,Qm.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(!1),g=(0,Qm.Z)(m,2),v=g[0],y=g[1],b=(0,e.useState)(!1),w=(0,Qm.Z)(b,2),_=w[0],x=w[1],k=(0,e.useState)(!1),C=(0,Qm.Z)(k,2),E=C[0],S=C[1],A=function(){var e=gk(pk().mark((function e(){var t,n;return pk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(!0);case 2:null!=(t=document.getElementById("native_camera").files[0])?(n=window.URL.createObjectURL(t),document.getElementById("person_picture").src=n,R(),document.getElementById("native-camera").files[0]=null):I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){p(!1)},R=function(){var e=gk(pk().mark((function e(){var t,r,a,i,s;return pk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.isModelsLoaded){e.next=26;break}return t=document.getElementById("person_picture"),e.next=5,(u=t,l=void 0,void 0===l&&(l=new Hp),new Um(u,l)).withFaceLandmarks().withFaceDescriptors();case 5:if(0!==(r=e.sent).length){e.next=10;break}return I(),c(!0),e.abrupt("return");case 10:return e.next=12,Promise.all(o.map(function(){var e=gk(pk().mark((function e(t){var r,a,o,i;return pk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(9977)("./img".concat(t.img)),(a=document.createElement("img")).src=r,e.next=5,Km(a).withFaceLandmarks().withFaceDescriptor();case 5:return o=e.sent,i=[o.descriptor],e.abrupt("return",new lf(t.name,i));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){I(),c(!0)}));case 12:if(a=e.sent,.6,i=new Xm(a,.6),s=r.map((function(e){return i.findBestMatch(e.descriptor)})),"unknown"!==s[0].label){e.next=20;break}return I(),c(!0),e.abrupt("return");case 20:S(s[0].label),x(z(s[0].label)),I(),y(!0),e.next=28;break;case 26:I(),window.alert("Nothing loaded");case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),I();case 33:case"end":return e.stop()}var u,l}),e,null,[[0,30]])})));return function(){return e.apply(this,arguments)}}(),z=function(e){for(var t=0;t<o.length;t++)if(o[t].name===e)return o[t].img};return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:a.face_recognition}),(0,Dv.jsx)(mN,{isOpen:f,isClosed:I}),(0,Dv.jsx)(hk,{isOpen:l,closeDialog:function(){c(!1)},title:i.no_face_detected,content:i.try_again_label}),v?(0,Dv.jsxs)("div",{className:"flex content-container background-secondary center-text padding-secondary box-shadow border-radius-primary",children:[(0,Dv.jsxs)("div",{className:"font-size-third medieval-first-letter",children:[(0,Dv.jsx)("div",{className:"flex-secondary align-items-primary",children:(0,Dv.jsx)("h2",{className:"margin-right-primary margin-left-primary",children:E})}),(0,Dv.jsx)("div",{className:"margin-top-secondary",children:(0,Dv.jsx)("img",{src:n(9977)("./img".concat(_)),alt:"castle",className:"page-image"})})]}),(0,Dv.jsxs)("div",{className:"flex-secondary padding-bottom-primary padding-top-primary align-items-primary",children:[(0,Dv.jsx)("div",{className:"flex round-item background-fourth margin-right-secondary",onClick:function(){return y(!1)},children:(0,Dv.jsx)(zk.Z,{className:"round-item-content color-primary margin-top-third cursor-primary"})}),(0,Dv.jsx)("p",{className:"text-medium font-weight-primary",children:a.button_back})]})]}):(0,Dv.jsxs)(gN,{title:a.title,label:a.label,steps:[a.step_1,a.step_2,a.step_3,a.step_4],children:[(0,Dv.jsxs)("label",{id:"label",className:"cursor-primary text-medium button align-self-primary background-primary font-weight-primary color-primary",children:[a.button,(0,Dv.jsx)("input",{onChange:function(){return A()},id:"native_camera",type:"file",accept:"image/*",capture:"environment",hidden:!0})]}),(0,Dv.jsx)("img",{id:"person_picture",src:".",className:"display-none",alt:"person_picture"})]})]})};var bN=function(t){var n=(0,e.useContext)(Nv),r=new Jm,a=r.getHelp(n.language),o=r.getHeader(n.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)(vk,{header:o.help}),(0,Dv.jsxs)("div",{className:"flex content-container background-secondary padding-secondary border-radius-primary box-shadow",children:[(0,Dv.jsx)("h3",{children:a.help_tour}),(0,Dv.jsx)("p",{className:"margin-bottom-primary",children:a.help_tour_content}),(0,Dv.jsx)("h3",{children:a.help_room}),(0,Dv.jsx)("p",{className:"margin-bottom-primary",children:a.help_room_content}),(0,Dv.jsx)("h3",{children:a.help_more_functions}),(0,Dv.jsx)("p",{children:a.help_more_functions_content})]})]})},wN=function(e){l(n,e);var t=p(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).setLanguage=function(e){r.setState({language:e}),localStorage.setItem("language",JSON.stringify(e))},r.setHouse=function(e){r.setState({house:e}),localStorage.setItem("house",JSON.stringify(e))},r.setTour=function(e){r.setState({tour:e}),localStorage.setItem("tour",JSON.stringify(e)),r.setState({room:0}),localStorage.setItem("room",JSON.stringify(0))},r.setRoom=function(e){r.setState({room:e}),localStorage.setItem("room",JSON.stringify(e))},r.setOwner=function(e){r.setState({owner:e}),localStorage.setItem("owner",JSON.stringify(e))},r.setGalleryTour=function(e){r.setState({gallery_tour:e}),localStorage.setItem("gallery_tour",JSON.stringify(e))},r.setImageRecognitionName=function(e){r.setState({image_name:e}),localStorage.setItem("image_name",JSON.stringify(e))},r.setImageRecognitionImg=function(e){r.setState({image_img:e}),localStorage.setItem("image_img",JSON.stringify(e))},r.setFontSize=function(e){var t=document.getElementById("body");"d"===e?(t.classList.value="",t.classList.add("font-size-default"),localStorage.setItem("fontSize",JSON.stringify(e))):"m"===e?(t.classList.value="",t.classList.add("font-size-medium"),localStorage.setItem("fontSize",JSON.stringify(e))):"l"===e?(t.classList.value="",t.classList.add("font-size-large"),localStorage.setItem("fontSize",JSON.stringify(e))):console.log("Wrong value of font size.")},r.state={language:null!==localStorage.getItem("language")?JSON.parse(localStorage.getItem("language")):"en",setLanguage:r.setLanguage,tour:null!==localStorage.getItem("tour")?JSON.parse(localStorage.getItem("tour")):null,setTour:r.setTour,room:null!==localStorage.getItem("room")?JSON.parse(localStorage.getItem("room")):0,setRoom:r.setRoom,house:null!==localStorage.getItem("house")?JSON.parse(localStorage.getItem("house")):null,setHouse:r.setHouse,owner:null!==localStorage.getItem("owner")?JSON.parse(localStorage.getItem("owner")):0,setOwner:r.setOwner,fontSize:null!==localStorage.getItem("fontSize")?JSON.parse(localStorage.getItem("fontSize")):"d",setFontSize:r.setFontSize,gallery_tour:null!==localStorage.getItem("gallery_tour")?JSON.parse(localStorage.getItem("gallery_tour")):"",setGalleryTour:r.setGalleryTour,image_name:null!==localStorage.getItem("image_name")?JSON.parse(localStorage.getItem("image_name")):"",setImageRecognitionName:r.setImageRecognitionName,image_img:null!==localStorage.getItem("image_img")?JSON.parse(localStorage.getItem("image_img")):"",setImageRecognitionImg:r.setImageRecognitionImg},r}return s(n,[{key:"componentDidMount",value:function(){var e=null!==localStorage.getItem("fontSize")?JSON.parse(localStorage.getItem("fontSize")):"d";this.setFontSize(e);var t="/models";Promise.all([Sm.ssdMobilenetv1.loadFromUri(t),Sm.faceLandmark68Net.loadFromUri(t),Sm.faceRecognitionNet.loadFromUri(t)]).then(console.log("loaded"),window.isModelsLoaded=!0)}},{key:"render",value:function(){var e=(new Jm).getRotateLabel(this.state.language);return(0,Dv.jsxs)(Dv.Fragment,{children:[(0,Dv.jsx)("span",{id:"rotate_message",className:"font-weight-primary text-medium",children:e.rotate}),(0,Dv.jsx)("div",{id:"content",children:(0,Dv.jsx)(Ev,{onUpdate:function(){return console.log("updated")},children:(0,Dv.jsxs)(Nv.Provider,{value:this.state,children:[(0,Dv.jsx)(eC,{}),(0,Dv.jsxs)(yv,{children:[(0,Dv.jsx)(gv,{path:"/",element:(0,Dv.jsx)(fk,{})}),(0,Dv.jsx)(gv,{path:"/tours",element:(0,Dv.jsx)(Ck,{})}),(0,Dv.jsx)(gv,{path:"/contact",element:(0,Dv.jsx)(Ak,{})}),(0,Dv.jsx)(gv,{path:"/rooms",element:(0,Dv.jsx)(Ek,{})}),(0,Dv.jsx)(gv,{path:"/room",element:(0,Dv.jsx)(Dk,{})}),(0,Dv.jsx)(gv,{path:"/history",element:(0,Dv.jsx)(Mk,{})}),(0,Dv.jsx)(gv,{path:"/history_overview",element:(0,Dv.jsx)(Pk,{})}),(0,Dv.jsx)(gv,{path:"/houses",element:(0,Dv.jsx)(Fk,{})}),(0,Dv.jsx)(gv,{path:"/owners",element:(0,Dv.jsx)(jk,{})}),(0,Dv.jsx)(gv,{path:"/owner",element:(0,Dv.jsx)(Bk,{})}),(0,Dv.jsx)(gv,{path:"/rooms_overview",element:(0,Dv.jsx)(Ik,{})}),(0,Dv.jsx)(gv,{path:"/settings",element:(0,Dv.jsx)(Lk,{})}),(0,Dv.jsx)(gv,{path:"/other",element:(0,Dv.jsx)(Xk,{})}),(0,Dv.jsx)(gv,{path:"/about_app",element:(0,Dv.jsx)(Yk,{})}),(0,Dv.jsx)(gv,{path:"/where_to_next",element:(0,Dv.jsx)(Jk,{})}),(0,Dv.jsx)(gv,{path:"/gallery",element:(0,Dv.jsx)(Qk,{})}),(0,Dv.jsx)(gv,{path:"/gallery_rooms",element:(0,Dv.jsx)($k,{})}),(0,Dv.jsx)(gv,{path:"/scan_room",element:(0,Dv.jsx)(vN,{})}),(0,Dv.jsx)(gv,{path:"/image_recognition",element:(0,Dv.jsx)(yN,{})}),(0,Dv.jsx)(gv,{path:"/help",element:(0,Dv.jsx)(bN,{})})]})]})})})]})}}]),n}(e.Component),_N=wN,xN=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kN(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var CN=r.createRoot(document.getElementById("root"));window.deferredPrompt=null,window.installBannerDisplayed=!window.matchMedia("(display-mode: standalone)").matches,window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),window.deferredPrompt=e})),CN.render((0,Dv.jsx)(e.StrictMode,{children:(0,Dv.jsx)(_N,{})})),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");xN?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):kN(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):kN(t,e)}))}}()}()}();
//# sourceMappingURL=main.80974fc5.js.map